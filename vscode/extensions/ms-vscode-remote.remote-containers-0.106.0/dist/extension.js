!function(e,t){for(var r in t)e[r]=t[r]}(exports,function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=170)}([function(e,t){e.exports=require("util")},function(e,t){e.exports=require("path")},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;function i(e,t){return n.call(e,t)}function o(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!=(65535&e)&&65534!=(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function s(e){if(e>65535){var t=55296+((e-=65536)>>10),r=56320+(1023&e);return String.fromCharCode(t,r)}return String.fromCharCode(e)}var a=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,c=new RegExp(a.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),u=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,l=r(230);var h=/[&<>"]/,f=/[&<>"]/g,p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function d(e){return p[e]}var m=/[.?*+^$[\]\\(){}|-]/g;var g=r(167);t.lib={},t.lib.mdurl=r(231),t.lib.ucmicro=r(423),t.assign=function(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(r){e[r]=t[r]}))}})),e},t.isString=function(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)},t.has=i,t.unescapeMd=function(e){return e.indexOf("\\")<0?e:e.replace(a,"$1")},t.unescapeAll=function(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(c,(function(e,t,r){return t||function(e,t){var r=0;return i(l,t)?l[t]:35===t.charCodeAt(0)&&u.test(t)&&o(r="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10))?s(r):e}(e,r)}))},t.isValidEntityCode=o,t.fromCodePoint=s,t.escapeHtml=function(e){return h.test(e)?e.replace(f,d):e},t.arrayReplaceAt=function(e,t,r){return[].concat(e.slice(0,t),r,e.slice(t+1))},t.isSpace=function(e){switch(e){case 9:case 32:return!0}return!1},t.isWhiteSpace=function(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},t.isMdAsciiPunct=function(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},t.isPunctChar=function(e){return g.test(e)},t.escapeRE=function(e){return e.replace(m,"\\$&")},t.normalizeReference=function(e){return e=e.trim().replace(/\s+/g," "),"Ṿ"==="ẞ".toLowerCase()&&(e=e.replace(/ẞ/g,"ß")),e.toLowerCase().toUpperCase()}},function(e,t){e.exports=require("fs")},function(e,t,r){try{var n=r(0);if("function"!=typeof n.inherits)throw"";e.exports=n.inherits}catch(t){e.exports=r(264)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),i=r(26),o=r(3),s=r(15),a=r(7),c=r(240),u=r(16),l=r(35);var h=r(35);t.createLog=h.createLog;const f=r(8);var p=r(8);t.LogLevel=p.LogLevel;const d=r(40),m=r(41),g=r(31),v=r(153),y=r(155),w=r(340),b=r(0),E=r(26),_=r(96),C=r(188);t.fileDocuments={async readDocument(e){switch(e.scheme){case"file":try{return(await E.readFile(e.fsPath)).toString()}catch(e){if(e&&"ENOENT"===e.code)return;throw e}default:throw new Error(`Unsupported scheme: ${e.toString()}`)}},async applyEdits(e,t){switch(e.scheme){case"file":try{const r=(await E.readFile(e.fsPath)).toString(),n=g.applyEdits(r,t);await E.writeFile(e.fsPath,n)}catch(r){if(!r||"ENOENT"!==r.code)throw r;const n=g.applyEdits("",t);await E.writeFile(e.fsPath,n)}break;default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}};class S{constructor(e){this.shellServer=e}async readDocument(e){switch(e.scheme){case"file":return t.fileDocuments.readDocument(e);case"vscode-remote":try{const{stdout:t}=await this.shellServer.exec(`cat ${e.path}`);return t}catch(e){return}default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}async applyEdits(e,r){switch(e.scheme){case"file":await t.fileDocuments.applyEdits(e,r);break;case"vscode-remote":try{if(!S.nonce){const e=await b.promisify(s.randomBytes)(20);S.nonce=e.toString("hex")}const{stdout:t}=await this.shellServer.exec(`cat ${e.path}`),n=g.applyEdits(t,r),i=`EOF-${S.nonce}`;await this.shellServer.exec(`cat <<'${i}' >${e.path}\n${n}\n${i}\n`)}catch(e){console.log(e)}break;default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}}t.AllDocuments=S,t.portForwardedEvent="portForwarded";let k={},x=void 0;async function D(){if(x&&x+1e4>Date.now())return k;const e={};try{const t=await f.exec("docker context inspect");if(null!==t.error)console.error(`Failed to process Docker context. Falling back to default. Error: ${t.error}`);else{const r=JSON.parse(t.stdout)[0];if("default"!==r.Name){const t=r.Endpoints.docker.Host;if("unix://"===t.substr(0,7))e.socketPath=t.substring(7);else if("npipe://"===t.substr(0,8))e.socketPath=t.substring(8);else{const r=R(t)||{host:"localhost",port:2375};e.host=r.host,e.port=r.port}if(r.TLSMaterial.docker){const t=await async function(e,t){if(t.indexOf("IN MEMORY")<0)return n.join(t,"docker");const r=process.env.DOCKER_CONFIG||n.join(a.homedir(),".docker"),o=await async function(e,t){const r=n.join(t,"contexts","meta"),o=await i.readdir(r);for(const t of o){if(JSON.parse(await i.readFile(n.join(r,t.toString(),"meta.json")).toString()).Name===e)return t.toString()}return}(e,r),s=o?n.join(r,"contexts","tls",o,"docker"):process.env.DOCKER_CERT_PATH;return s&&i.exists(s)?s:void 0}(r.Name,r.Storage.TLSPath);t?(r.TLSMaterial.docker.indexOf("ca.pem")>-1&&(e.ca=C(n.join(t,"ca.pem"))),r.TLSMaterial.docker.indexOf("cert.pem")>-1&&(e.cert=(await i.readFile(n.join(t,"cert.pem"))).toString()),r.TLSMaterial.docker.indexOf("key.pem")>-1&&(e.key=(await i.readFile(n.join(t,"key.pem"))).toString())):console.error(`Unable to determine TLSPath for context ${r.Name}.`)}process.env.DOCKER_CLIENT_TIMEOUT&&(e.timeout=parseInt(process.env.DOCKER_CLIENT_TIMEOUT,10)),process.env.DOCKER_VERSION&&(e.version=process.env.DOCKER_VERSION),process.env.DOCKER_TLS_VERIFY=r.Endpoints.docker.SkipTLSVerify?"0":"1"}}}catch(e){console.error(`Failed to process Docker context. Falling back to default. Error: ${e}`)}return x=Date.now(),k=e,e}function A(e){var t,r,n;const i="win32"===process.platform&&!process.env.SSH_AUTH_SOCK;if(!e&&!i)return process.env;const o={...process.env};return(null===(t=e)||void 0===t?void 0:t.host)&&(o.DOCKER_HOST=e.host),(null===(r=e)||void 0===r?void 0:r.certPath)&&(o.DOCKER_CERT_PATH=e.certPath),(null===(n=e)||void 0===n?void 0:n.tlsVerify)&&(o.DOCKER_TLS_VERIFY=e.tlsVerify),i&&(o.SSH_AUTH_SOCK=_.windowsDefaultAuthSock),o}t.newDocker=async function(e){const t=process.env;try{return process.env=A(e),e?new c:new c(await D())}finally{process.env=t}},t.newDockerEnv=A;const T=/^([^:]+:\/\/)?([^:]+):(\d+)$/;function R(e){const t=e&&T.exec(e);if(!t)return;const[,,r,n]=t;return{host:r,port:Number(n)}}async function I(e,t,r,n,i,o={}){const s=`Run: ${t} ${r.join(" ").replace(/\n.*/g,"")}`,a=n.start(s),c=await i("node-pty");if(!c)throw new Error("Missing node-pty");const u={...process.env,...o.env||{}};t=await f.findWindowsExecutable(t,e,u);const l=new Promise((i,s)=>{let a="";const l=c.spawn(t,r,{cwd:e,env:u,cols:999,rows:100,useConpty:!1});l.on("data",e=>{a+=e,n.write(e),o.resolveOn&&o.resolveOn.exec(a)&&i({cmdOutput:a})}),l.on("exit",e=>{try{e?s({message:`Command failed: ${t} ${r.join(" ")}`,cmdOutput:a,code:e}):i({cmdOutput:a})}catch(e){s(e)}})});try{return await l}finally{n.stop(s,a)}}function P(e,t){return O(e.configFilePath,t)}function O(e,t){const r=F(e);return e.with({path:n.posix.resolve(r.path,"win32"===process.platform&&"file"===e.scheme?t.replace(/\\/g,"/"):t)})}function F(e){const t=n.posix.dirname(e.path);return e.with({path:t})}async function N(e,t,r,n="",i){const o=L(t,r,n,i);return I(e.cwd,"docker",o,e.output,e.loadNativeModule,i?Object.assign({},i,{env:e.env}):{env:e.env})}function L(e,t,r,n){const i=["exec"];if(r&&i.push("-w",r),i.push("-u",n&&n.user||e.user),n&&n.stdin&&i.push("-i"),n&&n.dockerEnv){const e=n.dockerEnv;for(const t in e)i.push("-e",`${t}=${e[t]}`)}return i.push(e.id,...t),i}function B(e){return e?e.Ports:[]}function M(e){return B(e).filter(e=>!!e.PublicPort)}function U(e){return P(e,j(e))}function j(e){return"dockerFile"in e?e.dockerFile:e.build.dockerfile}function H(e){return(e.find(e=>-1===e.indexOf("/",1))||e[0]).substr(1)}function q(e){return(e||[]).reduce((e,t)=>{const r=t.indexOf("=");return-1!==r&&(e[t.substr(0,r)]=t.substr(r+1)),e},{})}t.parseDockerHost=R,t.findTargetContainerById=async function(e,t){const r=await e.listContainers({all:!0,filters:{id:[t]}});return r&&r[0]},t.findTargetContainerByName=async function(e,t){return(await e.listContainers({all:!0,filters:{name:[t]}})||[]).filter(e=>H(e.Names)===t)[0]},t.runCommand=I,t.logEvents=async function(e,t,r){(await e.getEvents({filters:{container:[t]}})).on("data",e=>{o.appendFile(r,e,e=>{e&&console.error(e)})})},t.eventOrStatus=async function(e,t,r){const n=await e.getEvents({filters:{container:[t],event:[r]}});return new Promise(i=>{n.on("data",()=>{n.removeAllListeners(),i()}),e.getContainer(t).inspect().then(e=>{"kill"!==r||e.State.Running?"die"===r&&e.State.Dead&&i():i()},e=>{"die"===r&&e&&404===e.statusCode&&i()})})},t.startEventSeen=async function(e,t,r,n,i){const o=await e.getEvents({filters:{status:["started"]}});return{started:new Promise((e,s)=>{r.catch(e=>{o.removeAllListeners("data"),s(e)}),o.on("data",async r=>{try{if(r){const s=r.toString();i&&n.write(`Log: startEventSeen#data ${s.trim().replace(/\r?\n/g,"\r\n")}\r\n`);for(const r of s.split("\n"))if(r.trim()){const n=JSON.parse(r);"start"===n.status&&n.Actor&&n.Actor.Attributes&&Object.keys(t).every(e=>n.Actor.Attributes[e]===t[e])&&(o.removeAllListeners("data"),e())}}}catch(e){console.error(e),console.error(r.toString())}})})}},t.printPortInfo=function(e,t,r,n){const i=r.Ports.filter(e=>!!e.PublicPort),o=[...i.length?["Published Ports:"]:[],...i.map(e=>`${e.PrivatePort}/${e.Type} -> ${e.IP}:${e.PublicPort}`),...i.length?[""]:[],...e.web?[`VS Code Web: http://localhost:${t}?tkn=${d.connectionToken}&${m.isWorkspacePath(n||"")?"workspace":"folder"}=${encodeURIComponent(`vscode-remote://${e.authority}${n||"/root"}`)}`,""]:[]],s=o.reduce((e,t)=>Math.max(t.length,e),0),a="-".repeat(s);s>0&&e.output.write(`\r\n\r\n${a}\r\n${o.join("\r\n")}${a}\r\n\r\n`)},t.ensureDockerRunning=async function({common:e,connection:t}){const{output:r}=e,{docker:n}=t,i="Check Docker is running",o=r.start(i);try{await n.info()}catch(e){throw new u.ContainerError({description:"Docker returned an error. Make sure the Docker daemon is running and select an option how to proceed.",originalError:`Docker returned an error code ${e.code}, message: ${e.message}`})}finally{r.stop(i,o)}},t.inspectImage=async function({common:e,connection:t},r){const{docker:n}=t;try{return await n.getImage(r).inspect()}catch(t){const i=I(e.cwd,"docker",["pull",r],e.output,e.loadNativeModule,{env:e.env});return await f.showProgress(e,`Downloading image '${r}'.`,i),n.getImage(r).inspect()}},t.isDevContainerAuthority=function(e){return void 0!==e.hostPath},t.getParseDevContainerAuthority=function(e){const[t,r]=e.split("+"),n="dev-container"===t?Buffer.from(r,"hex").toString("utf8"):void 0;if(!n)return;if(!n.startsWith("{"))return{hostPath:n};const i=JSON.parse(n);return"repositoryPath"in i?i.dockerHost?{repositoryPath:i.repositoryPath,settings:{host:`tcp://${i.dockerHost.host}:${i.dockerHost.port}`}}:i:i.dockerHost?{hostPath:i.hostPath,settings:{host:`tcp://${i.dockerHost.host}:${i.dockerHost.port}`}}:i},t.getDevContainerUri=function(e,t,r){const n=r?JSON.stringify({hostPath:e,settings:r}):e;return`vscode-remote://dev-container+${Buffer.from(n,"utf8").toString("hex")}${t}`},t.getRepositoryDevContainerUri=function(e,t,r,n){const i=y.repositoryFromPath(e);if(!t){const t=JSON.stringify({repositoryPath:e,settings:n});return`vscode-remote://dev-container+${Buffer.from(t,"utf8").toString("hex")}${i.getOldWorkspacePath(e)}`}const o=JSON.stringify({repositoryPath:e,volumeName:t,folder:r,settings:n});return`vscode-remote://dev-container+${Buffer.from(o,"utf8").toString("hex")}${i.workspaceFolder(r)}`},t.forceRemoveContainer=async function(e,t){const r=await e.getContainer(t);r&&await r.remove({force:!0})},t.getParseAttachedContainerAuthority=function(e){const[t,r]=e.split("+"),n="attached-container"===t?Buffer.from(r,"hex").toString("utf8"):void 0;if(!n)return;if(!n.startsWith("{"))return{containerId:n};const i=JSON.parse(n);return i.dockerHost&&(i.settings={host:`tcp://${i.dockerHost.host}:${i.dockerHost.port}`},delete i.dockerHost),i},t.getAttachedContainerAuthority=function(e,t){const r=JSON.stringify({containerName:e,settings:t});return`attached-container+${Buffer.from(r,"utf8").toString("hex")}`},t.getHostMountFolder=async function(e,t){let r=e;try{const{stdout:n}=await f.exec("git rev-parse --show-toplevel",{output:t,cwd:e});r=n.trim()}catch(e){}return r},t.getWorkspaceFolderFromHost=function(e,t){const r=n.relative(n.dirname(e),t);return`/workspaces/${"win32"===process.platform?r.replace(/\\/g,"/"):r}`},t.getWorkspaceConfiguration=async function(e,t,r,i){let{workspaceFolder:o,workspaceMount:s}=t;if(!(o&&"workspaceMount"in t)){let a=e.rootFolderPath;try{const{stdout:e}=await f.exec("git rev-parse --show-toplevel",{output:r,cwd:a});a=e.trim()}catch(e){}if(!o){const t=n.relative(n.dirname(a),e.workspaceOrFolderPath);o=`/workspaces/${"win32"===process.platform?t.replace(/\\/g,"/"):t}`}"workspaceMount"in t||(s=`type=bind,source=${a},target=/workspaces/${n.basename(a)},consistency=${i||"consistent"}`)}return{workspaceFolder:o,workspaceMount:s}},t.tildify=function(e,t,r){if("win32"===e)return t;let n=`${function(e,t){if(0===t.length)return e;for(;e.endsWith(t);)e=e.substr(0,e.length-t.length);return e}(r,"/")}/`;return("linux"===e?t.startsWith(n):t.toLowerCase().startsWith(n.toLowerCase()))&&(t=`~/${t.substr(n.length)}`),t},t.getConfigFilePath=P,t.resolveConfigFilePath=O,t.resolveURIPath=function(e,t){return e.with({path:n.posix.resolve(e.path,t)})},t.parentURI=F,t.toLinuxVMPath=function(e){if(!e||"win32"!==process.platform)return e;const t=e.replace(/\\/g,"/");return`/host_mnt/${t[0].toLowerCase()}${t.substr(2)}`},t.dockerExec=N,t.dockerExecNoPty=async function(e,t,r,n="",i){const o=L(t,r,n,i);return f.runCommandNoPty(e.cwd,"docker",o,e.output,i?Object.assign({},i,{env:e.env}):{env:e.env})},t.parseVersion=function(e){const t=/^'?(\d+(\.\d+)*)/.exec(e);if(t)return t[1].split(".").map(e=>parseInt(e,10))},t.isEarlierVersion=function(e,t){for(let r=0,n=Math.max(e.length,t.length);r<n;r++){const n=e[r]||0,i=t[r]||0;if(n!==i)return n<i}return!1},t.getStaticPorts=B,t.getStaticForwardedPorts=M,t.getStaticExposedPorts=function(e){return B(e).filter(e=>!e.PublicPort)},t.getStaticNonForwardedPortsFromListeningPorts=function(e,t,r){const n=t.properties.userDataFolder,i=n+"/";return r.filter(t=>!t.process.cmd.startsWith(i)&&t.process.cwd!==n&&!t.process.cwd.startsWith(i)&&!M(e).find(e=>e.PrivatePort===t.port))},t.getForwardedPorts=function(e){return[...e.params.common.forwardedPorts].reduce((e,t)=>e.set(t.targetPort,t),new Map)},t.shorten=function(e,t){return e.length>t?e.slice(0,t-1)+"…":e},t.setupAndConfigureShutdownMonitor=async function(e,t,r,n,i){const{common:o,onRemoveOnShutdownChanged:s}=e,a=o.output.start("Setup shutdown monitor"),c=await w.setupMonitor(r,o.logLevel,o.output);w.configureMonitor(c,n,o.output).catch(e=>console.error(e)),s&&s.on("changed",async e=>{n.rebuild=e,n.delay=0,await w.configureMonitor(c,n,o.output)}),o.onDidChangeLogLevel(async e=>{n.logLevel=e,await w.configureMonitor(c,n,o.output)});const u={};return o.shutdowns.push(async()=>{const e=w.cleanupMonitor(c);u.hostPortServer&&await b.promisify(u.hostPortServer.close.bind(u.hostPortServer))(),await e}),i&&v.checkConfigurationState(e,t,i).catch(console.error),o.output.stop("Setup shutdown monitor",a),{monitor:c,shutdownArgs:u}},t.getTunnelInformation=function(e){return{environmentTunnels:M(e).map(e=>({remoteAddress:{port:e.PrivatePort,host:e.IP},localAddress:e.IP+":"+e.PublicPort}))}},t.getDockerfilePath=U,t.getDockerfile=j,t.getDockerContextPath=function(e){const t="dockerFile"in e?e.context:e.build.context;return t?P(e,t):F(U(e))},t.getContainerName=H,t.createContainerProperties=async function({common:e,connection:t},r,n,i,o){const s=e.output.start("Inspecting container"),a=await t.docker.getContainer(r).inspect();e.output.stop("Inspecting container",s);let c=i||a.Config.User||"root";"0"===c&&(c="root");const u=q(a.Config.Env),h=l.dockerExecFunction(e.cwd,r,e.env,c),f=l.dockerExecFunction(e.cwd,r,e.env,"root");return d.getContainerProperties(e,n,c,u,h,f,o)},t.getHomeFolderFromImage=async function(e,t){const r=q(t.Config.Env),n=r.HOME;if(n)return n;const{stdout:i}=await f.runCommandNoPty(e.cwd,"docker",["create",t.Id],e.output,{env:e.env}),o=i.toString().trim();try{const n=l.dockerExecFunction(e.cwd,o,e.env,"root"),i=await d.cat(e,n,"/etc/passwd"),s=d.findUserInEtcPasswd(i.toString(),t.Config.User||"root");return d.getHomeFolder(r,s)}finally{I(e.cwd,"docker",["rm",o],e.output,e.loadNativeModule,{env:e.env}).catch(console.error)}},t.runUserCommand=async function(e,t){if(!t)return;const r="win32"===process.platform?[process.env.ComSpec||"cmd.exe","/c"]:["/bin/sh","-c"],n="string"==typeof t?[...r,t]:t;n.length&&await I(e.cwd,n[0],n.slice(1),e.output,e.loadNativeModule,{env:e.env})},t.runUserCommandInContainer=async function(e,t,r,n,i){if(!i)return;const o="string"==typeof i?["/bin/sh","-c",i]:i;o.length&&await N(e,{id:t,user:r},o,n)},t.isDockerFileConfig=function(e){return"dockerFile"in e||"build"in e&&"dockerfile"in e.build}},function(e,t){e.exports=require("events")},function(e,t){e.exports=require("os")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),i=r(3),o=r(28),s=r(16);function a(e,t){return"linux"===process.platform?e===t:e.toLowerCase()===t.toLowerCase()}async function c(e,t,r){if("win32"!==process.platform)return e;if(n.isAbsolute(e))return e;if("."!==n.dirname(e))return n.join(t,e);let i=void 0;if(r)for(let e of Object.keys(r))if("path"===e.toLowerCase()){const t=r[e];"string"==typeof t&&(i=t.split(n.delimiter));break}if(void 0===i||0===i.length)return n.join(t,e);for(let r of i){let i;if(i=n.isAbsolute(r)?n.join(r,e):n.join(t,r,e),await u(i))return i;let o=i+".com";if(await u(o))return o;if(o=i+".exe",await u(o))return o}return n.join(t,e)}function u(e){return new Promise(t=>i.stat(e,(e,r)=>{t(!e&&r.isFile())}))}!function(e){e[e.Trace=1]="Trace",e[e.Debug=2]="Debug",e[e.Info=3]="Info",e[e.Warning=4]="Warning",e[e.Error=5]="Error",e[e.Critical=6]="Critical",e[e.Off=7]="Off"}(t.LogLevel||(t.LogLevel={})),t.equalPaths=a,t.isEqualOrParent=function(e,t){return e===t||!(!e||!t)&&(!(t.length>e.length)&&(!(e.length>t.length&&e.charAt(t.length)!==n.sep)&&a(t,e.substr(0,t.length))))},t.findProcesses=async function(e){const{stdout:t}=await e.exec("for pid in `cd /proc && ls -d [0-9]*`; do { echo $pid ; readlink -f /proc/$pid/cwd ; xargs -0 < /proc/$pid/environ ; xargs -0 < /proc/$pid/cmdline ; } ; echo ; done 2>/dev/null",{logOutput:!1});return t.split("\n\n").map(e=>e.split("\n")).filter(e=>e.length>=4).map(e=>({pid:e[0],cwd:e[1],cmd:e[3],env:e[2].split(" ").reduce((e,t)=>{const r=t.indexOf("=");return-1!==r&&(e[t.substr(0,r)]=t.substr(r+1)),e},{})}))},t.tsnode=n.join(__dirname,"..","..","node_modules",".bin","ts-node"),t.isTsnode="ts-node"===n.basename(process.argv[0])||-1!==process.argv.indexOf("ts-node/register"),t.fork=t.isTsnode?(e,r,n)=>o.spawn(t.tsnode,[e,...r||[]],n):o.fork,t.runCommandNoPty=async function(e,t,r,n,a={}){const u=`Run: ${t} ${r.join(" ").replace(/\n.*/g,"")}`;let l;a.silent||(l=n.start(u));const h={...process.env,...a.env||{}};return t=await c(t,e,h),new Promise((c,f)=>{const p=[],d=[],m=o.spawn(t,r,{cwd:e,env:h});m.stdout.on("data",e=>{p.push(e)}),m.stderr.on("data",e=>{d.push(e)}),m.on("exit",e=>{try{const i=Buffer.concat(p),o=Buffer.concat(d);a.print&&(n.write(i.toString().replace(/\r?\n/g,"\r\n")),n.write(s.toErrorText(o.toString()))),a.silent||n.stop(u,l),e?f({message:`Command failed: ${t} ${r.join(" ")}`,stdout:i,stderr:o,code:e}):c({stdout:i,stderr:o})}catch(e){f(e)}}),a.stdin instanceof Buffer?m.stdin.write(a.stdin,e=>{e?f(e):m.stdin.end()}):a.stdin instanceof i.ReadStream&&a.stdin.pipe(m.stdin)})},t.findWindowsExecutable=c,t.showProgress=async function(e,t,r){e.progress.report({message:t});try{return await r}catch(r){throw e.output.write(`[1m[31mFailed: ${t}[39m[22m\r\n`),r}},t.exec=function(e,t={}){return new Promise((r,n)=>{const i=`Run: ${e}`,s=t.output&&t.output.start(i),a=o.exec(e,t,(e,o,a)=>{(e?n:r)({error:e,stdout:o,stderr:a}),t.output&&t.output.stop(i,s)});t.stdin&&a.stdin.write(t.stdin,e=>{e&&console.error(e),a.stdin.end(e=>{e&&console.error(e)})})})}},function(e,t,r){"use strict";var n=r(75),i=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],o=["scalar","sequence","mapping"];e.exports=function(e,t){var r,s;if(t=t||{},Object.keys(t).forEach((function(t){if(-1===i.indexOf(t))throw new n('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')})),this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.defaultStyle=t.defaultStyle||null,this.styleAliases=(r=t.styleAliases||null,s={},null!==r&&Object.keys(r).forEach((function(e){r[e].forEach((function(t){s[String(t)]=e}))})),s),-1===o.indexOf(this.kind))throw new n('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("stream")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(216),i=r(216);t.makePatchingRequire=i.makePatchingRequire;var o=function(e){return!0},s=function(){function e(){this.version=r(345).version,this.subscribers={},this.contextPreservationFunction=function(e){return e},this.knownPatches={},this.currentlyPublishing=!1}return e.prototype.shouldPublish=function(e){var t=this.subscribers[e];return!!t&&t.some((function(e){var t=e.filter;return!t||t(!1)}))},e.prototype.publish=function(e,t){if(!this.currentlyPublishing){var r=this.subscribers[e];if(r){var n={timestamp:Date.now(),data:t};this.currentlyPublishing=!0,r.forEach((function(e){var t=e.listener,r=e.filter;try{r&&r(!0)&&t(n)}catch(e){}})),this.currentlyPublishing=!1}}},e.prototype.subscribe=function(e,t,r){void 0===r&&(r=o),this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push({listener:t,filter:r})},e.prototype.unsubscribe=function(e,t,r){void 0===r&&(r=o);var n=this.subscribers[e];if(n)for(var i=0;i<n.length;++i)if(n[i].listener===t&&n[i].filter===r)return n.splice(i,1),!0;return!1},e.prototype.reset=function(){var e=this;this.subscribers={},this.contextPreservationFunction=function(e){return e},Object.getOwnPropertyNames(this.knownPatches).forEach((function(t){return delete e.knownPatches[t]}))},e.prototype.bindToContext=function(e){return this.contextPreservationFunction(e)},e.prototype.addContextPreservation=function(e){var t=this.contextPreservationFunction;this.contextPreservationFunction=function(r){return e(t(r))}},e.prototype.registerMonkeyPatch=function(e,t){this.knownPatches[e]||(this.knownPatches[e]=[]),this.knownPatches[e].push(t)},e.prototype.getPatchesObject=function(){return this.knownPatches},e}();global.diagnosticsSource||(global.diagnosticsSource=new s,r(218).prototype.require=n.makePatchingRequire(global.diagnosticsSource.getPatchesObject()));t.channel=global.diagnosticsSource},function(e,t,r){"use strict";var n=function(){function e(){}return e.info=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];e.enableDebug&&console.info(e.TAG+t,r)},e.warn=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];e.disableWarnings||console.warn(e.TAG+t,r)},e.enableDebug=!1,e.disableWarnings=!1,e.TAG="ApplicationInsights:",e}();e.exports=n},function(e,t){e.exports=require("buffer")},function(e,t){e.exports=require("crypto")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.originalError&&e.originalError.message||e.description),this.manageContainer=!1,this.actions=[],this.data={},Object.assign(this,e)}}t.ContainerError=n,t.bailOut=function(e,t){throw e.write(`[1m[31m${t}[39m[22m\n`),new Error(t)},t.toErrorText=function(e){return e.split(/\r?\n/).map(e=>`[1m[31m${e}[39m[22m`).join("\r\n")+"\r\n"}},function(e,t){var r=[],n=r.forEach,i=r.slice;e.exports.extend=function(e){return n.call(i.call(arguments,1),(function(t){if(t)for(var r in t)e[r]=t[r]})),e},e.exports.processArgs=function(t,r,n){return r||"function"!=typeof t||(r=t,t=null),{callback:r,opts:e.exports.extend({},n,t)}},e.exports.parseRepositoryTag=function(e){var t,r=e.indexOf("@"),n=e.lastIndexOf(":");if(r>=0)t=r;else{if(!(n>=0))return{repository:e};t=n}var i=e.slice(t+1);return-1===i.indexOf("/")?{repository:e.slice(0,t),tag:i}:{repository:e}}},function(e,t){e.exports=require("vscode")},function(e,t,r){"use strict";e.exports=function(e,t){var r,n;function i(o){if(r=o,n)return i.abort();!function i(){for(var o=!0,s=!1;o;)if(s=!1,r(null,(function(a,c){if(s=!0,a=a||n){if(o=!1,t)t(!0===a?null:a);else if(a&&!0!==a)throw a}else e&&!1===e(c)||n?(o=!1,r(n||!0,t||function(){})):o||i()})),!s)return void(o=!1)}()}return i.abort=function(e,t){if("function"==typeof e&&(t=e,e=!0),n=e||!0,r)return r(n,t||function(){})},i}},function(e,t){e.exports=function(e){return e&&("string"==typeof e?function(t){return t[e]}:"object"==typeof e&&"function"==typeof e.exec?function(t){var r=e.exec(t);return r&&r[0]}:e)}},function(e,t,r){"use strict";var n=r(30);Array.isArray;t.set=function(e,t,r){for(var n,i,o=0;o<t.length;o++){var s=t[o];e[s]=e[s]||{},n=e,i=s,e=e[s]}n[i]=r},t.get=function(e,t){if("string"==typeof t)return e[t];for(var r,n=0;n<t.length;n++){if(r=e=e[t[n]],null==e)return e}return r},t.prefix=function(e,t){for(var r,n=0;n<t.length;n++){if(r=e=e[t[n]],"object"!=typeof e)return e;e}return"object"!=typeof r&&!!r};t.mount=function(e,t,r){if(!Array.isArray(t))throw new Error("path must be array of strings");return function(e,t){for(var r in t)e[r]=t[r];return e}(function(e,t){for(var r in t){var n=t[r];e[n]||(e[n]={}),e=e[n]}return e}(e,t),r)},t.unmount=function(e,t){return function(e,t){!function e(r,n){var i=t[n];r&&(t.length-1===n?delete r[i]:n<t.length&&e(r[i],n+1),function(e){for(var t in e)return!1;return!0}(r[i])&&delete r[i])}(e,0)}(e,t)};function i(e){return"source"===e}function o(e){return"sink"===e}function s(e){return"duplex"===e}function a(e){return function(t){t(e||!0,(function(){}))}}function c(e){return{source:n.error(e),sink:a(e)}}t.errorAsStream=function(e,t){return i(e)?n.error(t):o(e)?a(t):c(t)},t.errorAsStreamOrCb=function(e,t,r){return function(e){return"sync"===e}(s=e)||function(e){return"async"===e}(s)?r(t):i(e)?n.error(t):o(e)?a(t):r(t),c(t);var s},t.pipeToStream=function(e,t,r){i(e)?t(r):o(e)?r(t):s(e)&&n(t,r,t)}},function(e,t,r){"use strict";e.exports=function(e,t){var r,n;function i(o){if(r=o,n)return i.abort();!function i(){for(var o=!0,s=!1;o;)if(s=!1,r(null,(function(a,c){if(s=!0,a=a||n){if(o=!1,t)t(!0===a?null:a);else if(a&&!0!==a)throw a}else e&&!1===e(c)||n?(o=!1,r(n||!0,t||function(){})):o||i()})),!s)return void(o=!1)}()}return i.abort=function(e,t){if("function"==typeof e&&(t=e,e=!0),n=e||!0,r)return r(n,t||function(){})},i}},function(e,t){e.exports=function(e){return e&&("string"==typeof e?function(t){return t[e]}:"object"==typeof e&&"function"==typeof e.exec?function(t){var r=e.exec(t);return r&&r[0]}:e)}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(375)),n(r(223)),n(r(390))},function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=r(10),o=r(37),s=r(32),a=r(202),c=r(13),u=r(80),l=function(){function e(){}return e.getCookie=function(t,r){var n="";if(t&&t.length&&"string"==typeof r)for(var i=t+"=",o=r.split(";"),s=0;s<o.length;s++){r=o[s];if((r=e.trim(r))&&0===r.indexOf(i)){n=r.substring(i.length,o[s].length);break}}return n},e.trim=function(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,""):""},e.int32ArrayToBase64=function(e){var t=function(e,t){return String.fromCharCode(e>>t&255)},r=e.map((function(e){return t(e,24)+t(e,16)+t(e,8)+t(e,0)})).join(""),n=(Buffer.from?Buffer.from(r,"binary"):new Buffer(r,"binary")).toString("base64");return n.substr(0,n.indexOf("="))},e.random32=function(){return 4294967296*Math.random()|0},e.randomu32=function(){return e.random32()+2147483648},e.w3cTraceId=function(){for(var t,r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",i=0;i<4;i++)n+=r[15&(t=e.random32())]+r[t>>4&15]+r[t>>8&15]+r[t>>12&15]+r[t>>16&15]+r[t>>20&15]+r[t>>24&15]+r[t>>28&15];var o=r[8+4*Math.random()|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+o+n.substr(16,3)+n.substr(19,12)},e.isValidW3CId=function(e){return 32===e.length&&"00000000000000000000000000000000"!==e},e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.isError=function(e){return e instanceof Error},e.isPrimitive=function(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t},e.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},e.msToTimeSpan=function(e){(isNaN(e)||e<0)&&(e=0);var t=(e/1e3%60).toFixed(7).replace(/0{0,4}$/,""),r=""+Math.floor(e/6e4)%60,n=""+Math.floor(e/36e5)%24,i=Math.floor(e/864e5);return t=t.indexOf(".")<2?"0"+t:t,r=r.length<2?"0"+r:r,(i>0?i+".":"")+(n=n.length<2?"0"+n:n)+":"+r+":"+t},e.extractError=function(e){var t=e;return{message:e.message,code:t.code||t.id||""}},e.extractObject=function(t){return t instanceof Error?e.extractError(t):"function"==typeof t.toJSON?t.toJSON():t},e.validateStringMap=function(t){if("object"==typeof t){var r={};for(var n in t){var i="",o=t[n],s=typeof o;if(e.isPrimitive(o))i=o.toString();else if(null===o||"undefined"===s)i="";else{if("function"===s){c.info("key: "+n+" was function; will not serialize");continue}var a=e.isArray(o)?o:e.extractObject(o);try{i=e.isPrimitive(a)?a:JSON.stringify(a)}catch(e){i=o.constructor.name.toString()+" (Error: "+e.message+")",c.info("key: "+n+", could not be serialized")}}r[n]=i.substring(0,e.MAX_PROPERTY_LENGTH)}return r}c.info("Invalid properties dropped from payload")},e.canIncludeCorrelationHeader=function(e,t){var r=e&&e.config&&e.config.correlationHeaderExcludedDomains;if(!r||0==r.length||!t)return!0;for(var n=0;n<r.length;n++){if(new RegExp(r[n].replace(/\./g,".").replace(/\*/g,".*")).test(s.parse(t).hostname))return!1}return!0},e.getCorrelationContextTarget=function(e,t){var r=e.headers&&e.headers[u.requestContextHeader];if(r)for(var n=r.split(","),i=0;i<n.length;++i){var o=n[i].split("=");if(2==o.length&&o[0]==t)return o[1]}},e.makeRequest=function(t,r,a,u){r&&0===r.indexOf("//")&&(r="https:"+r);var l=s.parse(r),h=n({},a,{host:l.hostname,port:l.port,path:l.pathname}),f=void 0;if("https:"===l.protocol&&(f=t.proxyHttpsUrl||void 0),"http:"===l.protocol&&(f=t.proxyHttpUrl||void 0),f){0===f.indexOf("//")&&(f="http:"+f);var p=s.parse(f);"https:"===p.protocol?(c.info("Proxies that use HTTPS are not supported"),f=void 0):h=n({},h,{host:p.hostname,port:p.port||"80",path:r,headers:n({},h.headers,{Host:l.hostname})})}var d="https:"===l.protocol&&!f;return d&&void 0!==t.httpsAgent?h.agent=t.httpsAgent:d||void 0===t.httpAgent?d&&(h.agent=e.tlsRestrictedAgent):h.agent=t.httpAgent,d?o.request(h,u):i.request(h,u)},e.safeIncludeCorrelationHeader=function(t,r,n){var i;if("string"==typeof n)i=n;else if(n instanceof Array)i=n.join(",");else if(n&&"function"==typeof n.toString)try{i=n.toString()}catch(e){c.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",e,n)}i?e.addCorrelationIdHeaderFromString(t,r,i):r.setHeader(u.requestContextHeader,u.requestContextSourceKey+"="+t.config.correlationId)},e.addCorrelationIdHeaderFromString=function(e,t,r){var n=r.split(","),i=u.requestContextSourceKey+"=";n.some((function(e){return e.substring(0,i.length)===i}))||t.setHeader(u.requestContextHeader,r+","+u.requestContextSourceKey+"="+e.config.correlationId)},e.MAX_PROPERTY_LENGTH=8192,e.tlsRestrictedAgent=new o.Agent({secureOptions:a.SSL_OP_NO_SSLv2|a.SSL_OP_NO_SSLv3|a.SSL_OP_NO_TLSv1|a.SSL_OP_NO_TLSv1_1}),e}();e.exports=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),i=r(87);t.exists=function(e){return new Promise(t=>n.exists(e,t))},t.readFile=function(e){return i.nfcall(n.readFile,e)},t.mkdir=function(e){return i.nfcall(n.mkdir,e)},t.writeFile=function(e,t){return i.nfcall(n.writeFile,e,t)},t.readdir=function(e){return i.nfcall(n.readdir,e)}},function(e,t,r){var n=r(174).Ber,i=r(38).readUInt32BE,o=r(38).writeUInt32BE,s=1/0;function a(e,t,r,n,o,a){r&&!Buffer.isBuffer(r)&&"string"!=typeof r&&("number"==typeof o&&(a=o),o=n,n=r,r=void 0),t||(t=0);var c,u,l=e.length,h=l-t;return t<0||t>=l||h<4?(n&&n._cleanup(o),!1):(c=i(e,t))>(a||s)||h<4+c?(n&&n._cleanup(o),!1):(u=(t+=4)+c,e._pos=u,r?Buffer.isBuffer(r)?(e.copy(r,0,t,u),r):e.toString(r,t,u):e.slice(t,u))}e.exports={iv_inc:function(e){var t=12,r=0;do{if(255!==(r=e[--t]))return void(e[t]=++r);e[t]=0}while(t>4)},readInt:function(e,t,r,n){var o=e.length;if(t<0||t>=o||o-t<4)return r&&r._cleanup(n),!1;return i(e,t)},readString:a,parseKey:r(176).parseKey,sigSSHToASN1:function(e,t,r,i){var o;switch(t){case"ssh-dss":if(e.length>40)return e;(o=new n.Writer).startSequence();var s=e.slice(0,20),c=e.slice(20);if(128&s[0]){var u=Buffer.allocUnsafe(21);u[0]=0,s.copy(u,1),s=u}else 0!==s[0]||128&s[1]||(s=s.slice(1));if(128&c[0]){var l=Buffer.allocUnsafe(21);l[0]=0,c.copy(l,1),c=l}else 0!==c[0]||128&c[1]||(c=c.slice(1));return o.writeBuffer(s,n.Integer),o.writeBuffer(c,n.Integer),o.endSequence(),o.buffer;case"ecdsa-sha2-nistp256":case"ecdsa-sha2-nistp384":case"ecdsa-sha2-nistp521":return!1!==(s=a(e,0,r,i))&&(!1!==(c=a(e,e._pos,r,i))&&((o=new n.Writer).startSequence(),o.writeBuffer(s,n.Integer),o.writeBuffer(c,n.Integer),o.endSequence(),o.buffer));default:return e}},DSASigBERToBare:function(e){if(e.length<=40)return e;var t=new n.Reader(e);t.readSequence();var r=t.readString(n.Integer,!0),i=t.readString(n.Integer,!0),o=0,s=0;if(r.length<20){var a=Buffer.allocUnsafe(20);r.copy(a,1),(r=a)[0]=0}if(i.length<20){var c=Buffer.allocUnsafe(20);i.copy(c,1),(i=c)[0]=0}r.length>20&&0===r[0]&&(o=1);i.length>20&&0===i[0]&&(s=1);var u=Buffer.allocUnsafe(r.length-o+(i.length-s));return r.copy(u,0,o),i.copy(u,r.length-o,s),u},ECDSASigASN1ToSSH:function(e){if(0===e[0])return e;var t=new n.Reader(e);t.readSequence();var r=t.readString(n.Integer,!0),i=t.readString(n.Integer,!0);if(null===r||null===i)return!1;var s=Buffer.allocUnsafe(4+r.length+4+i.length);return o(s,r.length,0),r.copy(s,4),o(s,i.length,4+r.length),i.copy(s,8+r.length),s}}},function(e,t){e.exports=require("child_process")},function(e,t,r){"use strict";r.r(t),r.d(t,"URI",(function(){return d}));var n,i,o,s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});if("object"==typeof process)o="win32"===process.platform;else if("object"==typeof navigator){var a=navigator.userAgent;o=a.indexOf("Windows")>=0}var c=/^\w[\w\d+.-]*$/,u=/^\//,l=/^\/\//;var h="",f="/",p=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,d=function(){function e(e,t,r,n,i,o){void 0===o&&(o=!1),"object"==typeof e?(this.scheme=e.scheme||h,this.authority=e.authority||h,this.path=e.path||h,this.query=e.query||h,this.fragment=e.fragment||h):(this.scheme=function(e,t){return e||t?e:"file"}(e,o),this.authority=t||h,this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==f&&(t=f+t):t=f}return t}(this.scheme,r||h),this.query=n||h,this.fragment=i||h,function(e,t){if(!e.scheme&&t)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'+e.authority+'", path: "'+e.path+'", query: "'+e.query+'", fragment: "'+e.fragment+'"}');if(e.scheme&&!c.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!u.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}(this,o))}return e.isUri=function(t){return t instanceof e||!!t&&("string"==typeof t.authority&&"string"==typeof t.fragment&&"string"==typeof t.path&&"string"==typeof t.query&&"string"==typeof t.scheme&&"function"==typeof t.fsPath&&"function"==typeof t.with&&"function"==typeof t.toString)},Object.defineProperty(e.prototype,"fsPath",{get:function(){return b(this)},enumerable:!0,configurable:!0}),e.prototype.with=function(e){if(!e)return this;var t=e.scheme,r=e.authority,n=e.path,i=e.query,o=e.fragment;return void 0===t?t=this.scheme:null===t&&(t=h),void 0===r?r=this.authority:null===r&&(r=h),void 0===n?n=this.path:null===n&&(n=h),void 0===i?i=this.query:null===i&&(i=h),void 0===o?o=this.fragment:null===o&&(o=h),t===this.scheme&&r===this.authority&&n===this.path&&i===this.query&&o===this.fragment?this:new g(t,r,n,i,o)},e.parse=function(e,t){void 0===t&&(t=!1);var r=p.exec(e);return r?new g(r[2]||h,decodeURIComponent(r[4]||h),decodeURIComponent(r[5]||h),decodeURIComponent(r[7]||h),decodeURIComponent(r[9]||h),t):new g(h,h,h,h,h)},e.file=function(e){var t=h;if(o&&(e=e.replace(/\\/g,f)),e[0]===f&&e[1]===f){var r=e.indexOf(f,2);-1===r?(t=e.substring(2),e=f):(t=e.substring(2,r),e=e.substring(r)||f)}return new g("file",t,e,h,h)},e.from=function(e){return new g(e.scheme,e.authority,e.path,e.query,e.fragment)},e.prototype.toString=function(e){return void 0===e&&(e=!1),E(this,e)},e.prototype.toJSON=function(){return this},e.revive=function(t){if(t){if(t instanceof e)return t;var r=new g(t);return r._formatted=t.external,r._fsPath=t._sep===m?t.fsPath:null,r}return t},e}(),m=o?1:void 0,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._formatted=null,t._fsPath=null,t}return s(t,e),Object.defineProperty(t.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=b(this)),this._fsPath},enumerable:!0,configurable:!0}),t.prototype.toString=function(e){return void 0===e&&(e=!1),e?E(this,!0):(this._formatted||(this._formatted=E(this,!1)),this._formatted)},t.prototype.toJSON=function(){var e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=m),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e},t}(d),v=((i={})[58]="%3A",i[47]="%2F",i[63]="%3F",i[35]="%23",i[91]="%5B",i[93]="%5D",i[64]="%40",i[33]="%21",i[36]="%24",i[38]="%26",i[39]="%27",i[40]="%28",i[41]="%29",i[42]="%2A",i[43]="%2B",i[44]="%2C",i[59]="%3B",i[61]="%3D",i[32]="%20",i);function y(e,t){for(var r=void 0,n=-1,i=0;i<e.length;i++){var o=e.charCodeAt(i);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||45===o||46===o||95===o||126===o||t&&47===o)-1!==n&&(r+=encodeURIComponent(e.substring(n,i)),n=-1),void 0!==r&&(r+=e.charAt(i));else{void 0===r&&(r=e.substr(0,i));var s=v[o];void 0!==s?(-1!==n&&(r+=encodeURIComponent(e.substring(n,i)),n=-1),r+=s):-1===n&&(n=i)}}return-1!==n&&(r+=encodeURIComponent(e.substring(n))),void 0!==r?r:e}function w(e){for(var t=void 0,r=0;r<e.length;r++){var n=e.charCodeAt(r);35===n||63===n?(void 0===t&&(t=e.substr(0,r)),t+=v[n]):void 0!==t&&(t+=e[r])}return void 0!==t?t:e}function b(e){var t;return t=e.authority&&e.path.length>1&&"file"===e.scheme?"//"+e.authority+e.path:47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?e.path[1].toLowerCase()+e.path.substr(2):e.path,o&&(t=t.replace(/\//g,"\\")),t}function E(e,t){var r=t?w:y,n="",i=e.scheme,o=e.authority,s=e.path,a=e.query,c=e.fragment;if(i&&(n+=i,n+=":"),(o||"file"===i)&&(n+=f,n+=f),o){var u=o.indexOf("@");if(-1!==u){var l=o.substr(0,u);o=o.substr(u+1),-1===(u=l.indexOf(":"))?n+=r(l,!1):(n+=r(l.substr(0,u),!1),n+=":",n+=r(l.substr(u+1),!1)),n+="@"}-1===(u=(o=o.toLowerCase()).indexOf(":"))?n+=r(o,!1):(n+=r(o.substr(0,u),!1),n+=o.substr(u))}if(s){if(s.length>=3&&47===s.charCodeAt(0)&&58===s.charCodeAt(2))(h=s.charCodeAt(1))>=65&&h<=90&&(s="/"+String.fromCharCode(h+32)+":"+s.substr(3));else if(s.length>=2&&58===s.charCodeAt(1)){var h;(h=s.charCodeAt(0))>=65&&h<=90&&(s=String.fromCharCode(h+32)+":"+s.substr(2))}n+=r(s,!0)}return a&&(n+="?",n+=r(a,!1)),c&&(n+="#",n+=t?c:y(c,!1)),n}},function(e,t,r){"use strict";var n=r(97),i=r(103),o=r(109);for(var s in(t=e.exports=r(68)).pull=t,n)t[s]=n[s];for(var s in o)t[s]=o[s];for(var s in i)t[s]=i[s]},function(e,t,r){"use strict";function n(e,t){void 0===t&&(t=!1);var r=e.length,n=0,a="",c=0,u=16,l=0,h=0,f=0,p=0,d=0;function m(t,r){for(var i=0,o=0;i<t||!r;){var s=e.charCodeAt(n);if(s>=48&&s<=57)o=16*o+s-48;else if(s>=65&&s<=70)o=16*o+s-65+10;else{if(!(s>=97&&s<=102))break;o=16*o+s-97+10}n++,i++}return i<t&&(o=-1),o}function g(){if(a="",d=0,c=n,h=l,p=f,n>=r)return c=r,u=17;var t=e.charCodeAt(n);if(i(t)){do{n++,a+=String.fromCharCode(t),t=e.charCodeAt(n)}while(i(t));return u=15}if(o(t))return n++,a+=String.fromCharCode(t),13===t&&10===e.charCodeAt(n)&&(n++,a+="\n"),l++,f=n,u=14;switch(t){case 123:return n++,u=1;case 125:return n++,u=2;case 91:return n++,u=3;case 93:return n++,u=4;case 58:return n++,u=6;case 44:return n++,u=5;case 34:return n++,a=function(){for(var t="",i=n;;){if(n>=r){t+=e.substring(i,n),d=2;break}var s=e.charCodeAt(n);if(34===s){t+=e.substring(i,n),n++;break}if(92!==s){if(s>=0&&s<=31){if(o(s)){t+=e.substring(i,n),d=2;break}d=6}n++}else{if(t+=e.substring(i,n),++n>=r){d=2;break}switch(e.charCodeAt(n++)){case 34:t+='"';break;case 92:t+="\\";break;case 47:t+="/";break;case 98:t+="\b";break;case 102:t+="\f";break;case 110:t+="\n";break;case 114:t+="\r";break;case 116:t+="\t";break;case 117:var a=m(4,!0);a>=0?t+=String.fromCharCode(a):d=4;break;default:d=5}i=n}}return t}(),u=10;case 47:var g=n-1;if(47===e.charCodeAt(n+1)){for(n+=2;n<r&&!o(e.charCodeAt(n));)n++;return a=e.substring(g,n),u=12}if(42===e.charCodeAt(n+1)){n+=2;for(var y=r-1,w=!1;n<y;){var b=e.charCodeAt(n);if(42===b&&47===e.charCodeAt(n+1)){n+=2,w=!0;break}n++,o(b)&&(13===b&&10===e.charCodeAt(n)&&n++,l++,f=n)}return w||(n++,d=1),a=e.substring(g,n),u=13}return a+=String.fromCharCode(t),n++,u=16;case 45:if(a+=String.fromCharCode(t),++n===r||!s(e.charCodeAt(n)))return u=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return a+=function(){var t=n;if(48===e.charCodeAt(n))n++;else for(n++;n<e.length&&s(e.charCodeAt(n));)n++;if(n<e.length&&46===e.charCodeAt(n)){if(!(++n<e.length&&s(e.charCodeAt(n))))return d=3,e.substring(t,n);for(n++;n<e.length&&s(e.charCodeAt(n));)n++}var r=n;if(n<e.length&&(69===e.charCodeAt(n)||101===e.charCodeAt(n)))if((++n<e.length&&43===e.charCodeAt(n)||45===e.charCodeAt(n))&&n++,n<e.length&&s(e.charCodeAt(n))){for(n++;n<e.length&&s(e.charCodeAt(n));)n++;r=n}else d=3;return e.substring(t,r)}(),u=11;default:for(;n<r&&v(t);)n++,t=e.charCodeAt(n);if(c!==n){switch(a=e.substring(c,n)){case"true":return u=8;case"false":return u=9;case"null":return u=7}return u=16}return a+=String.fromCharCode(t),n++,u=16}}function v(e){if(i(e)||o(e))return!1;switch(e){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}return{setPosition:function(e){n=e,a="",c=0,u=16,d=0},getPosition:function(){return n},scan:t?function(){var e;do{e=g()}while(e>=12&&e<=15);return e}:g,getToken:function(){return u},getTokenValue:function(){return a},getTokenOffset:function(){return c},getTokenLength:function(){return n-c},getTokenStartLine:function(){return h},getTokenStartCharacter:function(){return c-p},getTokenError:function(){return d}}}function i(e){return 32===e||9===e||11===e||12===e||160===e||5760===e||e>=8192&&e<=8203||8239===e||8287===e||12288===e||65279===e}function o(e){return 10===e||13===e||8232===e||8233===e}function s(e){return e>=48&&e<=57}function a(e,t,r){var i,o,s,a,l;if(t){for(a=t.offset,l=a+t.length,s=a;s>0&&!u(e,s-1);)s--;for(var h=l;h<e.length&&!u(e,h);)h++;o=e.substring(s,h),i=function(e,t){var r=0,n=0,i=t.tabSize||4;for(;r<e.length;){var o=e.charAt(r);if(" "===o)n++;else{if("\t"!==o)break;n+=i}r++}return Math.floor(n/i)}(o,r)}else o=e,i=0,s=0,a=0,l=e.length;var f,p=function(e,t){for(var r=0;r<t.length;r++){var n=t.charAt(r);if("\r"===n)return r+1<t.length&&"\n"===t.charAt(r+1)?"\r\n":"\r";if("\n"===n)return"\n"}return e&&e.eol||"\n"}(r,e),d=!1,m=0;f=r.insertSpaces?c(" ",r.tabSize||4):"\t";var g=n(o,!1),v=!1;function y(){return p+c(f,i+m)}function w(){var e=g.scan();for(d=!1;15===e||14===e;)d=d||14===e,e=g.scan();return v=16===e||0!==g.getTokenError(),e}var b=[];function E(t,r,n){!v&&r<l&&n>a&&e.substring(r,n)!==t&&b.push({offset:r,length:n-r,content:t})}var _=w();if(17!==_){var C=g.getTokenOffset()+s;E(c(f,i),s,C)}for(;17!==_;){for(var S=g.getTokenOffset()+g.getTokenLength()+s,k=w(),x="";!d&&(12===k||13===k);){E(" ",S,g.getTokenOffset()+s),S=g.getTokenOffset()+g.getTokenLength()+s,x=12===k?y():"",k=w()}if(2===k)1!==_&&(m--,x=y());else if(4===k)3!==_&&(m--,x=y());else{switch(_){case 3:case 1:m++,x=y();break;case 5:case 12:x=y();break;case 13:x=d?y():" ";break;case 6:x=" ";break;case 10:if(6===k){x="";break}case 7:case 8:case 9:case 11:case 2:case 4:12===k||13===k?x=" ":5!==k&&17!==k&&(v=!0);break;case 16:v=!0}!d||12!==k&&13!==k||(x=y())}E(x,S,g.getTokenOffset()+s),_=k}return b}function c(e,t){for(var r="",n=0;n<t;n++)r+=e;return r}function u(e,t){return-1!=="\r\n".indexOf(e.charAt(t))}var l;function h(e,t,r){void 0===t&&(t=[]),void 0===r&&(r=l.DEFAULT);var n={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(e){"property"===n.type&&(n.length=e-n.offset,n=n.parent)}function o(e){return n.children.push(e),e}p(e,{onObjectBegin:function(e){n=o({type:"object",offset:e,length:-1,parent:n,children:[]})},onObjectProperty:function(e,t,r){(n=o({type:"property",offset:t,length:-1,parent:n,children:[]})).children.push({type:"string",value:e,offset:t,length:r,parent:n})},onObjectEnd:function(e,t){n.length=e+t-n.offset,n=n.parent,i(e+t)},onArrayBegin:function(e,t){n=o({type:"array",offset:e,length:-1,parent:n,children:[]})},onArrayEnd:function(e,t){n.length=e+t-n.offset,n=n.parent,i(e+t)},onLiteralValue:function(e,t,r){o({type:d(e),offset:t,length:r,parent:n,value:e}),i(t+r)},onSeparator:function(e,t,r){"property"===n.type&&(":"===e?n.colonOffset=t:","===e&&i(t))},onError:function(e,r,n){t.push({error:e,offset:r,length:n})}},r);var s=n.children[0];return s&&delete s.parent,s}function f(e,t){if(e){for(var r=e,n=0,i=t;n<i.length;n++){var o=i[n];if("string"==typeof o){if("object"!==r.type||!Array.isArray(r.children))return;for(var s=!1,a=0,c=r.children;a<c.length;a++){var u=c[a];if(Array.isArray(u.children)&&u.children[0].value===o){r=u.children[1],s=!0;break}}if(!s)return}else{var l=o;if("array"!==r.type||l<0||!Array.isArray(r.children)||l>=r.children.length)return;r=r.children[l]}}return r}}function p(e,t,r){void 0===r&&(r=l.DEFAULT);var i=n(e,!1);function o(e){return e?function(){return e(i.getTokenOffset(),i.getTokenLength(),i.getTokenStartLine(),i.getTokenStartCharacter())}:function(){return!0}}function s(e){return e?function(t){return e(t,i.getTokenOffset(),i.getTokenLength(),i.getTokenStartLine(),i.getTokenStartCharacter())}:function(){return!0}}var a=o(t.onObjectBegin),c=s(t.onObjectProperty),u=o(t.onObjectEnd),h=o(t.onArrayBegin),f=o(t.onArrayEnd),p=s(t.onLiteralValue),d=s(t.onSeparator),m=o(t.onComment),g=s(t.onError),v=r&&r.disallowComments,y=r&&r.allowTrailingComma;function w(){for(;;){var e=i.scan();switch(i.getTokenError()){case 4:b(14);break;case 5:b(15);break;case 3:b(13);break;case 1:v||b(11);break;case 2:b(12);break;case 6:b(16)}switch(e){case 12:case 13:v?b(10):m();break;case 16:b(1);break;case 15:case 14:break;default:return e}}}function b(e,t,r){if(void 0===t&&(t=[]),void 0===r&&(r=[]),g(e),t.length+r.length>0)for(var n=i.getToken();17!==n;){if(-1!==t.indexOf(n)){w();break}if(-1!==r.indexOf(n))break;n=w()}}function E(e){var t=i.getTokenValue();return e?p(t):c(t),w(),!0}function _(){switch(i.getToken()){case 3:return function(){h(),w();for(var e=!1;4!==i.getToken()&&17!==i.getToken();){if(5===i.getToken()){if(e||b(4,[],[]),d(","),w(),4===i.getToken()&&y)break}else e&&b(6,[],[]);_()||b(4,[],[4,5]),e=!0}return f(),4!==i.getToken()?b(8,[4],[]):w(),!0}();case 1:return function(){a(),w();for(var e=!1;2!==i.getToken()&&17!==i.getToken();){if(5===i.getToken()){if(e||b(4,[],[]),d(","),w(),2===i.getToken()&&y)break}else e&&b(6,[],[]);(10!==i.getToken()?(b(3,[],[2,5]),0):(E(!1),6===i.getToken()?(d(":"),w(),_()||b(4,[],[2,5])):b(5,[],[2,5]),1))||b(4,[],[2,5]),e=!0}return u(),2!==i.getToken()?b(7,[2],[]):w(),!0}();case 10:return E(!0);default:return function(){switch(i.getToken()){case 11:var e=0;try{"number"!=typeof(e=JSON.parse(i.getTokenValue()))&&(b(2),e=0)}catch(e){b(2)}p(e);break;case 7:p(null);break;case 8:p(!0);break;case 9:p(!1);break;default:return!1}return w(),!0}()}}return w(),17===i.getToken()?!!r.allowEmptyContent||(b(4,[],[]),!1):_()?(17!==i.getToken()&&b(9,[],[]),!0):(b(4,[],[]),!1)}function d(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":return e?Array.isArray(e)?"array":"object":"null";default:return"null"}}function m(e,t,r,n,i){for(var o,s=t.slice(),a=h(e,[]),c=void 0,u=void 0;s.length>0&&(u=s.pop(),void 0===(c=f(a,s))&&void 0!==r);)"string"==typeof u?((o={})[u]=r,r=o):r=[r];if(c){if("object"===c.type&&"string"==typeof u&&Array.isArray(c.children)){var l=f(c,[u]);if(void 0!==l){if(void 0===r){if(!l.parent)throw new Error("Malformed AST");var p=c.children.indexOf(l.parent),d=void 0,m=l.parent.offset+l.parent.length;if(p>0)d=(_=c.children[p-1]).offset+_.length;else if(d=c.offset+1,c.children.length>1)m=c.children[1].offset;return g(e,{offset:d,length:m-d,content:""},n)}return g(e,{offset:l.offset,length:l.length,content:JSON.stringify(r)},n)}if(void 0===r)return[];var v=JSON.stringify(u)+": "+JSON.stringify(r),y=i?i(c.children.map((function(e){return e.children[0].value}))):c.children.length,w=void 0;return g(e,w=y>0?{offset:(_=c.children[y-1]).offset+_.length,length:0,content:","+v}:0===c.children.length?{offset:c.offset+1,length:0,content:v}:{offset:c.offset+1,length:0,content:v+","},n)}if("array"===c.type&&"number"==typeof u&&Array.isArray(c.children)){if(-1===u){v=""+JSON.stringify(r),w=void 0;if(0===c.children.length)w={offset:c.offset+1,length:0,content:v};else w={offset:(_=c.children[c.children.length-1]).offset+_.length,length:0,content:","+v};return g(e,w,n)}if(void 0===r&&c.children.length>=0){var b=u,E=c.children[b];w=void 0;if(1===c.children.length)w={offset:c.offset+1,length:c.length-2,content:""};else if(c.children.length-1===b){var _,C=(_=c.children[b-1]).offset+_.length;w={offset:C,length:c.offset+c.length-2-C,content:""}}else w={offset:E.offset,length:c.children[b+1].offset-E.offset,content:""};return g(e,w,n)}throw new Error("Array modification not supported yet")}throw new Error("Can not add "+("number"!=typeof u?"index":"property")+" to parent of type "+c.type)}if(void 0===r)throw new Error("Can not delete in empty document");return g(e,{offset:a?a.offset:0,length:a?a.length:0,content:JSON.stringify(r)},n)}function g(e,t,r){var n=v(e,t),i=t.offset,o=t.offset+t.content.length;if(0===t.length||0===t.content.length){for(;i>0&&!u(n,i-1);)i--;for(;o<n.length&&!u(n,o);)o++}for(var s=a(n,{offset:i,length:o-i},r),c=s.length-1;c>=0;c--){var l=s[c];n=v(n,l),i=Math.min(i,l.offset),o=Math.max(o,l.offset+l.length),o+=l.content.length-l.length}return[{offset:i,length:e.length-(n.length-o)-i,content:n.substring(i,o)}]}function v(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}r.r(t),function(e){e.DEFAULT={allowTrailingComma:!1}}(l||(l={})),r.d(t,"createScanner",(function(){return y})),r.d(t,"getLocation",(function(){return w})),r.d(t,"parse",(function(){return b})),r.d(t,"parseTree",(function(){return E})),r.d(t,"findNodeAtLocation",(function(){return _})),r.d(t,"findNodeAtOffset",(function(){return C})),r.d(t,"getNodePath",(function(){return S})),r.d(t,"getNodeValue",(function(){return k})),r.d(t,"visit",(function(){return x})),r.d(t,"stripComments",(function(){return D})),r.d(t,"printParseErrorCode",(function(){return A})),r.d(t,"format",(function(){return T})),r.d(t,"modify",(function(){return R})),r.d(t,"applyEdits",(function(){return I}));var y=n,w=function(e,t){var r=[],n=new Object,i=void 0,o={value:{},offset:0,length:0,type:"object",parent:void 0},s=!1;function a(e,t,r,n){o.value=e,o.offset=t,o.length=r,o.type=n,o.colonOffset=void 0,i=o}try{p(e,{onObjectBegin:function(e,o){if(t<=e)throw n;i=void 0,s=t>e,r.push("")},onObjectProperty:function(e,i,o){if(t<i)throw n;if(a(e,i,o,"property"),r[r.length-1]=e,t<=i+o)throw n},onObjectEnd:function(e,o){if(t<=e)throw n;i=void 0,r.pop()},onArrayBegin:function(e,o){if(t<=e)throw n;i=void 0,r.push(0)},onArrayEnd:function(e,o){if(t<=e)throw n;i=void 0,r.pop()},onLiteralValue:function(e,r,i){if(t<r)throw n;if(a(e,r,i,d(e)),t<=r+i)throw n},onSeparator:function(e,o,a){if(t<=o)throw n;if(":"===e&&i&&"property"===i.type)i.colonOffset=o,s=!1,i=void 0;else if(","===e){var c=r[r.length-1];"number"==typeof c?r[r.length-1]=c+1:(s=!0,r[r.length-1]=""),i=void 0}}})}catch(e){if(e!==n)throw e}return{path:r,previousNode:i,isAtPropertyKey:s,matches:function(e){for(var t=0,n=0;t<e.length&&n<r.length;n++)if(e[t]===r[n]||"*"===e[t])t++;else if("**"!==e[t])return!1;return t===e.length}}},b=function(e,t,r){void 0===t&&(t=[]),void 0===r&&(r=l.DEFAULT);var n=null,i=[],o=[];function s(e){Array.isArray(i)?i.push(e):null!==n&&(i[n]=e)}return p(e,{onObjectBegin:function(){var e={};s(e),o.push(i),i=e,n=null},onObjectProperty:function(e){n=e},onObjectEnd:function(){i=o.pop()},onArrayBegin:function(){var e=[];s(e),o.push(i),i=e,n=null},onArrayEnd:function(){i=o.pop()},onLiteralValue:s,onError:function(e,r,n){t.push({error:e,offset:r,length:n})}},r),i[0]},E=h,_=f,C=function e(t,r,n){if(void 0===n&&(n=!1),function(e,t,r){return void 0===r&&(r=!1),t>=e.offset&&t<e.offset+e.length||r&&t===e.offset+e.length}(t,r,n)){var i=t.children;if(Array.isArray(i))for(var o=0;o<i.length&&i[o].offset<=r;o++){var s=e(i[o],r,n);if(s)return s}return t}},S=function e(t){if(!t.parent||!t.parent.children)return[];var r=e(t.parent);if("property"===t.parent.type){var n=t.parent.children[0].value;r.push(n)}else if("array"===t.parent.type){var i=t.parent.children.indexOf(t);-1!==i&&r.push(i)}return r},k=function e(t){switch(t.type){case"array":return t.children.map(e);case"object":for(var r=Object.create(null),n=0,i=t.children;n<i.length;n++){var o=i[n],s=o.children[1];s&&(r[o.children[0].value]=e(s))}return r;case"null":case"string":case"number":case"boolean":return t.value;default:return}},x=p,D=function(e,t){var r,i,o=n(e),s=[],a=0;do{switch(i=o.getPosition(),r=o.scan()){case 12:case 13:case 17:a!==i&&s.push(e.substring(a,i)),void 0!==t&&s.push(o.getTokenValue().replace(/[^\r\n]/g,t)),a=o.getPosition()}}while(17!==r);return s.join("")};function A(e){switch(e){case 1:return"InvalidSymbol";case 2:return"InvalidNumberFormat";case 3:return"PropertyNameExpected";case 4:return"ValueExpected";case 5:return"ColonExpected";case 6:return"CommaExpected";case 7:return"CloseBraceExpected";case 8:return"CloseBracketExpected";case 9:return"EndOfFileExpected";case 10:return"InvalidCommentToken";case 11:return"UnexpectedEndOfComment";case 12:return"UnexpectedEndOfString";case 13:return"UnexpectedEndOfNumber";case 14:return"InvalidUnicode";case 15:return"InvalidEscapeCharacter";case 16:return"InvalidCharacter"}return"<unknown ParseErrorCode>"}function T(e,t,r){return a(e,t,r)}function R(e,t,r,n){return m(e,t,r,n.formattingOptions,n.getInsertionIndex)}function I(e,t){for(var r=t.length-1;r>=0;r--)e=v(e,t[r]);return e}},function(e,t){e.exports=require("url")},function(e,t){e.exports=require("net")},function(e,t,r){"use strict";var n=r(265).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=h,t=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(28),i=r(7),o=r(3),s=r(1),a=r(8);t.terminalEscapeSequences=/(\x9B|\x1B\[)[0-?]*[ -\/]*[@-~]/g,t.createLog=function(e,r,n){const h=Date.now(),f=[];let p=!1;function d(a){!function e(t){if(t&&f.push(t),!p&&f.length){p=!0;const t=f.join("");f.length=0,o.appendFile(n,t,r=>{r&&("ENOENT"===r.code?o.mkdir(s.dirname(n),r=>{r?(p=!1,console.error(r)):o.appendFile(n,t,t=>{p=!1,t&&console.error(t),e()})}):(p=!1,console.error(r))),p=!1,e()})}}(`[${(new Date).toISOString()}] [PID ${process.pid}] ${a.replace(t.terminalEscapeSequences,"").replace(/(\r?\n)?$/,i.EOL)}`),e(r?a.replace(/\r?\n/g,"\r\n").replace(/(\r?\n)?$/,"\r\n"):a.replace(/(\r?\n)?$/,""))}let m=a.LogLevel.Info;return{write(e){a.LogLevel.Critical>=m&&d(`[${Date.now()-h} ms] ${e}`)},start(e){const t=Date.now();return a.LogLevel.Debug>=m?d(`${l(u,`[${t-h} ms] Start`)}: ${e}`):a.LogLevel.Critical>=m&&d(`[${t-h} ms] Start: ${e}`),t},stop(e,t){if(a.LogLevel.Debug>=m){const r=Date.now();d(`${l(c,`[${r-h} ms] Stop`)} (${r-t} ms): ${e}`)}},setLogLevel(e){m=e},logFilePath:n}};const c="31",u="32";function l(e,t){return t.split("\n").map(t=>`[1m[${e}m${t}[39m[22m`).join("\n")}t.findSessions=async function(e){return(await a.findProcesses(e)).filter(e=>"VSCODE_REMOTE_CONTAINERS_SESSION"in e.env).map(e=>({...e,sessionId:e.env.VSCODE_REMOTE_CONTAINERS_SESSION}))},t.dockerExecFunction=function(e,t,r,i){return async function(o){const{env:s,cwd:c,cmd:u,args:l,output:h,silent:f}=o;r={...process.env,...r};const p=await a.findWindowsExecutable("docker",e,r),d=["exec","-i"];i&&d.push("-u",i),s&&Object.keys(s).forEach(e=>d.push("-e",`${e}=${s[e]}`)),c&&d.push("-w",c),d.push(t,u),l&&d.push(...l);const m=`Run: ${p} ${d.join(" ").replace(/\n.*/g,"")}`;let g;f||(g=h.start(m));const v=n.spawn(p,d,{cwd:e,env:r});return{stdin:v.stdin,stdout:v.stdout,stderr:v.stderr,exit:new Promise((e,t)=>{v.once("error",e=>{f||h.stop(m,g),t(e)}),v.once("exit",(t,r)=>{f||h.stop(m,g),e({code:t,signal:r})})}),async terminate(){v.kill("SIGKILL")}}}}},function(e,t,r){"use strict";var n=function(){};e.exports=n},function(e,t){e.exports=require("https")},function(e,t){e.exports={readUInt32BE:function(e,t){return 16777216*e[t++]+65536*e[t++]+256*e[t++]+e[t]},writeUInt32BE:function(e,t,r){return e[r++]=t>>>24,e[r++]=t>>>16,e[r++]=t>>>8,e[r++]=t,r},writeUInt32LE:function(e,t,r){return e[r++]=t,e[r++]=t>>>8,e[r++]=t>>>16,e[r++]=t>>>24,r}}},function(e,t,r){"use strict";const n={};function i(e,t,r){r||(r=Error);class i extends r{constructor(e,r,n){super(function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(e,r,n))}}i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function o(e,t){if(Array.isArray(e)){const r=e.length;return e=e.map(e=>String(e)),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,r){let n;var i,s;let a;if("string"==typeof t&&(i="not ",t.substr(!s||s<0?0:+s,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a=`The ${e} ${n} ${o(t,"type")}`;else{a=`The "${e}" ${function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument"} ${n} ${o(t,"type")}`}return a+=`. Received type ${typeof r}`}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),i=r(7),o=r(3),s=r(84),a=r(313),c=r(63),u=r(26),l=r(0),h=r(16),f=r(41),p=r(56),d=r(317),m=r(96),g=r(318),v=r(8);t.defaultDevPort=0;const y=9753,w=/Extension host agent listening on (\d+)/;async function b(e,t){return e.HOME||t&&t.home||"/root"}function E(e,t){return e.split(/\r?\n/).map(e=>e.split(":")).map(e=>({name:e[0],uid:e[2],gid:e[3],home:e[5],shell:e[6]})).find(e=>e.name===t||e.uid===t)}async function _(e,t){return n.posix.join(e,"bin",t||"dev")}function C(e){return n.posix.join(e.userDataFolder,"data/Machine")}function S(e){return n.posix.join(e.userDataFolder,"data/Machine/settings.json")}function k(e){return n.posix.join(e,".vscode-remote")}async function x(e,t){const r=t.serverDataFolderName||t.dataFolderName.replace(/((?<=vscode)|$)/,"-server");return n.posix.join(e,r)}async function D(e,t){const r=k(t.homeFolder);!await U(t.shellServer,t.userDataFolder)&&await U(t.shellServer,r)&&await $(e,t,["/bin/sh","-c",`cp -r '${r}' '${t.userDataFolder}'`])}async function A(e,t,r){const i=C(t),o=n.posix.join(i,".writeMachineSettingsMarker");if(await B(t.shellServer,o)&&r){const e=S(t);await t.shellServer.exec(`mkdir -p '${n.dirname(e)}' && cat >'${e}' <<'settingsJSON'\n${JSON.stringify(r,null,"\t")}\nsettingsJSON\n`)}}async function T(e,t){t&&await e.shellServer.exec(`command -v git >/dev/null 2>&1 && git config --global credential.helper '!f() { ${e.nodeExecutable} ${t} $*; }; f' || true`)}async function R(e,t,r){const s=await async function(e){try{const t=n.join(i.homedir(),...e);return await l.promisify(o.readFile)(t)}catch(e){if(e&&"ENOENT"===e.code)return;throw e}}(t);if(s){const i=n.posix.join(e.homeFolder,...t);await e.shellServer.exec(`# Copy ${n.posix.join(...t)}\n[ -e ${i} ] && echo ${i} exists && exit 0\ncommand -v ${r} >/dev/null 2>&1 || (echo ${r} not found && exit 1) || exit 0\n${t.length>1?`mkdir -p ${n.dirname(i)}`:""}\ncat > ${i} <<'fileInHomeFolderContent'\n${s}\nfileInHomeFolderContent\n`)}}async function I(e,r){const{commit:c,quality:f,applicationName:p}=e.product,{homeFolder:d,installFolder:m,shellServer:g,launchRootShellServer:y}=r,w=n.posix.join(m,"..","dev-remote"),b=function(e,t){if("alpine"===e.id){if("x86_64"!==e.hardware)throw new h.ContainerError({description:`${O.alpine.label} is not supported on the hardware architecture '${e.hardware}' of the container.`,data:{learnMoreUrl:"https://aka.ms/vscode-remote/linux",reload:!1}});return O.alpine}const r=O[F[e.hardware]];if(!r||t&&!r.stable)throw new h.ContainerError({description:`The hardware architecture '${e.hardware}' of the container is not supported.`,data:{learnMoreUrl:"https://aka.ms/vscode-remote/linux",reload:!1}});return r}(r.osRelease,"stable"===f);if(b.preview&&e.output.write(`\r\n[1mSupport for ${b.label} is in preview.[22m\r\n\r\n`),!await U(g,c?m:w))if(c){e.output.write(`Installing VS Code Server for commit ${c}\r\n`);const p=`vscode-server-linux-${b.id}${e.web?"-web":""}.tar.gz`,d=`${m}_${Date.now()}`;await g.exec(`mkdir -p ${d}`);const v=await function(e){return n.join(i.tmpdir(),"vsch",e)}(c),w=n.join(v,p);if(!await u.exists(w)){const t="Downloading VS Code Server",r=e.output.start(t);await l.promisify(s)(v);try{const n=`${w}_${Date.now()}`;await new Promise((t,r)=>{const i=o.createWriteStream(n),s=`https://update.code.visualstudio.com/commit:${c}/server-linux-${b.id}${e.web?"-web":""}/${f||"insider"}`;a.https.get(s,e=>{e.statusCode<200||e.statusCode>299?r(new h.ContainerError({description:"Downloading the VS Code Server failed. Please try again later.",originalError:`Failed to download VS Code Server (${s}): HTTP ${e.statusCode} - ${e.statusMessage}`})):(e.on("error",r),e.pipe(i),e.on("end",t))}).on("error",r)}),await l.promisify(o.rename)(n,w)}catch(e){if(e)throw e;throw new Error("Failed to download VS Code Server")}finally{e.output.stop(t,r)}}const E="alpine"===b.id?(await y()).exec("apk info | grep -e '^libstdc++$' || apk update && apk add libstdc++"):void 0;await t.runRemoteCommandNoPty(e,r,["tar","--no-same-owner","-xz","--strip-components","1"],d,{stdin:o.createReadStream(w)}),await g.exec(`mv -n ${n.posix.join(d,".")} ${m}`),await E}else{const i=j(g,m);if(await v.showProgress(e,`Check VS Code repository is mounted at '${m}'.`,i),"root"!==r.user)for(let t=n.posix.dirname(w);"/"!==t&&t!==d;t=n.posix.dirname(t))await $(e,{remoteExec:r.remoteExecAsRoot},["chown",r.user,t],m);const s=`${w}_${Date.now()}`;await t.runRemoteCommandNoPty(e,r,["/bin/sh","-c",`mkdir -p ${s}`],m);for(const i of["installDevModules.sh","installDevPackagesAsRoot.sh","launchDevMode.sh"])await t.runRemoteCommandNoPty(e,r,["/bin/sh","-c",`cat >${i} && chmod +x ${i}`],s,{stdin:o.createReadStream(n.join(e.extensionPath,"scripts",i))});if(await $(e,r,["cp","package.json","yarn.lock",".yarnrc",s],n.posix.join(m,"remote")),await $(e,{remoteExec:r.remoteExecAsRoot},["./installDevPackagesAsRoot.sh"],s,{remoteEnv:{VSCODE_ARCH:b.id}}),"alpine"===b.id){const n=await v.runCommandNoPty(e.cwd,"docker",["run","--rm","node:12.4.0-alpine","/bin/sh","-c","cat `which node`"],e.output,{env:e.env});await $(e,r,["/bin/sh","-c",'mkdir -p "$HOME/bin"']),await t.runRemoteCommandNoPty(e,r,["/bin/sh","-c",'cat > "$HOME/bin/node"'],void 0,{stdin:n.stdout}),await $(e,r,["/bin/sh","-c",'chmod +x "$HOME/bin/node"'])}await $(e,r,["./installDevModules.sh"],s,{remoteEnv:{VSCODE_ARCH:b.id}}),await $(e,r,["ln","-s",n.posix.join(m,"resources/server/bin-dev/code.sh"),n.posix.join(d,`bin/${p}`)],m),await $(e,r,["mv","-n",n.posix.join(s,"."),w],m)}}async function P(e,t,r){const i=await async function(e,t,r){const i=C(t),o=n.posix.join(i,".installExtensionsMarker"),s=!await B(t.shellServer,o),a=await e.getExtensionsToInstall(s,r);if(!a.length)return[];const c=[].concat(...a.map(e=>["--install-extension",e]));return s?c:c.concat(["--force"])}(e,t,r);if(i.length)try{await t.shellServer.exec(`cd ${t.installFolder}; export VSCODE_AGENT_FOLDER=${t.userDataFolder}; ${n.posix.join(t.installFolder,"server.sh")} ${[...q(e.telemetry),...i].join(" ")}`)}catch(e){}}t.connectionToken="d9c064ed-ec74-42ab-b759-c9578d277ba2",t.getContainerProperties=async function(e,t,r,i,o,s,a){let c;c=a&&"root"===r?a:await p.launch(o,e.output,e.sessionId);const u=await async function(e){let t="unknown",r="unknown",n="unknown";try{t=(await e.exec("uname -m")).stdout.trim();const{stdout:i}=await e.exec("(cat /etc/os-release || cat /usr/lib/os-release) 2>/dev/null");r=(i.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound",n=(i.match(/^VERSION_ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound"}catch(e){console.error(e)}return{hardware:t,id:r,version:n}}(c),l=await async function(e,t){const{stdout:r}=await e.exec("cat /etc/passwd",{logOutput:!1});return E(r,t)}(c,r),h=await async function(e,t){return e.SHELL||t&&t.shell||"/bin/sh"}(i,l),f=await b(i,l),d=await x(f,e.product),m=await _(d,e.product.commit),g=await async function(e,t,r){return r?n.posix.join(t,"node"):n.posix.join(e,"bin/node")}(f,m,!!e.product.commit);let v;return a?v=Promise.resolve(a):"root"===r&&(v=Promise.resolve(c)),{osRelease:u,user:r,gid:l&&l.gid,env:i,shell:h,homeFolder:f,userDataFolder:d,installFolder:m,remoteWorkspacePath:t,nodeExecutable:g,remoteExec:o,remoteExecAsRoot:s,shellServer:c,launchRootShellServer:()=>v||(v=p.launch(s,e.output))}},t.cat=async function(e,r,n){const{stdout:i}=await t.runRemoteCommandNoPty(e,{remoteExec:r},["cat",n]);return i},t.getHomeFolder=b,t.findUserInEtcPasswd=E,t.getInstallFolder=_,t.getExtensionsLocation=function(e){return n.posix.join(e.userDataFolder,"extensions")},t.getMachineLocation=C,t.getMachineSettingsLocation=S,t.getUserDataFolder=x,t.injectIntoContainer=async function(e,r,n,i=t.defaultDevPort){await D(e,r),await A(e,r,n.settings),await I(e,r);const{remoteContainersCLI:o,remoteEnv:s,ready:a}=await m.launchRemoteContainersServer(e,r);await d.installDotfiles(e,r,o,s,a),await R(r,[".gitconfig"],"git"),await T(r,o),await P(e,r,n.extensions||[]),"postCreateCommand"in n&&await N(e,r,n.postCreateCommand,s,a);const c=await H(e,r,i),u=await g.forwardPort(e,r,c,e.sessionId),l=u.address().port;return await async function(e,t,r){const n=await e.getTunnels();await Promise.all((r.forwardPorts||[]).filter(e=>!n.find(t=>t.remoteAddress.port===e)).map(r=>e.openTunnel(t,r)))}(e,r,n),{hostPort:l,hostPortServer:u,remoteEnv:s}},t.prepareUserDataFolder=D,t.writeSettings=A,t.chownRepositoryFiles=async function(e,t){if("root"!==e.user){const r="string"==typeof e.gid?`${e.user}:${e.gid}`:e.user,i=await e.launchRootShellServer();await i.exec(`chown ${r} ${n.posix.dirname(t)}`),await i.exec(`chown -R ${r} ${t}`)}},t.configureGitCredentialsHelper=T,t.copyFileInHomeFolder=R,t.installVSCHeadless=I,t.listExtensions=async function(e,r){const i={VSCODE_AGENT_FOLDER:r.userDataFolder},{stdout:o}=await t.runRemoteCommandNoPty(e,r,[n.posix.join(r.installFolder,"server.sh"),...q(e.telemetry),"--list-extensions"],r.installFolder,{remoteEnv:i});return o.toString().split("\n").filter(e=>!!e)},t.installExtensions=P;const O={x64:{label:"x86-64",id:"x64",stable:!0,preview:!1},alpine:{label:"Alpine Linux",id:"alpine",stable:!0,preview:!0},armhf:{label:"ARM",id:"armhf",stable:!0,preview:!0},arm64:{label:"ARM64",id:"arm64",stable:!0,preview:!0}},F={x86_64:"x64",armv7l:"armhf",arm64:"arm64",aarch64:"arm64"};async function N(e,t,r,i,o){const s=t.remoteWorkspacePath;if(!s)return;const a=n.posix.join(C(t),".postCreateCommandMarker");if(!await B(t.shellServer,a))return;const c=n.posix.join(t.userDataFolder,".postCreateCommandMarker");if(!await L(t.shellServer,c)&&r){await o;try{const o=f.isWorkspacePath(s)?n.posix.dirname(s):s;await $(e,t,"string"==typeof r?["/bin/sh","-c",r]:r,o,{remoteEnv:i,print:"continuous"})}catch(t){e.output.write(h.toErrorText(`postCreateCommand ${JSON.stringify(r)} failed.`))}}}async function L(e,t){try{return await e.exec(`test -f ${t}`),!0}catch(e){return!1}}async function B(e,t){try{return await e.exec(M(t)),!0}catch(e){return!1}}function M(e){return`set -o noclobber ; mkdir -p '${n.posix.dirname(e)}' && { > '${e}' ; } 2> /dev/null`}async function U(e,t){try{return await j(e,t),!0}catch(e){return!1}}async function j(e,t){return e.exec(`test -d ${t}`)}async function H(e,r,i){const{homeFolder:o,userDataFolder:s,installFolder:a,shellServer:c}=r,u=await v.findProcesses(c),l=new RegExp(`${n.posix.join(n.posix.dirname(a).replace(".","\\."),"[^/]*","(server|launchDevMode).sh")}`),h=new RegExp(`${n.posix.join(n.posix.join(k(o),"bin").replace(".","\\."),"[^/]*","(server|launchDevMode).sh")}`),f=u.filter(e=>l.test(e.cmd)||h.test(e.cmd)),{commit:p}=e.product,d=`/${p||"dev"}`,{current:m,others:g}=f.reduce((e,t)=>(e[t.cwd.endsWith(d)&&l.test(t.cmd)?"current":"others"].push(t),e),{current:[],others:[]});if(g.length){e.output.write("Terminating old extension host agent.\r\n");try{await c.exec(`kill -9 ${g.map(e=>`-${e.pid}`).join(" ")}`)}catch(e){}}const b=n.posix.join(a,"..","dev-remote"),E=p?a:b;if(m.length){e.output.write("Extension host agent is already running.\r\n");try{const{stdout:e}=await c.exec(`cat ${n.posix.join(E,".devport")} 2>/dev/null`),t=e.toString().trim();return parseInt(t,10)}catch(e){return console.error(e),i||y}}let _;if(p){const o=[n.posix.join(a,"server.sh"),"--disable-user-env-probe",...q(e.telemetry),"--port",String(i),...e.web?["--connectionToken",t.connectionToken]:[]];_=(await $(e,r,o,a,{remoteEnv:{SHELL:r.shell,VSCODE_AGENT_FOLDER:s},resolveOn:w,print:"continuous"})).cmdOutput}else{const o=[n.posix.join(b,"launchDevMode.sh"),"--disable-user-env-probe",...e.web?["--connectionToken",t.connectionToken]:[]];_=(await $(e,r,o,b,{remoteEnv:{SHELL:r.shell,VSCODE_AGENT_FOLDER:s,PORT:`${i}`,VSCODE_REPO:a,VSCODE_TELEMETRY_ARG:q(e.telemetry).join(" ")},resolveOn:w,print:"continuous"})).cmdOutput}const C=(w.exec(_)||[])[1];if(!C)throw new Error("Port not found");return await c.exec(`echo ${C} >${n.posix.join(E,".devport")}`),parseInt(C,10)}function q(e){return e?[]:["--disable-telemetry"]}async function $(e,{remoteExec:t},r,n,i={}){const s=i.print||(i.silent?"off":"end"),a=await t({env:i.remoteEnv,cwd:n,cmd:r[0],args:r.slice(1),output:e.output,silent:i.silent}),u=[],l=[],f=new c.StringDecoder,p=new c.StringDecoder;let d,m,g="",v="";const y=new Promise((e,t)=>{d=e,m=t});a.stdout.on("data",t=>{u.push(t);const r=f.write(t);"continuous"===s&&e.output.write(r.replace(/\r?\n/g,"\r\n")),g+=r,i.resolveOn&&i.resolveOn.exec(g)&&d()}),a.stderr.on("data",e=>{l.push(e),v+=p.write(e)}),i.stdin instanceof Buffer?a.stdin.write(i.stdin,e=>{e&&m(e),a.stdin.end()}):i.stdin instanceof o.ReadStream&&i.stdin.pipe(a.stdin);const w=await Promise.race([a.exit,y]),b=Buffer.concat(u),E=Buffer.concat(l);"end"===s&&(e.output.write(g.replace(/\r?\n/g,"\r\n")),e.output.write(h.toErrorText(v)));const _=`${g}\n${v}`;if(w&&(w.code||w.signal))throw{message:`Command failed: ${r.join(" ")}`,cmdOutput:_,stdout:b,stderr:E,code:w.code,signal:w.signal};return{cmdOutput:_,stdout:b,stderr:E}}t.runPostCreateCommand=N,t.isFile=L,t.createFileCommand=M,t.launchVSCHeadless=H,t.runRemoteCommand=$,t.runRemoteCommandNoPty=$},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),i=r(3),o=r(31),s=r(29),a=r(0),c=r(8);function u(e){if(l(e)){const t=n.dirname(e);return{isWorkspaceFile:!0,workspaceOrFolderPath:e,rootFolderPath:t,configFolderPath:t,isSuitedForRemoteContainer:()=>(async function(e){try{const t=u(e).rootFolderPath,r=(await a.promisify(i.readFile)(e)).toString(),l=o.parse(r).folders;if(l&&l.length>0){for(const e of l){const r=e.path;let i;if(!r){const t=e.uri;return t?"file"!==s.URI.parse(t).scheme?`Workspace contains folder '${t}' not on the local file system.`:`Workspace contains an absolute folder path '${t}'.`:"Workspace contains a folder that defines neither a path nor a URI."}if(n.isAbsolute(r))return`Workspace contains an absolute folder path '${r}'.`;if(i=n.resolve(t,r),!c.isEqualOrParent(i,t))return`Folder '${i}' is not a subfolder of shared root folder '${t}'.`}return}return"Workspace does not define any folders"}catch(t){return`Problems loading workspace file ${e}: ${t.message||t.toString()}`}})(e)}}return{isWorkspaceFile:!1,workspaceOrFolderPath:e,rootFolderPath:e,configFolderPath:e,isSuitedForRemoteContainer:()=>Promise.resolve(void 0)}}function l(e){return".code-workspace"===n.extname(e)}t.workspaceFromPath=u,t.isWorkspacePath=l},function(e,t,r){"use strict";var n=r(64);e.exports=function(e,t){if(!e)return function(e,r){return e?n(r,e,t):r(!0)};Array.isArray(e)||(e=Object.keys(e).map((function(t){return e[t]})));var r=0;return function(i,o){if(i)return n(o,i,t);r>=e.length?o(!0):o(null,e[r++])}}},function(e,t,r){"use strict";var n=r(19);e.exports=function(e,t,r){r||(r=t,t=null);var i=n((function(r){t=e(t,r)}),(function(e){r(e,t)}));return 2===arguments.length?function(e){e(null,(function(n,o){if(n)return r(!0===n?null:n);t=o,i(e)}))}:i}},function(e,t,r){"use strict";var n=r(66);e.exports=function(e){return e=n(e),function(t){return function r(n,i){for(var o,s=!0;s;)s=!1,o=!0,t(n,(function(t,n){if(!t&&!e(n))return o?s=!0:r(t,i);i(t,n)})),o=!1}}}},function(e,t,r){"use strict";var n=r(70);e.exports=function(e,t){if(!e)return function(e,r){return e?n(r,e,t):r(!0)};Array.isArray(e)||(e=Object.keys(e).map((function(t){return e[t]})));var r=0;return function(i,o){if(i)return n(o,i,t);r>=e.length?o(!0):o(null,e[r++])}}},function(e,t,r){"use strict";var n=r(22);e.exports=function(e,t,r){r||(r=t,t=null);var i=n((function(r){t=e(t,r)}),(function(e){r(e,t)}));return 2===arguments.length?function(e){e(null,(function(n,o){if(n)return r(!0===n?null:n);t=o,i(e)}))}:i}},function(e,t,r){"use strict";var n=r(72);e.exports=function(e){return e=n(e),function(t){return function r(n,i){for(var o,s=!0;s;)s=!1,o=!0,t(n,(function(t,n){if(!t&&!e(n))return o?s=!0:r(t,i);i(t,n)})),o=!1}}}},function(e,t){e.exports=require("assert")},function(e,t,r){"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var i=r(178),o=r(182);r(4)(u,i);for(var s=n(o.prototype),a=0;a<s.length;a++){var c=s[a];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},function(e,t,r){"use strict";const n={};function i(e,t,r){r||(r=Error);class i extends r{constructor(e,r,n){super(function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(e,r,n))}}i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function o(e,t){if(Array.isArray(e)){const r=e.length;return e=e.map(e=>String(e)),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,r){let n;var i,s;let a;if("string"==typeof t&&(i="not ",t.substr(!s||s<0?0:+s,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a=`The ${e} ${n} ${o(t,"type")}`;else{a=`The "${e}" ${function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument"} ${n} ${o(t,"type")}`}return a+=`. Received type ${typeof r}`}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=n},function(e,t,r){"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var i=r(189),o=r(193);r(4)(u,i);for(var s=n(o.prototype),a=0;a<s.length;a++){var c=s[a];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},function(e,t,r){"use strict";const n={};function i(e,t,r){r||(r=Error);class i extends r{constructor(e,r,n){super(function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(e,r,n))}}i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function o(e,t){if(Array.isArray(e)){const r=e.length;return e=e.map(e=>String(e)),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,r){let n;var i,s;let a;if("string"==typeof t&&(i="not ",t.substr(!s||s<0?0:+s,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a=`The ${e} ${n} ${o(t,"type")}`;else{a=`The "${e}" ${function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument"} ${n} ${o(t,"type")}`}return a+=`. Received type ${typeof r}`}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=n},function(e,t,r){"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var i=r(196),o=r(200);r(4)(u,i);for(var s=n(o.prototype),a=0;a<s.length;a++){var c=s[a];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},function(e,t,r){"use strict";const n={};function i(e,t,r){r||(r=Error);class i extends r{constructor(e,r,n){super(function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(e,r,n))}}i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function o(e,t){if(Array.isArray(e)){const r=e.length;return e=e.map(e=>String(e)),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,r){let n;var i,s;let a;if("string"==typeof t&&(i="not ",t.substr(!s||s<0?0:+s,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a=`The ${e} ${n} ${o(t,"type")}`;else{a=`The "${e}" ${function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument"} ${n} ${o(t,"type")}`}return a+=`. Received type ${typeof r}`}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=n},function(e,t,r){"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var i=r(205),o=r(209);r(4)(u,i);for(var s=n(o.prototype),a=0;a<s.length;a++){var c=s[a];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(63),i="␄";async function o(e,t=1){return new Promise(r=>{const o=new n.StringDecoder("utf8"),s=[],a=[];function c(n){!function n(o){const u=o.indexOf(i);-1!==u?(s.push(o.substr(0,u)),a.push(s.join("")),s.length=0,a.length===t?(r(a),e.off("data",c)):n(o.substr(u+1))):s.push(o)}(o.write(n))}e.on("data",c)})}t.launch=async function(e,t,r){const n=await e({env:r?{VSCODE_REMOTE_CONTAINERS_SESSION:r}:{},cmd:"/bin/sh",args:[],output:t}),s=function(e){let t;const r=new Promise((e,r)=>t=r),n=[],i=[],o=e=>n.push(e),s=e=>i.push(e);return e.stdout.on("data",o),e.stderr.on("data",s),e.exit.then(({code:e,signal:r})=>{t(`Shell server terminated (code: ${e}, signal: ${r})\n${Buffer.concat(n).toString()}\n${Buffer.concat(i).toString()}`)},e=>{t(`Shell server failed: ${e&&(e.stack||e.message)}`)}),{unexpectedExit:r,disposeStdioListeners:()=>{e.stdout.off("data",o),e.stderr.off("data",s),n.length=0,i.length=0}}}(n);let a;return{exec:async function(e,r){const c=a=(async()=>{try{await a}catch(e){}return async function(e,r){var s;const a=`Run in container: ${e.replace(/\n.*/g,"")}`,c=t.start(a);if(n.stdin.destroyed){t.write("Stdin closed!");const{code:e,signal:r}=await n.exit;throw{message:`Shell server terminated (code: ${e}, signal: ${r})`,code:e,signal:r}}n.stdin.write(`( ${e} ); echo -n ${i}$?${i}; echo -n ${i} >&2\n`);const u=o(n.stdout,2),l=o(n.stderr),[h,f]=await u,[p]=await l,d=parseInt(f,10)||0;!1!==(null===(s=r)||void 0===s?void 0:s.logOutput)&&(t.write(h),t.write(p),d&&t.write(`Exit code ${d}`));if(t.stop(a,c),d)throw{message:`Command in container failed: ${e}`,code:d,stdout:h,stderr:p};return{stdout:h,stderr:p}}(e,r)})();try{return await Promise.race([c,s.unexpectedExit])}finally{s.disposeStdioListeners(),a===c&&(a=void 0)}}}}},function(e,t,r){"use strict";function n(e){return null==e}e.exports.isNothing=n,e.exports.isObject=function(e){return"object"==typeof e&&null!==e},e.exports.toArray=function(e){return Array.isArray(e)?e:n(e)?[]:[e]},e.exports.repeat=function(e,t){var r,n="";for(r=0;r<t;r+=1)n+=e;return n},e.exports.isNegativeZero=function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},e.exports.extend=function(e,t){var r,n,i,o;if(t)for(r=0,n=(o=Object.keys(t)).length;r<n;r+=1)e[i=o[r]]=t[i];return e}},function(e,t,r){"use strict";var n=r(57),i=r(75),o=r(9);function s(e,t,r){var n=[];return e.include.forEach((function(e){r=s(e,t,r)})),e[t].forEach((function(e){r.forEach((function(t,r){t.tag===e.tag&&t.kind===e.kind&&n.push(r)})),r.push(e)})),r.filter((function(e,t){return-1===n.indexOf(t)}))}function a(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach((function(e){if(e.loadKind&&"scalar"!==e.loadKind)throw new i("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")})),this.compiledImplicit=s(this,"implicit",[]),this.compiledExplicit=s(this,"explicit",[]),this.compiledTypeMap=function(){var e,t,r={scalar:{},sequence:{},mapping:{},fallback:{}};function n(e){r[e.kind][e.tag]=r.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(n);return r}(this.compiledImplicit,this.compiledExplicit)}a.DEFAULT=null,a.create=function(){var e,t;switch(arguments.length){case 1:e=a.DEFAULT,t=arguments[0];break;case 2:e=arguments[0],t=arguments[1];break;default:throw new i("Wrong number of arguments for Schema.create function")}if(e=n.toArray(e),t=n.toArray(t),!e.every((function(e){return e instanceof a})))throw new i("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!t.every((function(e){return e instanceof o})))throw new i("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new a({include:e,explicit:t})},e.exports=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(7),i=r(1),o=r(5),s=r(40),a=r(16),c=r(6),u=r(153),l=r(77),h=r(0),f=r(8),p="com.docker.compose.project",d="com.docker.compose.service";function m(e){return e.workspaceFolder||"/"}async function g(e,t,r){const n=await e.listContainers({all:!0,filters:{label:[`${p}=${t}`,`${d}=${r}`]}});return n&&n[0]}function v(e){return Array.isArray(e.dockerComposeFile)?e.dockerComposeFile.length?e.dockerComposeFile.map(t=>o.getConfigFilePath(e,t).fsPath):[o.getConfigFilePath(e,"docker-compose.yml").fsPath]:h.isString(e.dockerComposeFile)?[o.getConfigFilePath(e,e.dockerComposeFile).fsPath]:[o.getConfigFilePath(e,"docker-compose.yml").fsPath]}async function y(e,t,r){const n=t.configFolderPath,s=r[0]&&i.dirname(r[0]),a=await async function(e){try{const{stdout:t}=await f.exec("docker-compose version --short",{env:e.env}),r=o.parseVersion(t.trim());return!r||!o.isEarlierVersion(r,[1,21,0])}catch(e){return!0}}(e);return s&&f.equalPaths(s,i.join(n,".devcontainer"))?{projectName:`${await w(n,a)}${a?"_":""}devcontainer`,isDefault:!1}:{projectName:await w(s,a),isDefault:!0}}function w(e,t){const r=e&&i.basename(e);return r?t?r.toLowerCase().replace(/[^-_a-z0-9]/g,""):r.toLowerCase().replace(/[^a-z0-9]/g,""):"default"}t.openDockerComposeDevContainer=async function(e,t,r){const{common:h,connection:w}=e;let b,E;try{const _=v(r);let{projectName:C,isDefault:S}=await y(w,t,_);if(!(b=await g(w.docker,C,r.service))&&!S){const e="devcontainer";(b=await g(w.docker,e,r.service))&&(C=e)}if(b&&(!0===e.removeOnStartup||e.removeOnStartup===b.Id)){const e="Removing existing container.",t=h.output.start(e);try{const e=await w.docker.getContainer(b.Id);await e.remove({force:!0})}catch(e){}h.output.stop(e,t),b=void 0}const k=!!b;b&&"running"===b.State||(b=await async function(e,t,r,c,u){const{common:l,connection:h}=e,{commit:m}=l.product,v="win32"===n.platform(),y=v?o.toLinuxVMPath(l.cwd):l.cwd,w=(v?o.toLinuxVMPath(process.env.USERPROFILE):process.env.HOME)||y,b={...l.env,PWD:y,HOME:w};if(!m){c=[...c,i.join(l.extensionPath,"resources","docker-compose.oss.yml")];const n=await o.inspectImage(e,`${r}_${t.service}`),a=await o.getHomeFolderFromImage(l,n),u=await s.getUserDataFolder(a,l.product);b.VSCODE_APP_ROOT=l.appRoot,b.VSCODE_AGENT_FOLDER=u}const E=[].concat(...c.map(e=>["-f",e])),{stdout:_}=await f.runCommandNoPty(l.cwd,"docker-compose",[...E,"config","--services"],l.output,{env:b});if(-1===_.toString().split(/\r?\n/).filter(e=>!!e).indexOf(t.service))throw new a.ContainerError({description:`Service '${t.service}' configured in devcontainer.json not found in Docker Compose configuration.`});let C;const S=new Promise((e,t)=>C=t),{started:k}=await o.startEventSeen(h.docker,{[p]:r,[d]:t.service},S,l.output,l.logLevel===o.LogLevel.Trace);if(!m){const e=["--project-name",r,...E,"build",t.service];await o.runCommand(l.cwd,"docker-compose",e,l.output,l.loadNativeModule,{env:b})}const x=["--project-name",r,...E];x.push("up","-d"),u&&x.push("--build");t.runServices&&t.runServices.length&&x.push(...t.runServices);const D=o.runCommand(l.cwd,"docker-compose",x,l.output,l.loadNativeModule,{env:b});try{await f.showProgress(l,"docker-compose up",D)}catch(e){throw C(),e}return await k,await g(h.docker,r,t.service)}(e,r,C,_,!b));const x=m(r);E=await o.createContainerProperties(e,b.Id,x,r.remoteUser);const D=new o.AllDocuments(E.shellServer);k||await u.updateConfigurationState(e,D,r);const A={cwd:h.cwd,env:h.env,containerId:b.Id,user:E.user,sessionId:h.sessionId,shutdownAction:r.shutdownAction,projectName:C,composeFiles:_,runServices:r.runServices,logLevel:h.logLevel,delay:1e4},{shutdownArgs:T}=await o.setupAndConfigureShutdownMonitor(e,D,"dockerCompose",A,k?r:void 0),R=r.devPort||s.defaultDevPort,{hostPort:I,hostPortServer:P,remoteEnv:O}=await s.injectIntoContainer(h,E,r,R);T.hostPortServer=P,o.printPortInfo(h,I,b,x);const F={...O,...r.remoteEnv?l.containerSubstitute(r.configFilePath,E.env,r.remoteEnv):{}};return{authority:h.authority,params:e,properties:E,config:r,resolvedAuthority:{host:"localhost",port:I,extensionHostEnv:F},onPortForwarded:new c.EventEmitter,tunnelInformation:o.getTunnelInformation(b),dockerContainerId:b.Id}}catch(e){const t=e instanceof a.ContainerError?e:new a.ContainerError({description:"An error occurred setting up the container.",originalError:e});throw b&&(t.manageContainer=!0,t.container={docker:w.docker,info:b}),E&&(t.containerProperties=E),t.config=r,t}},t.getRemoteWorkspacePath=m,t.findTargetContainer=g,t.getDockerComposeFilePaths=v,t.getProjectName=y,t.getComposeProject=function(e){const t=e.Labels[p];return t||void 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),i=r(31),o=r(26),s=r(156),a=r(59),c=r(5),u=r(77),l=r(16),h=r(29),f=r(8);function p(e){return[n.join(e,".devcontainer","devcontainer.json"),n.join(e,".devcontainer.json")]}async function d(e){const t=p("string"==typeof e?e:e.configFolderPath);for(let e of t)if(await o.exists(e))return e}function m(e){let t;if(e.startsWith("https://"))t=e.substr(8);else{const r=/[^@:]+@([^:]+):(.+)/.exec(e);if(!r)return;t=`${r[1]}/${r[2]}`}return t.endsWith(".git")&&(t=t.substr(0,t.length-4)),t}t.resolve=async function(e,t,r){if(await c.runUserCommand(e.common,r.initializeCommand),c.isDockerFileConfig(r)||"image"in r)return s.openDockerfileDevContainer(e,t,r);if("dockerComposeFile"in r)return a.openDockerComposeDevContainer(e,t,r);throw new l.ContainerError({description:`Dev container config (${r.configFilePath}) not valid.`})},t.readDevContainerConfigFile=async function(e){if(!await o.exists(e.configFile))return;const t=await o.readFile(e.configFile),r=u.substitute({...e,configFile:h.URI.file(e.configFile)},i.parse(t.toString()));return r.configFilePath=h.URI.file(e.configFile),r},t.readDevContainerConfigFileText=async function(e){if(!await o.exists(e))return;return(await o.readFile(e)).toString()},t.findDevContainerConfigPath=async function(e){return await d(e)||await async function(e){let t;try{t=(await f.exec("git remote -v",{cwd:e.rootFolderPath})).stdout}catch(e){return}const r=Array.from(new Set((s=/^[^\s]+\s+([^\s]+)/gm,a=t,c=1,{[Symbol.iterator]:function*(){let e;for(;e=s.exec(a);)yield e[c],s.lastIndex===e.index&&s.lastIndex++}}))),i=new Set(r.map(m).filter(e=>!!e));var s,a,c;for(const t of i){const r=n.join(__dirname,"node_modules","vscode-dev-containers","repository-containers",t);if(await o.exists(r)){const t=await d(e);if(t)return t}}return}(e)},t.getDefaultDevContainerConfigPath=function(e){const t=e.configFolderPath;return n.join(t,".devcontainer.json")},t.getPossibleDevContainerPaths=p,t.getPossibleRemoteDevContainerPaths=function(e){return[n.posix.join(e,".devcontainer","devcontainer.json"),n.posix.join(e,".devcontainer.json")]},t.getDevContainerConfigPathIn=d},function(e,t,r){"use strict";var n=r(25),i=r(13),o=function(){function e(){}return e.queryCorrelationId=function(t,r){var o=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId";if(e.completedLookups.hasOwnProperty(o))r(e.completedLookups[o]);else if(e.pendingLookups[o])e.pendingLookups[o].push(r);else{e.pendingLookups[o]=[r];var s=function(){if(e.pendingLookups[o]){var r={method:"GET",disableAppInsightsAutoCollection:!0};i.info(e.TAG,r);var a=n.makeRequest(t,o,r,(function(r){if(200===r.statusCode){var n="";r.setEncoding("utf-8"),r.on("data",(function(e){n+=e})),r.on("end",(function(){i.info(e.TAG,n);var t=e.correlationIdPrefix+n;e.completedLookups[o]=t,e.pendingLookups[o]&&e.pendingLookups[o].forEach((function(e){return e(t)})),delete e.pendingLookups[o]}))}else r.statusCode>=400&&r.statusCode<500?(e.completedLookups[o]=void 0,delete e.pendingLookups[o]):setTimeout(s,t.correlationIdRetryIntervalMs)}));a&&(a.on("error",(function(t){i.warn(e.TAG,t)})),a.end())}};setTimeout(s,0)}},e.cancelCorrelationIdQuery=function(t,r){var n=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId",i=e.pendingLookups[n];i&&(e.pendingLookups[n]=i.filter((function(e){return e!=r})),0==e.pendingLookups[n].length&&delete e.pendingLookups[n])},e.generateRequestId=function(t){if(t){"."!==(t="|"==t[0]?t:"|"+t)[t.length-1]&&(t+=".");var r=(e.currentRootId++).toString(16);return e.appendSuffix(t,r,"_")}return e.generateRootId()},e.getRootId=function(e){var t=e.indexOf(".");t<0&&(t=e.length);var r="|"===e[0]?1:0;return e.substring(r,t)},e.generateRootId=function(){return"|"+n.w3cTraceId()+"."},e.appendSuffix=function(t,r,i){if(t.length+r.length<e.requestIdMaxLength)return t+r+i;var o=e.requestIdMaxLength-9;if(t.length>o)for(;o>1;--o){var s=t[o-1];if("."===s||"_"===s)break}if(o<=1)return e.generateRootId();for(r=n.randomu32().toString(16);r.length<8;)r="0"+r;return t.substring(0,o)+r+"#"},e.TAG="CorrelationIdManager",e.correlationIdPrefix="cid-v1:",e.w3cEnabled=!1,e.pendingLookups={},e.completedLookups={},e.requestIdMaxLength=1024,e.currentRootId=n.randomu32(),e}();e.exports=o},function(e,t){e.exports={readUInt32BE:function(e,t){return 16777216*e[t++]+65536*e[t++]+256*e[t++]+e[t]},writeUInt32BE:function(e,t,r){return e[r++]=t>>>24,e[r++]=t>>>16,e[r++]=t>>>8,e[r++]=t,r},writeUInt32LE:function(e,t,r){return e[r++]=t,e[r++]=t>>>8,e[r++]=t>>>16,e[r++]=t>>>24,r}}},function(e,t){e.exports=require("string_decoder")},function(e,t){e.exports=function(e,t,r){e(t),r&&r(!0===t?null:t)}},function(e,t,r){"use strict";var n=r(64);e.exports=function(e,t){return function(r,i){if(r)return n(i,r,t);if(null!=e){var o=e;e=null,i(null,o)}else i(!0)}}},function(e,t,r){var n=r(20);function i(e){return e}e.exports=function(e){return"object"==typeof e&&"function"==typeof e.test?function(t){return e.test(t)}:n(e)||i}},function(e,t,r){"use strict";function n(e){return e}var i=r(20),o=r(44);e.exports=function(e,t){e=i(e)||n;var r={};return o((function(n){var i=e(n);return r[i]?!!t:(r[i]=!0,!t)}))}},function(e,t,r){"use strict";e.exports=function e(t){var r=arguments.length;if("function"==typeof t&&1===t.length){for(var n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(t){if(null==n)throw new TypeError("partial sink should only be called once!");var i=n;switch(n=null,r){case 1:return e(t,i[0]);case 2:return e(t,i[0],i[1]);case 3:return e(t,i[0],i[1],i[2]);case 4:return e(t,i[0],i[1],i[2],i[3]);default:return i.unshift(t),e.apply(null,i)}}}var o=t;o&&"function"==typeof o.source&&(o=o.source);for(i=1;i<r;i++){var s=arguments[i];"function"==typeof s?o=s(o):s&&"object"==typeof s&&(s.sink(o),o=s.source)}return o}},function(e,t){e.exports=function(e){!function t(){var r=!0,n=!1;do{n=!0,r=!1,e.call(this,(function(){n?r=!0:t()})),n=!1}while(r)}()}},function(e,t){e.exports=function(e,t,r){e(t),r&&r(!0===t?null:t)}},function(e,t,r){"use strict";var n=r(70);e.exports=function(e,t){return function(r,i){if(r)return n(i,r,t);if(null!=e){var o=e;e=null,i(null,o)}else i(!0)}}},function(e,t,r){var n=r(23);function i(e){return e}e.exports=function(e){return"object"==typeof e&&"function"==typeof e.test?function(t){return e.test(t)}:n(e)||i}},function(e,t,r){"use strict";function n(e){return e}var i=r(23),o=r(47);e.exports=function(e,t){e=i(e)||n;var r={};return o((function(n){var i=e(n);return r[i]?!!t:(r[i]=!0,!t)}))}},function(e,t){function r(e){return e.stack&&e.name&&e.message?e.stack.substring(e.name.length+3+e.message.length).split("\n"):e.stack?e.stack.split("\n"):void 0}e.exports=function(e,t){if(!(e.stack&&e.name&&e.message))return console.error(new Error("stackless error")),e;var n,i,o=new Error(t),s=(n=r(o).slice(1),i=r(e),n.filter((function(e){return!~i.indexOf(e)}))).join("\n");return o.__proto__=e,o.stack=o.name+": "+o.message+"\n"+s+"\n  "+e.stack,o}},function(e,t,r){"use strict";function n(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n.prototype.toString=function(e){var t=this.name+": ";return t+=this.reason||"(unknown reason)",!e&&this.mark&&(t+=" "+this.mark.toString()),t},e.exports=n},function(e,t,r){"use strict";var n=r(58);e.exports=new n({include:[r(214)],implicit:[r(329),r(330)],explicit:[r(331),r(332),r(333),r(334)]})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),i=r(16);function o(e,t){if("string"==typeof t)return function(e,t){return t.replace(a,u.bind(void 0,e))}(e,t);if(Array.isArray(t))return t.map(t=>o(e,t));if(t&&"object"==typeof t){const r=Object.create(null);return Object.keys(t).forEach(n=>{r[n]=o(e,t[n])}),r}return t}t.substitute=function(e,t){let r;return o(l.bind(void 0,{...e,get env(){return r||(r=c(e.env))}}),t)},t.containerSubstitute=function(e,t,r){return o(h.bind(void 0,e,c(t)),r)};const s="win32"===process.platform,a=/\$\{(.*?)\}/g;function c(e){if(s){const t=Object.create(null);return Object.keys(e).forEach(r=>{t[r.toLowerCase()]=e[r]}),t}return e}function u(e,t,r){let n;const i=r.split(":");return i.length>1&&(r=i[0],n=i[1]),e(t,r,n)}function l(e,t,r,n){switch(r){case"env":case"localEnv":return f(e.env,n,t,e.configFile);case"localWorkspaceFolder":return void 0!==e.localWorkspaceFolder?e.localWorkspaceFolder:t;default:return t}}function h(e,t,r,n,i){switch(n){case"containerEnv":return f(t,i,r,e);default:return r}}function f(e,t,r,o){if(t){s&&(t=t.toLowerCase());const r=e[t];return"string"==typeof r?r:""}throw new i.ContainerError({description:`'${r}' in ${n.posix.basename(o.path)} can not be resolved because no environment variable name is given.`})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(18),i=r(3),o=r(1),s=r(6),a=r(29),c=r(5),u=r(0),l=r(341),h=r(60),f=r(40),p=r(41);t.resolverState={removeOnShutdown:!1,onRemoveOnShutdownChanged:new s.EventEmitter,results:new Map};const d="remote.containers.defaultExtensions";async function m(e){const t=require;try{return t(`${n.env.appRoot}/node_modules.asar/${e}`)}catch(e){}try{return t(`${n.env.appRoot}/node_modules/${e}`)}catch(e){}}function g(e,t,r){const n=t.get(r);n&&(e[r]=n)}async function v(e){const t=await n.window.showInformationMessage(`Configuration file(s) changed: ${e.join(", ")}. The container might need to be rebuilt to apply the changes.`,"Rebuild","Ignore");return"Rebuild"===t?n.commands.executeCommand("remote-containers.rebuildContainer"):"Ignore"===t?"ignore":void 0}async function y(e,t){if(e)return w();const r=new Set;for(const e of t)r.has(e)||r.add(e);let i=n.workspace.getConfiguration().get(d)||[];for(const e of i)r.has(e)||r.add(e);for(const e of w())r.has(e)||r.add(e);const o=[];return r.forEach(e=>o.push(e)),o}function w(){return n.extensions.all.filter(e=>{const t=e.packageJSON&&e.packageJSON.contributes;return!(!t||!t.localizations)&&t.localizations.length>0}).map(e=>e.id)}function b(){return!!n.workspace.getConfiguration().get("telemetry.enableTelemetry")}function E(){return!!n.workspace.getConfiguration().get("remote.containers.enableWebAccess")}function _(){const e=n.workspace.getConfiguration();return{repository:(e.get("remote.containers.dotfiles.repository","")||e.get("dotfiles.repository","")).trim()||void 0,installCommand:(e.get("remote.containers.dotfiles.installCommand","")||e.get("dotfiles.installCommand","")).trim()||"~/dotfiles/install.sh",targetPath:(e.get("remote.containers.dotfiles.targetPath","")||e.get("dotfiles.targetPath","")).trim()||"~/dotfiles"}}async function C(){const e=await u.promisify(i.readFile)(o.join(n.env.appRoot,"product.json"),"utf8");return JSON.parse(e)}t.loadNativeModule=m,t.revealLogTerminalId="remote-containers.revealLogTerminal",t.resolver=function(e,r,s){return async(a,l)=>{if(n.commands.executeCommand("setContext","forwardedPortsViewEnabled",!0),l.resolveAttempt>1){const e=r.get(a);if(!e)throw new Error("Reconnect attempt without old result.");if(e.dockerContainerId){const t=await c.findTargetContainerById(e.params.connection.docker,e.dockerContainerId);if(!t)throw n.RemoteAuthorityResolverError.NotAvailable("Container no longer exists.");if("paused"===t.State)throw n.RemoteAuthorityResolverError.TemporarilyNotAvailable("Container is paused.");if("running"!==t.State)throw n.RemoteAuthorityResolverError.NotAvailable("Container is no longer running.")}return e.resolvedAuthority}{const c=new k(e.logPath),l="Resolving remote",h=c.log.start(l);n.commands.registerCommand(t.revealLogTerminalId,()=>c.show());const p=await s(a,c);return async function(e,t){const r=await u.promisify(i.readFile)(o.join(__dirname,"remoteCloudGuesser.js"),{encoding:"utf8"}),{stdout:n}=await f.runRemoteCommandNoPty(e,t,[t.nodeExecutable,"-e",r],void 0,{silent:!0}),s=n.toString().trim();e.sendTelemetryEvent("extraInfo",{remoteCloud:s})}(p.params.common,p.properties).catch(e=>{}),r.set(a,p),c.log.stop(l,h),{...p.resolvedAuthority,...p.tunnelInformation}}}},t.getDockerConnection=async function(){const e=n.workspace.getConfiguration("docker");let t={};return g(t,e,"host"),g(t,e,"certPath"),g(t,e,"tlsVerify"),Object.keys(t).length||(t=void 0),{settings:t,docker:await c.newDocker(t),env:c.newDockerEnv(t)}},t.createConfigurationTracking=function(e){return{getConfigurationState:()=>e.get("configurationState"),updateConfigurationState:async t=>e.update("configurationState",t),containerOutdated:v}},t.getExtensionsToInstall=y,t.isTelemetryEnabled=b,t.isWebEnabled=E,t.getWorkspaceMountConsistency=function(){return n.workspace.getConfiguration().get("remote.containers.workspaceMountConsistency")||"cached"},t.getDotfilesConfiguration=_,t.getProductConfig=C,t.createTelemetryReporter=async function(e){const t=await u.promisify(i.readFile)(o.join(e.extensionPath,"package.json"),{encoding:"utf8"}),r=JSON.parse(t),n=new l.default(`${r.publisher}.${r.name}`,r.version,r.aiKey);return e.subscriptions.push(n),n},t.telemetryResolverEvent=function(e,t,r,n,i,o){const s={resolver:t,outcome:r};n&&(s.configProperties=JSON.stringify(Object.keys(n)),s.configExtensions=JSON.stringify(n.extensions||[])),i&&(s.hardwareId=i.osRelease.hardware,s.osReleaseId=i.osRelease.id,s.osReleaseVersion=i.osRelease.version);const a=o&&o.originalError,c=a&&(a.stack||a.message||String(a))||o&&o.description;c&&(s.errorMessage=c),e.sendTelemetryEvent("resolver",s)};class S{constructor(e){this.onClose=e,this.writeEmitter=new n.EventEmitter,this.onDidWrite=this.writeEmitter.event,this.queue=[],this.ready=!1}open(){this.ready=!0,this.queue.forEach(e=>this.writeEmitter.fire(e))}close(){this.ready=!1,this.onClose()}write(e){this.queue.push(e),this.ready&&this.writeEmitter.fire(e)}}class k{constructor(e){this.logFolderPath=e,this.outputTerminal=new S(()=>this._terminal=void 0),this.log=c.createLog(e=>this.outputTerminal.write(e),!0,o.join(e,"remoteContainers.log")),this.log.setLogLevel(n.env.logLevel),n.env.onDidChangeLogLevel(e=>this.log.setLogLevel(e))}show(){this._terminal||(this._terminal=n.window.createTerminal({name:"Dev Containers",pty:this.outputTerminal})),this._terminal.show()}}function x(){return"someValue.sessionId"!==n.env.sessionId?n.env.sessionId:`${n.env.sessionId}_${Date.now()}`}function D(e,t){const r=n.workspace.registerResourceLabelFormatter({scheme:"vscode-remote",authority:e.authority,formatting:{label:"${path}",separator:"/",workspaceSuffix:c.shorten(t,40),tildify:!0}});e.shutdowns.push(r.dispose.bind(r))}async function A(e,t){await n.workspace.openTunnel({remoteAddress:{host:"127.0.0.1",port:t}})}t.OutputChannel=k,t.ensureContainerStopped=async function(e,t){const r=await e.getContainer(t.Id);if(r){if("running"===(await r.inspect()).State.Status)try{await r.stop()}catch(e){n.window.showErrorMessage(`Error stopping container: ${e.message}`)}}},t.ensureContainerStarted=async function(e,t){const r=await e.getContainer(t.Id);if(r){if("running"!==(await r.inspect()).State.Status)try{await r.start()}catch(e){n.window.showErrorMessage(`Error starting container: ${e.message}`)}}},t.tryRemoveContainer=async function(e){try{await e.remove()}catch(e){n.window.showErrorMessage(`Error removing container: ${e.message}`)}},t.tryRemoveVolume=async function(e){if(e)try{await e.remove({force:!0})}catch(e){n.window.showErrorMessage(`Error removing volume: ${e.message}`)}},t.generateSessionId=x,t.setWorkspaceName=D,t.toRemoveOnStartup=async function(e,t){return e.globalState.get("removeOnStartup")===t?(await e.globalState.update("removeOnStartup",null),!0):e.workspaceState.get("removeOnStartup",!1)},t.removeOnStartupByContainerId=async function(e,t){await e.workspaceState.update("removeOnStartup",t)},t.removeOnStartupByAuthority=async function(e,t){await e.globalState.update("removeOnStartup",t)},t.writeOpenLogFileOnStartup=async function(e,t,r){await e.globalState.update("openLogFileOnStartup",{workspaceFolder:t,logFile:r})},t.openLogFileOnStartup=async function(e){var t;const r=e.globalState.get("openLogFileOnStartup");if(r){if(await e.globalState.update("openLogFileOnStartup",void 0),null===(t=n.workspace.workspaceFolders)||void 0===t?void 0:t.some(e=>e.uri.fsPath===r.workspaceFolder)){const e=await n.window.showTextDocument(n.Uri.file(r.logFile)),t=new n.Position(e.document.lineCount-1,0);e.selection=new n.Selection(t,t),e.revealRange(e.selection)}}},t.findDevContainerFiles=async function(){if(t.resolverState.results.size)return[...t.resolverState.results.values()].map(e=>e.config.configFilePath);const e=n.workspace.workspaceFolders||[],r=await Promise.all(e.map(async e=>{if("file"!==e.uri.scheme)return;const t=p.workspaceFromPath(e.uri.fsPath);return await h.findDevContainerConfigPath(t)})),i=n.workspace.workspaceFile;if(i){const e=p.workspaceFromPath(i.fsPath),t=await h.findDevContainerConfigPath(e);t&&-1===r.indexOf(t)&&r.unshift(t)}return r.filter(e=>!!e).map(e=>a.URI.file(e))},t.openTunnel=A,t.createResolverParameters=async function(e){const{authority:t,extensionContext:r,progress:i,env:o,cwd:s,telemetry:a,output:c}=e,u={product:await C(),appRoot:n.env.appRoot,extensionPath:r.extensionPath,sessionId:x(),authority:t,env:o,cwd:s,getExtensionsToInstall:y,dotfilesConfiguration:_(),progress:i,output:c,telemetry:b(),web:E(),get logLevel(){return n.env.logLevel},onDidChangeLogLevel:n.env.onDidChangeLogLevel,loadNativeModule:m,shutdowns:[],forwardedPorts:new Set,setWorkspaceName:e=>D(u,e),sendTelemetryEvent:a.sendTelemetryEvent.bind(a),openTunnel:A,getTunnels:()=>Promise.resolve(n.workspace.tunnels),onDidChangeTunnels:n.workspace.onDidChangeTunnels};return u}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(13),i=r(159),o=function(){function e(){}return e.getCurrentContext=function(){if(!e.enabled)return null;var t=e.session.get(e.CONTEXT_NAME);return void 0===t?null:t},e.generateContextObject=function(e,t,r,n,i,o){return t=t||e,this.enabled?{operation:{name:r,id:e,parentId:t,traceparent:i,tracestate:o},customProperties:new s(n)}:null},e.runWithContext=function(t,r){return e.enabled?e.session.bind(r,((n={})[e.CONTEXT_NAME]=t,n))():r();var n},e.wrapEmitter=function(t){e.enabled&&e.session.bindEmitter(t)},e.wrapCallback=function(t){return e.enabled?e.session.bind(t):t},e.enable=function(t){this.enabled||(this.isNodeVersionCompatible()?(e.hasEverEnabled||(this.forceClsHooked=t,this.hasEverEnabled=!0,void 0===this.cls&&(!0===e.forceClsHooked||void 0===e.forceClsHooked&&e.shouldUseClsHooked()?this.cls=r(357):this.cls=r(369)),e.session=this.cls.createNamespace("AI-CLS-Session"),i.registerContextPreservation((function(t){return e.session.bind(t)}))),this.enabled=!0):this.enabled=!1)},e.disable=function(){this.enabled=!1},e.reset=function(){e.hasEverEnabled&&(e.session=null,e.session=this.cls.createNamespace("AI-CLS-Session"))},e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>3||parseInt(e[0])>2&&parseInt(e[1])>2},e.shouldUseClsHooked=function(){var e=process.versions.node.split(".");return parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=2},e.canUseClsHooked=function(){var e=process.versions.node.split("."),t=parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=0,r=parseInt(e[0])<8||parseInt(e[0])<=8&&parseInt(e[1])<2,n=parseInt(e[0])>4||parseInt(e[0])>=4&&parseInt(e[1])>=7;return!(t&&r)&&n},e.enabled=!1,e.hasEverEnabled=!1,e.forceClsHooked=void 0,e.CONTEXT_NAME="ApplicationInsights-Context",e}();t.CorrelationContextManager=o;var s=function(){function e(e){this.props=[],this.addHeaderData(e)}return e.prototype.addHeaderData=function(e){var t=e?e.split(", "):[];this.props=t.map((function(e){var t=e.split("=");return{key:t[0],value:t[1]}})).concat(this.props)},e.prototype.serializeToHeader=function(){return this.props.map((function(e){return e.key+"="+e.value})).join(", ")},e.prototype.getProperty=function(e){for(var t=0;t<this.props.length;++t){var r=this.props[t];if(r.key===e)return r.value}},e.prototype.setProperty=function(t,r){if(e.bannedCharacters.test(t)||e.bannedCharacters.test(r))n.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+t+" and value: "+r);else{for(var i=0;i<this.props.length;++i){var o=this.props[i];if(o.key===t)return void(o.value=r)}this.props.push({key:t,value:r})}},e.bannedCharacters=/[,=]/,e}()},function(e,t,r){"use strict";e.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}},function(e,t){e.exports=require("zlib")},function(e,t,r){e.exports=r(0).deprecate},function(e,t,r){var n=r(11);"disable"===process.env.READABLE_STREAM&&n?(e.exports=n.Readable,Object.assign(e.exports,n),e.exports.Stream=n):((t=e.exports=r(196)).Stream=n||t,t.Readable=t,t.Writable=r(200),t.Duplex=r(53),t.Transform=r(201),t.PassThrough=r(288),t.finished=r(94),t.pipeline=r(289))},function(e,t,r){var n=r(1),i=r(3),o=parseInt("0777",8);function s(e,t,r,a){"function"==typeof t?(r=t,t={}):t&&"object"==typeof t||(t={mode:t});var c=t.mode,u=t.fs||i;void 0===c&&(c=o&~process.umask()),a||(a=null);var l=r||function(){};e=n.resolve(e),u.mkdir(e,c,(function(r){if(!r)return l(null,a=a||e);switch(r.code){case"ENOENT":s(n.dirname(e),t,(function(r,n){r?l(r,n):s(e,t,l,n)}));break;default:u.stat(e,(function(e,t){e||!t.isDirectory()?l(r,a):l(null,a)}))}}))}e.exports=s.mkdirp=s.mkdirP=s,s.sync=function e(t,r,s){r&&"object"==typeof r||(r={mode:r});var a=r.mode,c=r.fs||i;void 0===a&&(a=o&~process.umask()),s||(s=null),t=n.resolve(t);try{c.mkdirSync(t,a),s=s||t}catch(i){switch(i.code){case"ENOENT":s=e(n.dirname(t),r,s),e(t,r,s);break;default:var u;try{u=c.statSync(t)}catch(e){throw i}if(!u.isDirectory())throw i}}return s}},function(e,t,r){"use strict";var n=r(58);e.exports=n.DEFAULT=new n({include:[r(76)],explicit:[r(335),r(336),r(337)]})},function(e,t,r){"use strict";var n=r(10),i=r(37),o=r(13),s=r(25),a=r(80),c=r(395),u=r(79),l=r(61),h=r(228),f=r(159),p=function(){function e(t){if(e.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,this._isEnabled&&!this._isInitialized&&this._initialize(),f.IsInitialized&&(r(396).enable(e,this._client),r(397).enable(e,this._client),r(398).enable(e,this._client),r(399).enable(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;n.get;var r=n.request,o=i.request,s=function(r,n){var i=!n[e.disableCollectionRequestOption]&&!r[e.alreadyAutoCollectedFlag];r[e.alreadyAutoCollectedFlag]=!0,r&&n&&i&&(u.CorrelationContextManager.wrapEmitter(r),e.trackRequest(t._client,{options:n,request:r}))};n.request=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var o=r.call.apply(r,[n,e].concat(t));return s(o,e),o},i.request=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=o.call.apply(o,[i,e].concat(t));return s(n,e),n},n.get=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i,o=(i=n.request).call.apply(i,[n,e].concat(t));return o.end(),o},i.get=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n,o=(n=i.request).call.apply(n,[i,e].concat(t));return o.end(),o}},e.trackRequest=function(t,r){if(r.options&&r.request&&t){var n,i,f=new c(r.options,r.request),p=u.CorrelationContextManager.getCurrentContext();if(p&&p.operation&&p.operation.traceparent&&h.isValidTraceId(p.operation.traceparent.traceId))p.operation.traceparent.updateSpanId(),n=p.operation.traceparent.getBackCompatRequestId();else if(l.w3cEnabled){i=(m=new h).toString(),n=m.getBackCompatRequestId()}else n=p&&p.operation&&p.operation.parentId+e.requestNumber+++".";if(s.canIncludeCorrelationHeader(t,f.getUrl())&&r.request.getHeader&&r.request.setHeader&&t.config&&t.config.correlationId){var d=r.request.getHeader(a.requestContextHeader);if(s.safeIncludeCorrelationHeader(t,r.request,d),p&&p.operation)try{if(r.request.setHeader(a.requestIdHeader,n),r.request.setHeader(a.parentIdHeader,p.operation.id),r.request.setHeader(a.rootIdHeader,n),i||p.operation.traceparent)r.request.setHeader(a.traceparentHeader,i||p.operation.traceparent.toString());else if(l.w3cEnabled){var m=(new h).toString();r.request.setHeader(a.traceparentHeader,m)}if(p.operation.tracestate){var g=p.operation.tracestate.toString();g&&r.request.setHeader(a.traceStateHeader,g)}var v=p.customProperties.serializeToHeader();v&&r.request.setHeader(a.correlationContextHeader,v)}catch(e){o.warn("Correlation headers could not be set. Correlation of requests may be lost.",e)}}r.request.on&&(r.request.on("response",(function(e){f.onResponse(e);var i=f.getDependencyTelemetry(r,n);i.contextObjects=i.contextObjects||{},i.contextObjects["http.RequestOptions"]=r.options,i.contextObjects["http.ClientRequest"]=r.request,i.contextObjects["http.ClientResponse"]=e,t.trackDependency(i)})),r.request.on("error",(function(e){f.onError(e);var i=f.getDependencyTelemetry(r,n);i.contextObjects=i.contextObjects||{},i.contextObjects["http.RequestOptions"]=r.options,i.contextObjects["http.ClientRequest"]=r.request,i.contextObjects.Error=e,t.trackDependency(i)})))}else o.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!r.options,!r.request,!t)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.disableCollectionRequestOption="disableAppInsightsAutoCollection",e.requestNumber=1,e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();e.exports=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nfcall=function(e,...t){return new Promise((r,n)=>e(...t,(e,t)=>e?n(e):r(t)))},t.delay=async function(e){return new Promise(t=>setTimeout(t,e))}},function(e,t,r){e.exports={SFTPStream:r(245),SSH2Stream:r(253),utils:r(27),constants:r(91)}},function(e,t){e.exports={newInvalidAsn1Error:function(e){var t=new Error;return t.name="InvalidAsn1Error",t.message=e||"",t}}},function(e,t){e.exports={EOC:0,Boolean:1,Integer:2,BitString:3,OctetString:4,Null:5,OID:6,ObjectDescriptor:7,External:8,Real:9,Enumeration:10,PDV:11,Utf8String:12,RelativeOID:13,Sequence:16,Set:17,NumericString:18,PrintableString:19,T61String:20,VideotexString:21,IA5String:22,UTCTime:23,GeneralizedTime:24,GraphicString:25,VisibleString:26,GeneralString:28,UniversalString:29,CharacterString:30,BMPString:31,Constructor:32,Context:128}},function(e,t,r){var n,i,o,s=function(){var e=r(15);if("function"==typeof e.sign&&"function"==typeof e.verify){var t,n,i="-----BEGIN PRIVATE KEY-----\r\nMC4CAQAwBQYDK2VwBCIEIHKj+sVa9WcD/q2DJUJaf43Kptc8xYuUQA4bOFj9vC8T\r\n-----END PRIVATE KEY-----",o=Buffer.from("a");try{t=e.sign(null,o,i),n=e.verify(null,o,i,t)}catch(e){}return Buffer.isBuffer(t)&&64===t.length&&!0===n}return!1}(),a=t.MESSAGE={DISCONNECT:1,IGNORE:2,UNIMPLEMENTED:3,DEBUG:4,SERVICE_REQUEST:5,SERVICE_ACCEPT:6,KEXINIT:20,NEWKEYS:21,USERAUTH_REQUEST:50,USERAUTH_FAILURE:51,USERAUTH_SUCCESS:52,USERAUTH_BANNER:53,GLOBAL_REQUEST:80,REQUEST_SUCCESS:81,REQUEST_FAILURE:82,CHANNEL_OPEN:90,CHANNEL_OPEN_CONFIRMATION:91,CHANNEL_OPEN_FAILURE:92,CHANNEL_WINDOW_ADJUST:93,CHANNEL_DATA:94,CHANNEL_EXTENDED_DATA:95,CHANNEL_EOF:96,CHANNEL_CLOSE:97,CHANNEL_REQUEST:98,CHANNEL_SUCCESS:99,CHANNEL_FAILURE:100};for(n=0,o=(i=Object.keys(a)).length;n<o;++n)a[a[i[n]]]=i[n];a.KEXDH_INIT=30,a.KEXDH_REPLY=31,a.KEXDH_GEX_REQUEST=34,a.KEXDH_GEX_GROUP=31,a.KEXDH_GEX_INIT=32,a.KEXDH_GEX_REPLY=33,a.KEXECDH_INIT=30,a.KEXECDH_REPLY=31,a.USERAUTH_PASSWD_CHANGEREQ=60,a.USERAUTH_PK_OK=60,a.USERAUTH_INFO_REQUEST=60,a.USERAUTH_INFO_RESPONSE=61;var c=t.DYNAMIC_KEXDH_MESSAGE={};c[a.KEXDH_GEX_GROUP]="KEXDH_GEX_GROUP",c[a.KEXDH_GEX_REPLY]="KEXDH_GEX_REPLY";var u=t.KEXDH_MESSAGE={};u[a.KEXDH_INIT]="KEXDH_INIT",u[a.KEXDH_REPLY]="KEXDH_REPLY";var l=t.DISCONNECT_REASON={HOST_NOT_ALLOWED_TO_CONNECT:1,PROTOCOL_ERROR:2,KEY_EXCHANGE_FAILED:3,RESERVED:4,MAC_ERROR:5,COMPRESSION_ERROR:6,SERVICE_NOT_AVAILABLE:7,PROTOCOL_VERSION_NOT_SUPPORTED:8,HOST_KEY_NOT_VERIFIABLE:9,CONNECTION_LOST:10,BY_APPLICATION:11,TOO_MANY_CONNECTIONS:12,AUTH_CANCELED_BY_USER:13,NO_MORE_AUTH_METHODS_AVAILABLE:14,ILLEGAL_USER_NAME:15};for(n=0,o=(i=Object.keys(l)).length;n<o;++n)l[l[i[n]]]=i[n];var h=t.CHANNEL_OPEN_FAILURE={ADMINISTRATIVELY_PROHIBITED:1,CONNECT_FAILED:2,UNKNOWN_CHANNEL_TYPE:3,RESOURCE_SHORTAGE:4};for(n=0,o=(i=Object.keys(h)).length;n<o;++n)h[h[i[n]]]=i[n];var f=t.TERMINAL_MODE={TTY_OP_END:0,VINTR:1,VQUIT:2,VERASE:3,VKILL:4,VEOF:5,VEOL:6,VEOL2:7,VSTART:8,VSTOP:9,VSUSP:10,VDSUSP:11,VREPRINT:12,VWERASE:13,VLNEXT:14,VFLUSH:15,VSWTCH:16,VSTATUS:17,VDISCARD:18,IGNPAR:30,PARMRK:31,INPCK:32,ISTRIP:33,INLCR:34,IGNCR:35,ICRNL:36,IUCLC:37,IXON:38,IXANY:39,IXOFF:40,IMAXBEL:41,ISIG:50,ICANON:51,XCASE:52,ECHO:53,ECHOE:54,ECHOK:55,ECHONL:56,NOFLSH:57,TOSTOP:58,IEXTEN:59,ECHOCTL:60,ECHOKE:61,PENDIN:62,OPOST:70,OLCUC:71,ONLCR:72,OCRNL:73,ONOCR:74,ONLRET:75,CS7:90,CS8:91,PARENB:92,PARODD:93,TTY_OP_ISPEED:128,TTY_OP_OSPEED:129};for(n=0,o=(i=Object.keys(f)).length;n<o;++n)f[f[i[n]]]=i[n];var p=t.CHANNEL_EXTENDED_DATATYPE={STDERR:1};for(n=0,o=(i=Object.keys(p)).length;n<o;++n)p[p[i[n]]]=i[n];t.SIGNALS=["ABRT","ALRM","FPE","HUP","ILL","INT","QUIT","SEGV","TERM","USR1","USR2","KILL","PIPE"];var d=["ecdh-sha2-nistp256","ecdh-sha2-nistp384","ecdh-sha2-nistp521","diffie-hellman-group-exchange-sha256","diffie-hellman-group14-sha1"],m=["diffie-hellman-group-exchange-sha1","diffie-hellman-group1-sha1"],g=Buffer.from(d.join(","),"ascii");m=d.concat(m);var v=["ssh-rsa","ecdsa-sha2-nistp256","ecdsa-sha2-nistp384","ecdsa-sha2-nistp521"];s&&v.unshift("ssh-ed25519");var y=["ssh-dss"],w=Buffer.from(v.join(","),"ascii");y=v.concat(y);var b=["aes128-ctr","aes192-ctr","aes256-ctr","aes128-gcm","aes128-gcm@openssh.com","aes256-gcm","aes256-gcm@openssh.com"],E=["aes256-cbc","aes192-cbc","aes128-cbc","blowfish-cbc","3des-cbc","arcfour256","arcfour128","cast128-cbc","arcfour"],_=Buffer.from(b.join(","),"ascii");E=b.concat(E);var C=["hmac-sha2-256","hmac-sha2-512","hmac-sha1"],S=["hmac-md5","hmac-sha2-256-96","hmac-sha2-512-96","hmac-ripemd160","hmac-sha1-96","hmac-md5-96"],k=Buffer.from(C.join(","),"ascii");S=C.concat(S);var x=["none","zlib@openssh.com","zlib"],D=[],A=Buffer.from(x.join(","),"ascii");function T(e,t,r,n,i,o){return{blockLen:e,keyLen:t,ivLen:0===r?e:r,authLen:n,discardLen:i,stream:o}}function R(e,t){return{len:e,actualLen:t}}D=x.concat(D),t.CIPHER_INFO={"aes128-gcm":T(16,16,12,16,0,!1),"aes256-gcm":T(16,32,12,16,0,!1),"aes128-gcm@openssh.com":T(16,16,12,16,0,!1),"aes256-gcm@openssh.com":T(16,32,12,16,0,!1),"aes128-cbc":T(16,16,0,0,0,!1),"aes192-cbc":T(16,24,0,0,0,!1),"aes256-cbc":T(16,32,0,0,0,!1),"rijndael-cbc@lysator.liu.se":T(16,32,0,0,0,!1),"3des-cbc":T(8,24,0,0,0,!1),"blowfish-cbc":T(8,16,0,0,0,!1),"idea-cbc":T(8,16,0,0,0,!1),"cast128-cbc":T(8,16,0,0,0,!1),"camellia128-cbc":T(16,16,0,0,0,!1),"camellia192-cbc":T(16,24,0,0,0,!1),"camellia256-cbc":T(16,32,0,0,0,!1),"camellia128-cbc@openssh.com":T(16,16,0,0,0,!1),"camellia192-cbc@openssh.com":T(16,24,0,0,0,!1),"camellia256-cbc@openssh.com":T(16,32,0,0,0,!1),"aes128-ctr":T(16,16,0,0,0,!1),"aes192-ctr":T(16,24,0,0,0,!1),"aes256-ctr":T(16,32,0,0,0,!1),"3des-ctr":T(8,24,0,0,0,!1),"blowfish-ctr":T(8,16,0,0,0,!1),"cast128-ctr":T(8,16,0,0,0,!1),"camellia128-ctr":T(16,16,0,0,0,!1),"camellia192-ctr":T(16,24,0,0,0,!1),"camellia256-ctr":T(16,32,0,0,0,!1),"camellia128-ctr@openssh.com":T(16,16,0,0,0,!1),"camellia192-ctr@openssh.com":T(16,24,0,0,0,!1),"camellia256-ctr@openssh.com":T(16,32,0,0,0,!1),arcfour:T(8,16,0,0,1536,!0),arcfour128:T(8,16,0,0,1536,!0),arcfour256:T(8,32,0,0,1536,!0),arcfour512:T(8,64,0,0,1536,!0)},t.HMAC_INFO={"hmac-md5":R(16,16),"hmac-md5-96":R(16,12),"hmac-ripemd160":R(20,20),"hmac-sha1":R(20,20),"hmac-sha1-96":R(20,12),"hmac-sha2-256":R(32,32),"hmac-sha2-256-96":R(32,12),"hmac-sha2-512":R(64,64),"hmac-sha2-512-96":R(64,12)},t.ALGORITHMS={KEX:d,KEX_BUF:g,SUPPORTED_KEX:m,SERVER_HOST_KEY:v,SERVER_HOST_KEY_BUF:w,SUPPORTED_SERVER_HOST_KEY:y,CIPHER:b,CIPHER_BUF:_,SUPPORTED_CIPHER:E,HMAC:C,HMAC_BUF:k,SUPPORTED_HMAC:S,COMPRESS:x,COMPRESS_BUF:A,SUPPORTED_COMPRESS:D},t.SSH_TO_OPENSSL={"ecdh-sha2-nistp256":"prime256v1","ecdh-sha2-nistp384":"secp384r1","ecdh-sha2-nistp521":"secp521r1","aes128-gcm":"aes-128-gcm","aes256-gcm":"aes-256-gcm","aes128-gcm@openssh.com":"aes-128-gcm","aes256-gcm@openssh.com":"aes-256-gcm","3des-cbc":"des-ede3-cbc","blowfish-cbc":"bf-cbc","aes256-cbc":"aes-256-cbc","aes192-cbc":"aes-192-cbc","aes128-cbc":"aes-128-cbc","idea-cbc":"idea-cbc","cast128-cbc":"cast-cbc","rijndael-cbc@lysator.liu.se":"aes-256-cbc",arcfour128:"rc4",arcfour256:"rc4",arcfour512:"rc4",arcfour:"rc4","camellia128-cbc":"camellia-128-cbc","camellia192-cbc":"camellia-192-cbc","camellia256-cbc":"camellia-256-cbc","camellia128-cbc@openssh.com":"camellia-128-cbc","camellia192-cbc@openssh.com":"camellia-192-cbc","camellia256-cbc@openssh.com":"camellia-256-cbc","3des-ctr":"des-ede3","blowfish-ctr":"bf-ecb","aes256-ctr":"aes-256-ctr","aes192-ctr":"aes-192-ctr","aes128-ctr":"aes-128-ctr","cast128-ctr":"cast5-ecb","camellia128-ctr":"camellia-128-ecb","camellia192-ctr":"camellia-192-ecb","camellia256-ctr":"camellia-256-ecb","camellia128-ctr@openssh.com":"camellia-128-ecb","camellia192-ctr@openssh.com":"camellia-192-ecb","camellia256-ctr@openssh.com":"camellia-256-ecb","hmac-sha1-96":"sha1","hmac-sha1":"sha1","hmac-sha2-256":"sha256","hmac-sha2-256-96":"sha256","hmac-sha2-512":"sha512","hmac-sha2-512-96":"sha512","hmac-md5-96":"md5","hmac-md5":"md5","hmac-ripemd160":"ripemd160"};var I=t.BUGS={BAD_DHGEX:1,OLD_EXIT:2,DYN_RPORT_BUG:4};t.BUGGY_IMPLS=[["Cisco-1.25",I.BAD_DHGEX],[/^[0-9.]+$/,I.OLD_EXIT],[/^OpenSSH_5\.\d+/,I.DYN_RPORT_BUG]],t.EDDSA_SUPPORTED=s},function(e,t,r){"use strict";var n=r(39).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,s||o.call(t)},h=t._readableState&&t._readableState.endEmitted,f=function(){s=!1,h=!0,a||o.call(t)},p=function(e){o.call(t,e)},d=function(){var e;return s&&!h?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",l),t.on("abort",d),t.req?m():t.on("request",m)),t.on("end",f),t.on("finish",l),!1!==r.error&&t.on("error",p),t.on("close",d),function(){t.removeListener("complete",l),t.removeListener("abort",d),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",f),t.removeListener("error",p),t.removeListener("close",d)}}},function(e,t,r){"use strict";var n=r(50).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,s||o.call(t)},h=t._readableState&&t._readableState.endEmitted,f=function(){s=!1,h=!0,a||o.call(t)},p=function(e){o.call(t,e)},d=function(){var e;return s&&!h?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",l),t.on("abort",d),t.req?m():t.on("request",m)),t.on("end",f),t.on("finish",l),!1!==r.error&&t.on("error",p),t.on("close",d),function(){t.removeListener("complete",l),t.removeListener("abort",d),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",f),t.removeListener("error",p),t.removeListener("close",d)}}},function(e,t,r){"use strict";var n=r(52).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,s||o.call(t)},h=t._readableState&&t._readableState.endEmitted,f=function(){s=!1,h=!0,a||o.call(t)},p=function(e){o.call(t,e)},d=function(){var e;return s&&!h?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",l),t.on("abort",d),t.req?m():t.on("request",m)),t.on("end",f),t.on("finish",l),!1!==r.error&&t.on("error",p),t.on("close",d),function(){t.removeListener("complete",l),t.removeListener("abort",d),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",f),t.removeListener("error",p),t.removeListener("close",d)}}},function(e,t,r){"use strict";var n=r(54).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,s||o.call(t)},h=t._readableState&&t._readableState.endEmitted,f=function(){s=!1,h=!0,a||o.call(t)},p=function(e){o.call(t,e)},d=function(){var e;return s&&!h?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",l),t.on("abort",d),t.req?m():t.on("request",m)),t.on("end",f),t.on("finish",l),!1!==r.error&&t.on("error",p),t.on("close",d),function(){t.removeListener("complete",l),t.removeListener("abort",d),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",f),t.removeListener("error",p),t.removeListener("close",d)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),i=r(33),o=r(15),s=r(3),a=r(30),c=r(0),u=r(8),l=r(117),h=r(152),f={sshAuth:"duplex",rpc:"async",ready:"async"};t.launchRemoteContainersServer=async function(e,r){var p,d,m,g;const{output:v}=e,y="Launching Remote-Containers helper.",w=v.start(y);if(u.isTsnode)return v.stop(y,w),{remoteEnv:{},ready:Promise.resolve()};const b=(await c.promisify(o.randomBytes)(20)).toString("hex"),E=function(){if(process.env.SSH_AUTH_SOCK)return process.env.SSH_AUTH_SOCK;if("win32"===process.platform)return t.windowsDefaultAuthSock;return}(),_=E?n.posix.join((null===(p=r.env)||void 0===p?void 0:p.TMPDIR)||"/tmp",`vscode-ssh-auth-${b}.sock`):void 0,C=n.posix.join((null===(d=r.env)||void 0===d?void 0:d.TMPDIR)||"/tmp",`vscode-remote-containers-ipc-${b}.sock`),S=n.posix.join((null===(m=r.env)||void 0===m?void 0:m.TMPDIR)||"/tmp",`vscode-remote-containers-server-${b}.js`),k=n.posix.join((null===(g=r.env)||void 0===g?void 0:g.TMPDIR)||"/tmp",`vscode-remote-containers-${b}.js`),x=async function({output:e},{remoteExec:t,nodeExecutable:r,shellServer:o},p,d,m,g,v){const y={};g&&(y.SSH_AUTH_SOCK=g);y.REMOTE_CONTAINERS_IPC=v;const w=c.promisify(s.readFile)(n.join(__dirname,"remoteContainersCli.js"),{encoding:"utf8"}),b=c.promisify(s.readFile)(n.join(__dirname,"remoteContainersServer.js"),{encoding:"utf8"}),E=`EOF-${d}`;await o.exec(`cat <<'${E}' >${d}\n${await w}\n${E}\n`);const _=[];if("win32"===process.platform){const e=`EOF-${p}`;await o.exec(`cat <<'${e}' >${p}\n${await b}\n${e}\n`),_.push(p)}else _.push("-e",await b);const C=await t({env:y,cmd:r,args:_,output:e,silent:!0});let S;const k=new Promise(e=>S=e),x=l(null,f)({sshAuth:()=>{if(m)return h.duplex(i.connect(m))},rpc:async(e,t)=>{try{const r=JSON.parse(e),n=await async function(e,t){try{const{stdout:r,stderr:n}=await u.exec(`git credential ${e}`,{stdin:t,env:Object.assign(process.env,{GIT_TERMINAL_PROMPT:"0"})});return{stdout:r,stderr:n,code:0}}catch({stdout:e,stderr:t,error:r}){const n=r.code||0;return-1!==t.indexOf("terminal prompts disabled")&&(t=""),{stdout:e,stderr:t,code:n}}}(r.command,r.stdin);t(void 0,JSON.stringify(n))}catch(e){console.error(e),t(e)}},ready:e=>{S(),e()}});a(h.source(C.stdout),x.createStream(),h.sink(C.stdin)),await k}(e,r,S,k,E,_,C);return x.catch(console.error),v.stop(y,w),{remoteContainersCLI:k,remoteEnv:_?{SSH_AUTH_SOCK:_,REMOTE_CONTAINERS_IPC:C}:{REMOTE_CONTAINERS_IPC:C},ready:x}},t.windowsDefaultAuthSock="\\\\.\\pipe\\openssh-ssh-agent"},function(e,t,r){"use strict";e.exports={keys:r(98),once:r(65),values:r(42),count:r(99),infinite:r(100),empty:r(101),error:r(102)}},function(e,t,r){"use strict";var n=r(42);e.exports=function(e){return n(Object.keys(e))}},function(e,t,r){"use strict";e.exports=function(e){var t=0;return e=e||1/0,function(r,n){return r?n&&n(r):t>e?n(!0):void n(null,t++)}}},function(e,t,r){"use strict";e.exports=function(e){return e=e||Math.random,function(t,r){return t?r&&r(t):r(null,e())}}},function(e,t,r){"use strict";e.exports=function(){return function(e,t){t(!0)}}},function(e,t,r){"use strict";e.exports=function(e){return function(t,r){r(e)}}},function(e,t,r){"use strict";e.exports={drain:r(19),onEnd:r(104),log:r(105),find:r(106),reduce:r(43),collect:r(107),concat:r(108)}},function(e,t,r){"use strict";var n=r(19);e.exports=function(e){return n(null,e)}},function(e,t,r){"use strict";var n=r(19);e.exports=function(e){return n((function(e){console.log(e)}),e)}},function(e,t,r){"use strict";function n(e){return e}var i=r(20),o=r(19);e.exports=function(e,t){var r=!1;return t?e=i(e)||n:(t=e,e=n),o((function(n){if(e(n))return r=!0,t(null,n),!1}),(function(e){r||t(!0===e?null:e,null)}))}},function(e,t,r){"use strict";var n=r(43);e.exports=function(e){return n((function(e,t){return e.push(t),e}),[],e)}},function(e,t,r){"use strict";var n=r(43);e.exports=function(e){return n((function(e,t){return e+t}),"",e)}},function(e,t,r){"use strict";e.exports={map:r(110),asyncMap:r(111),filter:r(44),filterNot:r(112),through:r(113),take:r(114),unique:r(67),nonUnique:r(115),flatten:r(116)}},function(e,t,r){"use strict";function n(e){return e}var i=r(20);e.exports=function(e){return e?(e=i(e),function(t){return function(r,n){t(r,(function(r,i){try{i=r?null:e(i)}catch(e){return t(e,(function(){return n(e)}))}n(r,i)}))}}):n}},function(e,t,r){"use strict";function n(e){return e}var i=r(20);e.exports=function(e){if(!e)return n;e=i(e);var t,r,o=!1;return function(n){return function i(s,a){if(r)return a(r);s?(r=s,n(s,o?function(e){o?t=a:a(s)}:function(e){a(s)})):n(null,(function(n,s){n?a(n):r?a(r):(o=!0,e(s,(function(e,n){o=!1,r?(a(r),t&&t(r)):e?i(e,a):a(null,n)})))}))}}}},function(e,t,r){"use strict";var n=r(66),i=r(44);e.exports=function(e){return e=n(e),i((function(t){return!e(t)}))}},function(e,t,r){"use strict";e.exports=function(e,t){var r=!1;function n(e){!r&&t&&(r=!0,t(!0===e?null:e))}return function(t){return function(r,i){return r&&n(r),t(r,(function(t,r){t?n(t):e&&e(r),i(t,r)}))}}}},function(e,t,r){"use strict";e.exports=function(e,t){var r=(t=t||{}).last||!1,n=!1;if("number"==typeof e){r=!0;var i=e;e=function(){return--i}}return function(t){function i(e){t(!0,(function(t){r=!1,e(t||!0)}))}return function(o,s){n&&!o?r?i(s):s(n):(n=o)?t(n,s):t(null,(function(t,o){(n=n||t)?s(n):e(o)?s(null,o):(n=!0,r?s(null,o):i(s))}))}}}},function(e,t,r){"use strict";var n=r(67);e.exports=function(e){return n(e,!0)}},function(e,t,r){"use strict";var n=r(42),i=r(65);e.exports=function(){return function(e){var t;return function(r,o){function s(){t(null,(function(t,r){!0===t?a():t?e(!0,(function(e){o(t)})):o(null,r)}))}function a(){t=null,e(null,(function(e,r){if(e)return o(e);Array.isArray(r)||r&&"object"==typeof r?r=n(r):"function"!=typeof r&&(r=i(r)),t=r,s()}))}r?t?t(r,(function(t){e(t||r,o)})):e(r,o):t?s():a()}}}},function(e,t,r){"use strict";var n=r(118),i=(r(21),r(122)),o=r(149),s=r(150),a=r(6).EventEmitter;function c(e,t,r,c,u,l,h){var f;"function"==typeof e&&(f=e,e={}),t=t||{},e=e||{};var p,d=new a;l||(l=n);var m={_emit:function(e,t){return d&&d._emit(e,t),m},id:c},g=i(s(r,t,u).bind(m),l,(function(e){if(!d.closed&&(d.closed=!0,d.emit("closed"),p)){var t=p;p=null,t(e)}}));if(o(d,e,(function(e,t,r,n){if(g.closed)throw new Error("stream is closed");return g.remoteCall(e,t,r,n)}),f),d._emit=d.emit,h){Object.__defineGetter__.call(d,"id",(function(){return m.id})),Object.__defineSetter__.call(d,"id",(function(e){m.id=e}));var v=!0;d.createStream=function(e){if(p=e,v)return v=!1,g;throw new Error("one stream per rpc")}}else d.stream=g;return d.closed=!1,d.close=function(e,t){return g.close(e,t),this},d}e.exports=function(e,t,r){return arguments.length>3?c.apply(this,arguments):function(n,i,o){return c(e,t,n,o,i,r,!0)}}},function(e,t,r){var n=r(119),i=r(120),o=0,s=1,a=2,c="GOODBYE",u=Buffer.isBuffer;function l(e){return"string"==typeof e}function h(e){var t=new Buffer(9),r=0,n=void 0!==e.value?e.value:e.end;return l(e)&&e===c?(t.fill(0),[t,null]):(l(n)?(r=s,n=new Buffer(n)):u(n)?r=o:(r=a,n=new Buffer(JSON.stringify(n))),r=e.stream<<3|e.end<<2|r,t[0]=r,t.writeUInt32BE(n.length,1),t.writeInt32BE(e.req||0,5),[t,n])}function f(e){if(9!=e.length)throw new Error("expected header to be 9 bytes long");var t=e[0],r=e.readUInt32BE(1);return{req:e.readInt32BE(5),stream:!!(8&t),end:!!(4&t),value:null,length:r,type:3&t}}function p(e,t){if(e.length!==t.length)throw new Error("incorrect length, expected:"+t.length+" found:"+e.length);if(o===t.type)t.value=e;else if(s===t.type)t.value=e.toString();else{if(a!==t.type)throw new Error("unknown message type");t.value=JSON.parse(e.toString())}return t}function d(){return n((function(e){var t=h(e);this.queue(t[0]),null!==t[1]&&this.queue(t[1])}))}function m(){var e=i(),t=!1;return function(r){return e(r),function(r,n){return t?n(!0):r?e.abort(r,n):void e.read(9,(function(r,i){if(r)return n(r);var o=f(i);if(0===o.length)return t=!0,n(null,c);e.read(o.length,(function(e,t){if(e)return n(e);try{p(t,o)}catch(e){return n(e)}n(null,o)}))}))}}}(t=e.exports=function(e){return{source:d()(e.source),sink:function(t){return e.sink(m()(t))}}}).encodePair=h,t.decodeHead=f,t.decodeBody=p,t.encode=d,t.decode=m},function(e,t,r){var n=r(69);e.exports=function(e,t){return function(r){var i,o,s=[];function a(e){s.push(e)}e=e||function(e){this.queue(e)},t=t||function(){this.queue(null)};var c,u={emit:function(e,t){"data"==e&&a(t),"end"==e&&(i=!0,a(null)),"error"==e&&(o=t)},queue:a};return function(a,l){if(i=i||a,a)return r(a,(function(){if(c){var e=c;c=null,e(a)}l(a)}));c=l,n((function n(a){if(c)if(l=c,o)c=null,l(o);else if(s.length){var h=s.shift();c=null,l(null===h,h)}else r(i,(function(s,h){if(s&&!0!==s)return o=s,a();if(i=i||s)t.call(u);else if(null!==h&&(e.call(u,h),o||i))return r(o||i,(function(){c=null,l(o||i)}));a(n)}))}))}}}},function(e,t,r){"use strict";var n=r(121);function i(e){return"function"==typeof e}function o(e,t){return t?function(r,n){var i=setTimeout((function(){e(new Error("pull-reader: read exceeded timeout"),n)}),t);e(r,(function(e,t){clearTimeout(i),n(e,t)}))}:e}e.exports=function(e){var t,r,s,a,c,u=[],l=!1,h=n();function f(){for(;u.length;)if(null==u[0].length&&h.has(1))u.shift().cb(null,h.get());else if(h.has(u[0].length)){var e=u.shift();e.cb(null,h.get(e.length))}else if(1==s&&u[0].length&&h.length<u[0].length){var t="stream ended with:"+h.length+" but wanted:"+u[0].length;u.shift().cb(new Error(t))}else{if(!s)return!!u.length;u.shift().cb(s)}return u.length||!h.has(1)||c}function p(){f()&&!l&&(!t||l||a||(l=!0,r(null,(function(e,t){if(l=!1,e)return s=e,f();h.add(t),p()}))))}function d(n){if(c){for(;u.length;)u.shift().cb(c);return cb&&cb(c)}r=o(n,e),t=n,p()}return d.abort=function(e,r){c=e||!0,t?(l=!0,t(c,(function(){for(;u.length;)u.shift().cb(c);r&&r(c)}))):r()},d.read=function(r,n,s){if(i(n)&&(s=n,n=e),!i(s))return a=!0,function(e,r){if(l||h.has(1)){if(e)return t(e,r);u.push({length:null,cb:r}),p()}else o(t,n)(e,(function(e,t){r(e,t)}))};var c;u.push({length:(c=r,Number.isFinite(c)?r:null),cb:s}),p()},d}},function(e,t){e.exports=function(){var e=[],t=0;return{length:t,data:this,add:function(r){if(!Buffer.isBuffer(r))throw new Error("data must be a buffer, was: "+JSON.stringify(r));return this.length=t+=r.length,e.push(r),this},has:function(e){return null==e?t>0:t>=e},get:function(r){var n;if(null==r||r===t){t=0;var i=e;return e=[],1==i.length?i[0]:Buffer.concat(i)}if(e.length>1&&r<=(n=e[0].length)){var o=e[0].slice(0,r);return r===n?e.shift():e[0]=e[0].slice(r,n),t-=r,o}if(r<t){for(var s=[],a=0;a+e[0].length<r;){var c=e.shift();a+=c.length,s.push(c)}return a<r&&(s.push(e[0].slice(0,r-a)),e[0]=e[0].slice(r-a,e[0].length),this.length=t-=r),Buffer.concat(s)}throw new Error("could not get "+r+" bytes")}}}},function(e,t,r){"use strict";var n=r(123),i=(r(30),r(124)),o=r(125),s=r(21),a=r(74);function c(e){return function(e){return"sync"===e}(e)||function(e){return"async"===e}(e)}function u(e){return function(e){return"source"===e}(e)||function(e){return"sink"===e}(e)||function(e){return"duplex"===e}(e)}e.exports=function(e,t,r){var l=n({message:function(e){},request:function(t,r){if(!Array.isArray(t.args))return r(new Error("invalid request, args should be array, was:"+JSON.stringify(t)));var n=t.name,i=t.args,o=!1,s=!1;i.push((function(e,t){s=!0,o=!0,r(e,t)}));try{e("async",n,i)}catch(e){if(o||s)throw a(e,"no callback provided to muxrpc async funtion");return r(e)}},stream:function(t){t.read=function(r,n){var o,a,c=r.name,l=r.type;if(t.read=null,!u(l))return t.write(null,new Error("unsupported stream type:"+l));if(n)return t.write(null,n);try{a=e(l,c,r.args)}catch(e){o=e}var h=i[{source:"sink",sink:"source"}[l]||"duplex"](t);return s.pipeToStream(l,h,o?s.errorAsStream(l,o):a)}},close:function(e){if(l=null,h.ended=!0,!h.closed&&(h.closed=!0,r)){var t=r;r=null,t(e)}}}),h=o(i(l,(function(e){})));return(h=t?t(h):h).remoteCall=function(e,t,r,n){if("emit"===t)return l.message(r);if(!c(e)&&!u(e))throw new Error("unsupported type:"+JSON.stringify(e));if(c(e))return l.request({name:t,args:r},n);var o=l.stream(),s=i[e](o,n);return o.write({name:t,args:r,type:e}),s},h.isOpen=function(){return!l.ended},h.close=function(e,t){return"function"==typeof e&&(t=e,e=!1),l?e?(l.destroy(e),t&&t()):(l.close((function(e){if(t)t(e);else if(e)throw a(e,"no callback provided for muxrpc close")})),this):t&&t()},h.closed=!1,h}},function(e,t){function r(e){return e?!0===e||{message:e.message,name:e.name,stack:e.stack}:e}function n(e){this.ended=!1,this.opts=e,this._req_counter=1,this._requests={},this._instreams={},this._outstreams={},this._closecbs=[],this._closing=!1,this._closed=!1,e.close&&this._closecbs.push(e.close)}function i(e){console.error("packet-stream asked to read after closed",e)}function o(e,t,r){this.id=e,this.read=null,this.writeEnd=null,this.readEnd=null,this._ps=t,this._remove=r,this._seq_counter=1}e.exports=function(e){return new n(e)},n.prototype.message=function(e){this.read({req:0,stream:!1,end:!1,value:e})},n.prototype.request=function(e,t){if(this._closing)return t(new Error("parent stream is closing"));var r=this._req_counter++,n=this;this._requests[r]=function(e,i){delete n._requests[r],t(e,i),n._maybedone()},this.read({req:r,stream:!1,end:!1,value:e})},n.prototype.stream=function(){if(this._closing)throw new Error("parent stream is closing");var e=this._req_counter++,t=this;return this._outstreams[e]=new o(e,this,(function(){delete t._outstreams[e]})),this._outstreams[e]},n.prototype.close=function(e){if(!e)throw new Error("packet-stream.close *must* have callback");if(this._closed)return e();this._closecbs.push(e),this._closing=!0,this._maybedone()},n.prototype.destroy=function(e){e=e||r(e),this.ended=e,this._closing=!0;var t=!0===e?new Error("unexpected end of parent stream"):e,n=0;for(var i in this._requests)n++,this._requests[i](t);for(var i in this._instreams)n++,this._instreams[i].writeEnd=!0,this._instreams[i].destroy(t);for(var i in this._outstreams)n++,this._outstreams[i].writeEnd=!0,this._outstreams[i].destroy(t);0===n&&!0===e&&(t=null),this._maybedone(t)},n.prototype._maybedone=function(e){!this._closed&&this._closing&&0===Object.keys(this._requests).length&&0===Object.keys(this._instreams).length&&0===Object.keys(this._outstreams).length&&(this._closed=!0,this._closecbs.forEach((function(t){t(e)})),this.read(null,e||!0),this.opts=null,this._closecbs.length=0,this.read=i)},n.prototype.read=function(e){console.error("please overwrite read method to do IO",e)},n.prototype.write=function(e,t){this.ended||(t?this.destroy(t):e.req&&!e.stream?this._onrequest(e):e.req&&e.stream?this._onstream(e):this._onmessage(e))},n.prototype._onmessage=function(e){this.opts&&"function"==typeof this.opts.message&&this.opts.message(e.value)},n.prototype._onrequest=function(e){var t=-1*e.req;if(e.req<0)"function"==typeof this._requests[t]&&this._requests[t](e.end?e.value:null,e.end?null:e.value);else if(this.opts&&"function"==typeof this.opts.request){var n=!1,i=this;this.opts.request(e.value,(function(e,o){if(n)throw new Error("cb called twice from local api");n=!0,e?i.read({value:r(e),end:!0,req:t}):i.read({value:o,end:!1,req:t}),i._maybedone()}))}else{if(this.ended){var o=!0===this.ended?new Error("unexpected end of parent stream"):this.ended;this.read({value:r(o),end:!0,stream:!1,req:t})}else this.read({value:{message:"Unable to handle requests",name:"NO_REQUEST_HANDLER",stack:null},end:!0,stream:!1,req:t});this._maybedone()}},n.prototype._onstream=function(e){if(e.req<0){var t=-1*e.req,r=this._outstreams[t];if(!r)return console.error("no stream for incoming msg",e);e.end?(r.writeEnd&&delete this._outstreams[t],r.readEnd=!0,r.read(null,e.value),this._maybedone()):r.read(e.value)}else{t=e.req;var n=this._instreams[t];if(!n){var i=this;n=this._instreams[t]=new o(-1*t,this,(function(){delete i._instreams[t]})),this.opts&&"function"==typeof this.opts.stream&&this.opts.stream(n)}e.end?(n.writeEnd&&delete this._instreams[t],n.readEnd=!0,n.read&&n.read(null,e.value),this._maybedone()):n.read?n.read(e.value):console.error("no .read for stream:",n.id,"dropped:",e)}},o.prototype.write=function(e,t){if(t){this.writeEnd=t;var n=this._ps;n&&(n.read({req:this.id,stream:!0,end:!0,value:r(t)}),this.readEnd&&this.destroy(),n._maybedone())}else this._ps&&this._ps.read({req:this.id,stream:!0,end:!1,value:e})},o.prototype.end=function(e){this.write(null,r(e||!0))},o.prototype.destroy=function(e){if(this.writeEnd){if(!this.readEnd){this.readEnd=!0;try{this.read&&this.read(null,e)}catch(e){console.error("Exception thrown by PacketStream substream end handler",e),console.error(e.stack)}}}else{if(this.writeEnd=!0,!this.readEnd){this.readEnd=!0;try{this.read(null,e)}catch(e){console.error("Exception thrown by PacketStream substream end handler",e),console.error(e.stack)}}this.write(null,e)}this._ps&&(this._remove(),this._remove=null,this.read=i,this._ps=null)}},function(e,t,r){"use strict";var n=r(30);function i(t,r){return e.exports(t,(function(e){t.writeEnd||t.write(null,e||!0),r&&r(e)}))}e.exports=function(e,t){var r,i,o=[],s=!1,a=function(e){var t=!1;return function(r,n){t||(t=!0,e(r,n))}}((function(n,o){t&&t(n,o),e=null,t=null,r=null,i&&i(n||!0,(function(){}))}));return e.read=function(e,t){if(s=s||t,r){var n=r;r=null,n(s,e)}else s||o.push(e);s&&a(!0!==s?s:null)},{source:function(t,n){t?(e&&e.write(null,t),n(t),a(!0!==t?t:null)):o.length?n(null,o.shift()):s?n(s):r=n},sink:function(t){if(s)return t(s,(function(){})),i=null;i=t,n.drain((function(t){if(s)return!1;e.write(t)}),(function(t){e&&!e.writeEnd&&e.write(null,t||!0),a&&a(t)}))(t)}}},e.exports.source=function(e){return i(e).source},e.exports.sink=function(e,t){return i(e,t).sink},e.exports.duplex=e.exports},function(e,t,r){var n=r(126),i=r(127);e.exports=function(e,t){var r=n(t=t||"GOODBYE");return{source:i(e.source,r),sink:i(i.filter((function(e){if(e!==t)return!0;r.end()})),e.sink)}}},function(e,t){e.exports=function(e){var t,r,n;function i(i){return function(o,s){i(o,(function(i,o){if(i&&!n)return n=!0,s(null,e);i&&t?s(i):i?r=s:s(null,o)}))}}return i.end=function(){return t=!0,r&&r(t),i},i}},function(e,t,r){"use strict";var n=r(128),i=r(134),o=r(140);for(var s in t=e.exports=r(148),n)t[s]=n[s];for(var s in o)t[s]=o[s];for(var s in i)t[s]=i[s]},function(e,t,r){"use strict";e.exports={keys:r(129),once:r(71),values:r(45),count:r(130),infinite:r(131),empty:r(132),error:r(133)}},function(e,t,r){"use strict";var n=r(45);e.exports=function(e){return n(Object.keys(e))}},function(e,t,r){"use strict";e.exports=function(e){var t=0;return e=e||1/0,function(r,n){return r?n&&n(r):t>e?n(!0):void n(null,t++)}}},function(e,t,r){"use strict";e.exports=function(e){return e=e||Math.random,function(t,r){return t?r&&r(t):r(null,e())}}},function(e,t,r){"use strict";e.exports=function(){return function(e,t){t(!0)}}},function(e,t,r){"use strict";e.exports=function(e){return function(t,r){r(e)}}},function(e,t,r){"use strict";e.exports={drain:r(22),onEnd:r(135),log:r(136),find:r(137),reduce:r(46),collect:r(138),concat:r(139)}},function(e,t,r){"use strict";var n=r(22);e.exports=function(e){return n(null,e)}},function(e,t,r){"use strict";var n=r(22);e.exports=function(e){return n((function(e){console.log(e)}),e)}},function(e,t,r){"use strict";function n(e){return e}var i=r(23),o=r(22);e.exports=function(e,t){var r=!1;return t?e=i(e)||n:(t=e,e=n),o((function(n){if(e(n))return r=!0,t(null,n),!1}),(function(e){r||t(!0===e?null:e,null)}))}},function(e,t,r){"use strict";var n=r(46);e.exports=function(e){return n((function(e,t){return e.push(t),e}),[],e)}},function(e,t,r){"use strict";var n=r(46);e.exports=function(e){return n((function(e,t){return e+t}),"",e)}},function(e,t,r){"use strict";e.exports={map:r(141),asyncMap:r(142),filter:r(47),filterNot:r(143),through:r(144),take:r(145),unique:r(73),nonUnique:r(146),flatten:r(147)}},function(e,t,r){"use strict";function n(e){return e}var i=r(23);e.exports=function(e){return e?(e=i(e),function(t){return function(r,n){t(r,(function(r,i){try{i=r?null:e(i)}catch(e){return t(e,(function(){return n(e)}))}n(r,i)}))}}):n}},function(e,t,r){"use strict";function n(e){return e}var i=r(23);e.exports=function(e){if(!e)return n;e=i(e);var t,r,o=!1;return function(n){return function i(s,a){if(r)return a(r);s?(r=s,n(s,o?function(){o?t=a:a(s)}:a)):n(null,(function(n,s){n?a(n):r?a(r):(o=!0,e(s,(function(e,n){o=!1,r?(a(r),t(r)):e?i(e,a):a(null,n)})))}))}}}},function(e,t,r){"use strict";var n=r(72),i=r(47);e.exports=function(e){return e=n(e),i((function(t){return!e(t)}))}},function(e,t,r){"use strict";e.exports=function(e,t){var r=!1;function n(e){!r&&t&&(r=!0,t(!0===e?null:e))}return function(t){return function(r,i){return r&&n(r),t(r,(function(t,r){t?n(t):e&&e(r),i(t,r)}))}}}},function(e,t,r){"use strict";e.exports=function(e,t){var r=(t=t||{}).last||!1,n=!1;if("number"==typeof e){r=!0;var i=e;e=function(){return--i}}return function(t){function i(e){t(!0,(function(t){r=!1,e(t||!0)}))}return function(o,s){n?r?i(s):s(n):(n=o)?t(n,s):t(null,(function(t,o){(n=n||t)?s(n):e(o)?s(null,o):(n=!0,r?s(null,o):i(s))}))}}}},function(e,t,r){"use strict";var n=r(73);e.exports=function(e){return n(e,!0)}},function(e,t,r){"use strict";var n=r(45),i=r(71);e.exports=function(){return function(e){var t;return function(r,o){function s(){t(null,(function(t,r){!0===t?a():t?e(!0,(function(e){o(t)})):o(null,r)}))}function a(){t=null,e(null,(function(e,r){if(e)return o(e);Array.isArray(r)||r&&"object"==typeof r?r=n(r):"function"!=typeof r&&(r=i(r)),t=r,s()}))}r?t?t(r,(function(t){e(t||r,o)})):e(r,o):t?s():a()}}}},function(e,t,r){"use strict";e.exports=function e(t){var r=arguments.length;if("function"==typeof t&&1===t.length){for(var n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(t){if(null==n)throw new TypeError("partial sink should only be called once!");var i=n;switch(n=null,r){case 1:return e(t,i[0]);case 2:return e(t,i[0],i[1]);case 3:return e(t,i[0],i[1],i[2]);case 4:return e(t,i[0],i[1],i[2],i[3]);default:return i.unshift(t),e.apply(null,i)}}}var o=t;o&&"function"==typeof o.source&&(o=o.source);for(i=1;i<r;i++){var s=arguments[i];"function"==typeof s?o=s(o):s&&"object"==typeof s&&(s.sink(o),o=s.source)}return o}},function(e,t,r){"use strict";var n=r(21),i=r(74);function o(e,t,r,n){for(var i in t)!function(t,i){var s,a=r?r.concat(t):[t];e[t]=(s=i)&&"object"==typeof s?o({},i,a,n):function(){return n(i,a,[].slice.call(arguments))}}(i,t[i]);return e}function s(e){if(e)throw i(e,"callback not provided")}const a=["sync","async"];e.exports=function(e,t,r,i){function c(e,t,i){var o,c="function"==typeof i[i.length-1]?i.pop():a.includes(e)?null:s;if("function"==typeof c){try{o=r(e,t,i,c)}catch(t){return n.errorAsStreamOrCb(e,t,c)}return o}return new Promise((n,o)=>r(e,t,i,(e,t)=>{e?o(e):n(t)}))}return e=e||{},i?c("async","manifest",[function(t,r){if(t)return i(t);o(e,r,null,c),i(null,r,e)}]):o(e,t,null,c),e}},function(e,t,r){var n=r(151),i=r(21);e.exports=function(e,t,r){function o(e,r){return e===i.get(t,r)}function s(t,r,n){if("emit"===r)throw new Error("emit has been removed");if("async"===t&&o("sync",r)){var s,a=n.pop();try{s=i.get(e,r).apply(this,n)}catch(e){return a(e)}return a(null,s)}if(!o(t,r))throw new Error("no "+t+":"+r);return i.get(e,r).apply(this,n)}return r=n(r),function(e,t,n){var i=r.pre(t,n);if(i)throw i;return s.call(this,e,t,n)}}},function(e,t,r){"use strict";var n=r(21),i=Array.isArray;function o(e){return"function"==typeof e}function s(e){return i(e)?e:e.split(".")}e.exports=function(e){if((t=e)&&o(t.pre)&&o(t.test)&&o(t.post))return e;var t;if(o(e))return{pre:e};var r=null,a={};function c(e){return e.allow?(r={},e.allow.forEach((function(e){n.set(r,s(e),!0)}))):r=null,e.deny?e.deny.forEach((function(e){n.set(a,s(e),!0)})):a={},this}return e&&c(e),c.pre=function(e,t){return e=i(e)?e:[e],r&&!n.prefix(r,e)?new Error("method:"+e+" is not in list of allowed methods"):a&&n.prefix(a,e)?new Error("method:"+e+" is on list of disallowed methods"):void 0},c.post=function(e,t){},c.test=function(e,t){return c.pre(e,t)},c.get=function(){return{allow:r,deny:a}},c}},function(e,t,r){r(68);var n=r(69);function i(e){e.destroy?e.destroy():console.error("warning, stream-to-pull-stream: \nthe wrapped node-stream does not implement `destroy`, \nthis may cause resource leaks.")}function o(e,t,r){var o,s,a=!1;function c(){s||(s=!0,r&&r(!0===o?null:o))}function u(){a||(a=!0,h(),o?c():e(o=!0,c))}function l(t){h(),o||e(o=t,c)}function h(){t.on("finish",u),t.removeListener("close",u),t.removeListener("error",l)}t.on("close",u),t.on("finish",u),t.on("error",l),process.nextTick((function(){n((function(r){e(null,(function(e,n){if(o=o||e,!0===e)return t._isStdio?c():t.end();if(o=o||e)return i(t),c();t._isStdio?t.write(n,(function(){r()})):!1===t.write(n)?t.once("drain",r):r()}))}))}))}function s(e){var t,r=[],n=[],o=!1;function s(){for(;(r.length||t)&&n.length;)n.shift()(r.length?null:t,r.shift());!r.length&&o&&(o=!1,e.resume())}return e.on("data",(function(t){r.push(t),s(),r.length&&e.pause&&(o=!0,e.pause())})),e.on("end",(function(){t=!0,s()})),e.on("close",(function(){t=!0,s()})),e.on("error",(function(e){t=e,s()})),function(r,o){if(!o)throw new Error("*must* provide cb");if(r){function a(){for(;n.length;)n.shift()(r);o(r)}if(t)return a();e.once("close",a),i(e)}else n.push(o),s()}}var a=s,c=function(e,t){return function(r){return o(r,e,t)}},u=function(e){return s(e)};(t=e.exports=function(e,t){return e.writable&&e.write?e.readable?function(r){return o(r,e,t),s(e)}:c(e,t):u(e)}).sink=c,t.source=u,t.read=a,t.read1=s,t.read2=function(e){var t,r=!1,n=!1;function i(){var r=e.read();if(null!==r&&t){var n=t;t=null,n(null,r)}}return e.on("readable",(function(){n=!0,t&&i()})).on("end",(function(){r=!0,t&&t(r)})).on("error",(function(e){r=e,t&&t(r)})),function(e,o){t=o,r?o(r):n&&i()}},t.duplex=function(e,t){return{source:u(e),sink:c(e,t)}},t.transform=function(e){return function(t){var r=u(e);return c(e)(t),r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(1),o=r(213),s=r(5),a=r(5),c=r(59),u=r(29);function l(){return{contentHashes:{}}}async function h({configurationTracking:e},t,r){const n=await f(t,r);await e.updateConfigurationState(n)}async function f(e,t){const r={contentHashes:{}};p(r,i.posix.basename(t.configFilePath.path),JSON.stringify({...t,forwardPorts:void 0,configFilePath:void 0}));const n=a.parentURI(t.configFilePath).path;if(s.isDockerFileConfig(t)){const o=s.getDockerfilePath(t),a=await e.readDocument(o);void 0!==a&&p(r,i.posix.relative(n,o.path),a)}if("dockerComposeFile"in t){const s=c.getDockerComposeFilePaths(t),l=await Promise.all(s.map(async t=>{const r=u.URI.file(t);return{uri:r,content:await e.readDocument(r)}}));for(const{uri:e,content:t}of l)void 0!==t&&p(r,i.posix.relative(n,e.path),t);for(let s=l.length-1;s>=0;s--){const{uri:c,content:u}=l[s];if(u){const s=o.safeLoad(u),l=s&&s.services,h=l&&l[t.service],f=h&&h.build,d=f&&("string"==typeof f?f:f.context);if(d){const t=a.resolveConfigFilePath(c,d),o=a.resolveURIPath(t,f.dockerfile||"Dockerfile"),s=await e.readDocument(o);void 0!==s&&p(r,i.posix.relative(n,o.path),s)}if(h&&(h.image||h.build))break}}}return r}function p(e,t,r){const i=n.createHash("sha256").update(r).digest("hex");e.contentHashes[t]=i}t.createEmptyConfigurationState=l,t.checkConfigurationState=async function(e,t,r){const n=e.configurationTracking,i=n.getConfigurationState();if(i){const o=i.contentHashes,s=Object.keys(o),a=(await f(t,r)).contentHashes,c=Object.keys(a),u=new Set(c);s.forEach(e=>u.delete(e));const l=new Set(s);c.forEach(e=>l.delete(e));const p=[];for(const e of s)e in a&&a[e]!==o[e]&&p.push(e);if(u.size||l.size||p.length){"ignore"===await n.containerOutdated([...u,...l,...p].sort())&&await h(e,t,r)}}else await h(e,t,r)},t.updateConfigurationState=async function(e,t,r){const n="Updating configuration state",i=e.common.output.start(n);await h(e,t,r),e.common.output.stop(n,i)}},function(e,t,r){"use strict";var n=r(58);e.exports=new n({explicit:[r(322),r(323),r(324)]})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),i=r(15),o=r(31),s=r(29),a=r(16),c=r(5),u=r(60),l=r(77),h=r(56),f=r(35),p=r(96),d=r(40),m=r(8);function g(e){const t=e.lastIndexOf("/");if(-1===t)return e;const r=Math.max(e.lastIndexOf("/",t-1),e.lastIndexOf(":",t-1));return-1===r?e:e.substr(r+1)}function v(e){let t=g(e);t.endsWith(".git")&&(t=t.substring(0,t.lastIndexOf(".")));const r=t.lastIndexOf("/");return-1===r?t:t.substring(r+1)}function y(e){const t=g(e);return`vsc-${n.posix.basename(t)}-${b(e)}`}function w(e){const t=g(e),r=b(e);return`${n.posix.basename(t).replace(/\s/g,"").toLowerCase()}-${r}`}function b(e){return i.createHash("md5").update(e).digest("hex")}function E(e){return n.posix.join("/workspaces",`${e}`)}async function _(e,t,r,i){const{common:o,connection:s}=e;await async function(e){const t=n.join(e.extensionPath,"scripts","volumeBootstrap.Dockerfile"),r=["build","-f",t,"-t",x,n.dirname(t)];await c.runCommand(e.cwd,"docker",r,e.output,e.loadNativeModule,{env:e.env})}(o);const{containerId:u,shellServer:l}=await async function(e,t,r,n){const{output:i,cwd:o,env:s}=e,u=t.repositoryName,l=t.repositoryPath;let g,v,y,w,b,E;n?(i.write(`Cloning Github repository: ${u} into ${t.workspaceFolder(n)}\n\r`),g=`fatal: destination path '${t.workspaceFolder(n)}' already exists`,v=["run","-d","--mount",`src=${r},dst=${t.volumeDestination},type=volume,volume-driver=local`,"-v","/var/run/docker.sock:/var/run/docker.sock",`${x}`,"sleep","infinity"],y=["git","clone",l,t.workspaceFolder(n)],w=`Repository '${u}' was already cloned into '${t.workspaceFolder(n)}'.\n\r`):(i.write(`Cloning Github repository: ${u} into volume ${r}\n\r`),g=`fatal: destination path '${u}' already exists`,v=["run","-d","--mount",`src=${r},dst=${u},type=volume,volume-driver=local`,"-v","/var/run/docker.sock:/var/run/docker.sock",`${x}`,"sleep","infinity"],y=["git","clone",l,`${u}`],w=`Repository '${u}' was already cloned into volume.`);try{const{stdout:t}=await m.runCommandNoPty(o,"docker",v,i,{env:s});b=t.toString().trim();const r=f.dockerExecFunction(o,b,s,"root");E=await h.launch(r,i);const{remoteContainersCLI:n,remoteEnv:a,ready:u}=await p.launchRemoteContainersServer(e,{remoteExec:r,user:"root",nodeExecutable:"node",shellServer:E});return await d.configureGitCredentialsHelper({shellServer:E,nodeExecutable:"node"},n),await d.copyFileInHomeFolder({homeFolder:"/root",shellServer:E},[".ssh","known_hosts"],"ssh"),await u,await c.dockerExec(e,{id:b,user:"root"},y,void 0,{dockerEnv:a}),{containerId:b,shellServer:E}}catch(e){const r=e&&(e.cmdOutput||e.stack||e.message)||String(e);if(r.includes(g))return i.write(w),t.alreadyCloned=!0,{containerId:b,shellServer:E};{const e=r.replace(f.terminalEscapeSequences,"");throw new a.ContainerError({description:`Git clone failed. ${e}`})}}}(o,t,r,i);try{const{config:r,workspaceFolder:n}=await C(e,t,i,l);return await c.runUserCommandInContainer(e.common,u,"root",n,r.initializeCommand),{imageName:await async function(e,t,r,n,i){const o=t.imageName,s="image"in r?r.image:`vsc-${o}`;if(c.isDockerFileConfig(r))try{const t=async function(e,t,r,n,i){var o,s;const u=c.getDockerfilePath(t).path,l=c.getDockerContextPath(t).path;if(!await d.isFile(n,u))throw new a.ContainerError({description:`Dockerfile (${u}) not found.`});const h=["exec",r,"docker","build","-f",u,"-t",i],f=null===(o=t.build)||void 0===o?void 0:o.target;f&&h.push("--target",f);const p=null===(s=t.build)||void 0===s?void 0:s.args;if(p)for(const e in p)h.push("--build-arg",`${e}=${p[e]}`);return h.push(l),await c.runCommand(e.cwd,"docker",h,e.output,e.loadNativeModule,{env:e.env})}(e,r,n,i,s);await m.showProgress(e,`Building an image from the ${c.getDockerfile(r)} (this can take a while).`,t)}catch(e){throw e instanceof a.ContainerError?e:new a.ContainerError({description:"An error occurred building the image.",originalError:e})}return s}(o,t,r,u,l),config:r}}finally{c.forceRemoveContainer(s.docker,u)}}async function C(e,t,r,n){let i,c=void 0,h=void 0;for(h of(i=r?t.workspaceFolder(r):`${k(t.repositoryPath)}`,u.getPossibleRemoteDevContainerPaths(i)))try{c=(await n.exec(`cat ${h} 2>/dev/null`,{logOutput:!1})).stdout;break}catch(e){}if(!h||void 0===c)throw new a.ContainerError({description:"The repository does not have a 'devcontainer.json' configuration file."});const f=l.substitute({configFile:s.URI.file(h),env:process.env,localWorkspaceFolder:void 0},o.parse(c));return f.configFilePath=s.URI.from({scheme:"vscode-remote",path:h}),("workspaceMount"in f||"workspaceFolder"in f)&&e.common.output.write("The options 'workspaceMount' or 'workspaceFolder' are ignored when cloning a repository into a volume."),{workspaceFolder:i,config:S(e,f)}}function S({common:e,connection:t},r){const n=t.settings,i=n&&n.host?` @ ${n.host}`:"",o=r.name?`Dev Container: ${r.name}${i}`:`Dev Container${i}`;if(e.setWorkspaceName(o),"dockerComposeFile"in r)throw new a.ContainerError({description:"Opening a repository in a container is currently only supported for 'dockerfile' and 'image' configurations."});return r}function k(e){return`/workspaces/${n.posix.basename(g(e))}`}t.repositoryFromPath=function(e){return{repositoryPath:e,repositoryName:g(e),repositoryShortName:v(e),workspaceFolder:E,volumeDestination:"/workspaces",oldVolumeName:y(e),alreadyCloned:!1,imageName:w(e),getWorkspaceConfiguration:(e,t)=>(function(e,t){let r=E(e),n=`src=${t},dst=/workspaces,type=volume,volume-driver=local`;return{workspaceFolder:r,workspaceMount:n}})(e,t),getOldWorkspacePath:k,cloneAndBuildRepository:_,getConfigurationFromImage:C}},t.getRepositoryShortName=v;const x="vsc-volume-bootstrap"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(1),o=r(26),s=r(5),a=r(40),c=r(16),u=r(6),l=r(153),h=r(155),f=r(56),p=r(77),d=r(35),m=r(8);function g(e,t,r,n,i){const o=e instanceof c.ContainerError?e:new c.ContainerError({description:"An error occurred setting up the container.",originalError:e});return t&&(o.manageContainer=!0,o.container={docker:r.docker,info:t}),n&&(o.containerProperties=n),i&&(o.config=i),o}async function v(e,r,n,i,o,c){const{common:h}=r,f=new s.AllDocuments(n.shellServer);c||await l.updateConfigurationState(r,f,i);const d={cwd:h.cwd,env:h.env,containerId:e.Id,user:n.user,sessionId:h.sessionId,shutdownAction:i.shutdownAction,logLevel:h.logLevel,delay:1e4},{shutdownArgs:m}=await s.setupAndConfigureShutdownMonitor(r,f,"singleContainer",d,c?i:void 0),g=e.Labels,v=parseInt(g[t.containerDevPortLabel],10),{hostPort:y,hostPortServer:w,remoteEnv:b}=await a.injectIntoContainer(h,n,i,v);m.hostPortServer=w,s.printPortInfo(h,y,e,o);const E={...b,...i.remoteEnv?p.containerSubstitute(i.configFilePath,n.env,i.remoteEnv):{}};return{authority:h.authority,params:r,properties:n,config:i,resolvedAuthority:{host:"localhost",port:y,extensionHostEnv:E},onPortForwarded:new u.EventEmitter,tunnelInformation:s.getTunnelInformation(e),dockerContainerId:e.Id}}function y(e){const t=(r=e.cwd,n.createHash("md5").update(r).digest("hex"));var r;return`vsc-${i.basename(e.cwd).replace(/\s/g,"").toLowerCase()}-${t}`}async function w(e,t){const{common:r,connection:n}=e;let i=await E(n.docker,t,r.product);if(i&&(!0===e.removeOnStartup||e.removeOnStartup===i.Id)){const e="Removing existing container.",t=r.output.start(e);try{const e=await n.docker.getContainer(i.Id);await e.remove({force:!0})}catch(e){}r.output.stop(e,t),i=void 0}return i}async function b({common:e,connection:t},r,n){if("running"!==n.State){const i="Starting container",o=e.output.start(i);await t.docker.getContainer(n.Id).start(),e.output.stop(i,o),await E(t.docker,r,e.product)||c.bailOut(e.output,"Dev container not found.")}}async function E(e,r,n){return(await e.listContainers({all:!0,filters:{label:[...r,`${t.qualityLabel}=${n.quality}`]}})).filter(e=>"removing"!==e.State)[0]}async function _(e,t,r,n,i){const{common:o,connection:c}=e,u=t.appPort,l=[].concat(...("number"==typeof u||"string"==typeof u?[u]:u||[]).map(e=>["-p","number"==typeof e?`127.0.0.1:${e}:${e}`:e]));let h=[];if(!o.product.commit){const t=await s.inspectImage(e,r),n=await s.getHomeFolderFromImage(o,t),i=await a.getInstallFolder(await a.getUserDataFolder(n,o.product),o.product.commit);h=["-v",`${o.appRoot}:${i}:ro`]}const f=t.devPort||a.defaultDevPort,p=i?["--mount",i]:[],d=t.mounts?[].concat(...t.mounts.map(e=>["--mount",e])):[],g=t.containerEnv,v=g?Object.keys(g).reduce((e,t)=>(e.push("-e",`${t}=${g[t]}`),e),[]):[],y=t.containerUser?["-u",t.containerUser]:[],w=!1!==t.overrideCommand,b=w?["--entrypoint","/bin/sh"]:[],E=w?["-c","echo Container started ; while sleep 1; do :; done"]:[],_=["run","-a","STDOUT","-a","STDERR",...l,...p,...d,...h,...C(o,f),...S(n),...v,...y,...t.runArgs||[],...b,r,...E];let k;const x=new Promise((e,t)=>k=t),{started:D}=await s.startEventSeen(c.docker,function(e){let t={};return e.forEach(e=>{let r=e.split("=");t[r[0]]=r[1]}),t}(n),x,o.output,o.logLevel===s.LogLevel.Trace),A="Starting container",T=o.output.start(A);s.runCommand(o.cwd,"docker",_,o.output,o.loadNativeModule,{env:o.env}).then(k,k),await m.showProgress(o,"Starting the development container",D),o.output.stop(A,T)}function C(e,r){return["-l",`${t.qualityLabel}=${e.product.quality}`,"-l",`${t.containerDevPortLabel}=${r}`]}function S(e){let t=[];return e.forEach(e=>t.push("-l",e)),t}t.qualityLabel="vsch.quality",t.hostFolderLabel="vsch.local.folder",t.repositoryLabel="vsch.local.repository",t.repositoryVolumeLabel="vsch.local.repository.volume",t.repositoryFolderLabel="vsch.local.repository.folder",t.containerDevPortLabel="vsch.remote.devPort",t.openDockerfileDevContainer=async function(e,r,n){const{common:a,connection:u}=e;let l,h,f;const p=[`${t.hostFolderLabel}=${a.cwd}`];try{const t=!!(l=await w(e,p));if(l)await b(e,p,l),f=(await s.getWorkspaceConfiguration(r,n,a.output)).workspaceFolder;else{const t=await async function(e,t){const r="image"in t?t.image:y(e);if(s.isDockerFileConfig(t))try{const n=async function(e,t,r){var n,i;const a=s.getDockerfilePath(t).fsPath;if(!await o.exists(a))throw new c.ContainerError({description:`Dockerfile (${a}) not found.`});const u=["build","-f",a,"-t",r],l=null===(n=t.build)||void 0===n?void 0:n.target;l&&u.push("--target",l);const h=null===(i=t.build)||void 0===i?void 0:i.args;if(h)for(const e in h)u.push("--build-arg",`${e}=${h[e]}`);return u.push(s.getDockerContextPath(t).fsPath),s.runCommand(e.cwd,"docker",u,e.output,e.loadNativeModule,{env:e.env})}(e,t,r);await m.showProgress(e,`Building an image from the ${s.getDockerfile(t)} (this can take a while).`,n)}catch(e){throw e instanceof c.ContainerError?e:new c.ContainerError({description:"An error occurred building the image.",originalError:e})}return r}(a,n),h=await async function({common:e,connection:t},r,n){if(!1===r.updateRemoteUserUID||"linux"!==process.platform)return n;const o=(await t.docker.getImage(n).inspect()).Config.User||"root",a=r.remoteUser||function(e=[]){for(let t=e.length-1;t>=0;t--){const r=e[t];if(("-u"===r||"--user"===r)&&t+1<e.length)return e[t+1];if(r.startsWith("-u=")||r.startsWith("--user="))return r.substr(r.indexOf("=")+1)}return}(r.runArgs)||r.containerUser||o;if("root"===a||/^\d+$/.test(a))return n;const c=`${"image"in r?y(e):n}-uid`,u=i.join(e.extensionPath,"scripts","updateUID.Dockerfile"),l=["build","-f",u,"-t",c,"--build-arg",`BASE_IMAGE=${n}`,"--build-arg",`REMOTE_USER=${a}`,"--build-arg",`NEW_UID=${process.getuid()}`,"--build-arg",`NEW_GID=${process.getgid()}`,"--build-arg",`IMAGE_USER=${o}`,i.dirname(u)];return await s.runCommand(e.cwd,"docker",l,e.output,e.loadNativeModule,{env:e.env}),c}(e,n,t);try{const t=await s.getWorkspaceConfiguration(r,n,a.output,e.workspaceMountConsistency);await _(e,n,h,p,t.workspaceMount),f=t.workspaceFolder}finally{l=await E(u.docker,p,a.product)}if(!l)return c.bailOut(a.output,"Dev container not found.")}return h=await s.createContainerProperties(e,l.Id,f,n.remoteUser),await v(l,e,h,n,f,t)}catch(e){throw g(e,l,u,h,n)}},t.openDockerfileRepoDevContainer=async function(e,{repositoryPath:r,volumeName:n,folder:i}){const{common:o,connection:u}=e,l=h.repositoryFromPath(r);let p,m,y,C,S;n||(n=l.oldVolumeName),i?(C=[`${t.repositoryLabel}=${r}`,`${t.repositoryVolumeLabel}=${n}`,`${t.repositoryFolderLabel}=${i}`],S=l.workspaceFolder(i)):(C=[`${t.repositoryLabel}=${r}`],S=l.getOldWorkspacePath(r));try{const t=!!(p=await w(e,C));if(p){await b(e,C,p);const t=d.dockerExecFunction(o.cwd,p.Id,o.env,"root"),r=await f.launch(t,o.output,o.sessionId);y=(await l.getConfigurationFromImage(e,l,i,r)).config,m=await s.createContainerProperties(e,p.Id,S,y.remoteUser,r),await s.runUserCommandInContainer(e.common,p.Id,m.user,S,y.initializeCommand)}else{const t=await l.cloneAndBuildRepository(e,l,n,i);y=t.config;try{const r=await l.getWorkspaceConfiguration(l.repositoryPath,n);await _(e,y,t.imageName,C,r.workspaceMount)}finally{p=await E(u.docker,C,o.product)}if(!p)return c.bailOut(o.output,"Dev container not found.");m=await s.createContainerProperties(e,p.Id,S,y.remoteUser),l.alreadyCloned||await a.chownRepositoryFiles(m,S)}return await v(p,e,m,y,S,t)}catch(e){throw g(e,p,u,m,y)}},t.findDevContainer=E,t.getHostWorkspaceFolder=function(e){const r=e.Labels[t.hostFolderLabel];return r||void 0},t.getRepositoryPath=function(e){const r=e.Labels[t.repositoryLabel];return r||void 0},t.getRepositoryVolume=function(e){const r=e.Labels[t.repositoryVolumeLabel];return r||void 0},t.getRepositoryFolder=function(e){const r=e.Labels[t.repositoryFolderLabel];return r||void 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),i=r(10),o=r(7),s=r(15);t.createServer=async function(e,t){const r=function(e){if("win32"===process.platform)return`\\\\.\\pipe\\${e}-sock`;if(process.env.XDG_RUNTIME_DIR)return n.join(process.env.XDG_RUNTIME_DIR,`${e}.sock`);return n.join(o.tmpdir(),`${e}.sock`)}(`${e}-${(await async function(e){return new Promise((t,r)=>{s.randomBytes(e,(e,n)=>{e?r(e):t(n)})})}(20)).toString("hex")}`),i=new a(r,t);return i.listen(),i};class a{constructor(e,t){this.ipcHandlePath=e,this.server=i.createServer((e,r)=>{Promise.resolve(t(e,r)).catch(e=>console.error(e&&e.message||e))}),this.server.on("error",e=>console.error(e))}listen(){this.server.listen(this.ipcHandlePath)}dispose(){this.server.close()}}t.Server=a,t.readJSON=async function(e){return new Promise((t,r)=>{const n=[];e.setEncoding("utf8"),e.on("data",e=>n.push(e)),e.on("error",e=>r(e)),e.on("end",()=>{const e=JSON.parse(n.join(""));t(e)})})},t.sendData=async function(e,t){return new Promise((r,n)=>{const o={socketPath:e,path:"/",method:"POST"},s=i.request(o,e=>r(e));s.on("error",e=>n(e)),s.write(t),s.end()})};t.Queue=class{constructor(){this.messages=[]}push(e){this.messages.push(e),this.dequeueRequest&&(this.dequeueRequest.resolve(this.messages),this.dequeueRequest=void 0,this.messages=[])}async dequeue(e){if(this.messages.length){const e=this.messages;return this.messages=[],e}return this.dequeueRequest&&this.dequeueRequest.resolve([]),new Promise((t,r)=>{this.dequeueRequest={resolve:t,reject:r},"number"==typeof e&&setTimeout(r,e)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(18),i=r(5),o=r(16);t.documentation={title:"Open Documentation",isLastAction:!1,applicable:(e,t)=>!t,execute:async e=>{await n.env.openExternal(n.Uri.parse("https://aka.ms/vscode-remote/container/resolve-failed"))}},t.reload={title:"Reload Window",isLastAction:!0,applicable:(e,t)=>!t&&!1!==e.data.reload,execute:async e=>{if(e.manageContainer&&e.container){const{docker:t,info:r}=e.container,n=await t.getContainer(r.Id),o=i.eventOrStatus(t,n.id,"kill");n.stop({t:0}),await o}await n.commands.executeCommand("workbench.action.reloadWindow")}},t.rebuild={title:"Rebuild Container",isLastAction:!0,applicable:(e,t)=>e.manageContainer&&!!e.container&&!t,execute:async e=>{const{docker:t,info:r}=e.container,o=await t.getContainer(r.Id),s=i.eventOrStatus(t,o.id,"die");await o.remove({force:!0}),await s,await n.commands.executeCommand("workbench.action.reloadWindow")}},t.openRecent={title:"Open Recent...",isLastAction:!0,applicable:(e,t)=>!t,execute:async e=>{await n.commands.executeCommand("workbench.action.openRecent")}},t.startContainer={title:"Start Container",isLastAction:!0,applicable:e=>!!e.container&&!0===e.data.start,execute:async e=>{const{docker:t,info:r}=e.container,i=await t.getContainer(r.Id);await i.start(),await n.commands.executeCommand("workbench.action.reloadWindow")}},t.attachContainer={title:"Choose Container",isLastAction:!0,applicable:e=>!0===e.data.attach,execute:async()=>{await n.commands.executeCommand("remote-containers.attachToRunningContainer")}},t.closeRemote={title:"Close Remote",isLastAction:!0,applicable:(e,t)=>{if(!t)return!1;const r=n.workspace.workspaceFile;return(!r||"untitled"!==r.scheme)&&!n.workspace.textDocuments.some(e=>e.isDirty)},execute:async e=>{await n.commands.executeCommand("vscode.newWindow",{reuseWindow:!0})}},t.genericActions=[{title:"Retry",isLastAction:!0,applicable:(e,t)=>t&&!1!==e.data.reload,execute:t.reload.execute},{title:"More Actions...",isCloseAffordance:!0,isLastAction:!1,applicable:(e,t)=>t,execute:async e=>void 0},{title:"Learn More",isLastAction:!1,applicable:(e,t)=>t&&!!e.data.learnMoreUrl,async execute(e){await n.env.openExternal(n.Uri.parse(e.data.learnMoreUrl))}}],t.handleError=async function(e,r=!1,i){const s=e instanceof o.ContainerError?e:new o.ContainerError({description:"An error occurred setting up the container.",originalError:e});if(i){i.show();const e=s.originalError&&(s.originalError.stack||s.originalError.message)||s.originalError;if(void 0!==e){const t=String(e),r=o.toErrorText(t);i.log.write(r)}}let a=s.actions;a.length||(a=[t.documentation]);const c=a.filter(e=>e.applicable(s,!0)),u=await n.window.showErrorMessage(s.description,{modal:!0},...c);if(u&&await u.execute(s),u&&u.isLastAction){if(r)throw n.RemoteAuthorityResolverError.NotAvailable(void 0,!0);return}const l=a.filter(e=>e.applicable(s,!1)),h=l.map(e=>({label:e.title,action:e}));if(async function e(){const t=l.length?n.window.showQuickPick(h,{ignoreFocusOut:!0,placeHolder:"Pick an action to help resolve the problem."}):Promise.resolve(void 0),r=await t;r&&(r.action.execute(s).catch(console.error),r.action.isLastAction||await e())}().catch(console.error),r)throw n.RemoteAuthorityResolverError.NotAvailable(void 0,!0)}},function(e,t,r){"use strict";if(Object.defineProperty(t,"__esModule",{value:!0}),t.IsInitialized=!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL,t.IsInitialized){var n=r(343),i=(process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||"").split(","),o={bunyan:n.bunyan,console:n.console,mongodb:n.mongodb,mongodbCore:n.mongodbCore,mysql:n.mysql,redis:n.redis,pg:n.pg,pgPool:n.pgPool,winston:n.winston};for(var s in o)-1===i.indexOf(s)&&o[s].enable()}t.registerContextPreservation=function(e){t.IsInitialized&&r(12).channel.addContextPreservation(e)}},function(e,t,r){"use strict";var n=r(161),i=n.wrap,o=n.unwrap,s="wrap@before";function a(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function c(e,t){var r;return r=e._events&&e._events[t],Array.isArray(r)||(r=r?[r]:[]),r}function u(e,t,r){var n=c(e,t).filter((function(e){return-1===r.indexOf(e)}));n.length>0&&function(e,t){for(var r=t.length,n=0;n<r;n++){var i=t[n],o=e[s];if("function"==typeof o)o(i);else if(Array.isArray(o))for(var a=o.length,c=0;c<a;c++)o[c](i)}}(e,n)}function l(e,t){if(e){var r=e;if("function"==typeof e)r=t(e);else if(Array.isArray(e)){r=[];for(var n=0;n<e.length;n++)r[n]=t(e[n])}return r}}e.exports=function(e,t,r){if(!(e&&e.on&&e.addListener&&e.removeListener&&e.emit))throw new Error("can only wrap real EEs");if(!t)throw new Error("must have function to run on listener addition");if(!r)throw new Error("must have function to wrap listeners when emitting");function n(e){return function(t,r){var o=c(this,t).slice();try{var s=e.call(this,t,r);return u(this,t,o),s}finally{this.on.__wrapped||i(this,"on",n),this.addListener.__wrapped||i(this,"addListener",n)}}}e[s]?"function"==typeof e[s]?a(e,s,[e[s],t]):Array.isArray(e[s])&&e[s].push(t):a(e,s,t),e.__wrapped||(i(e,"addListener",n),i(e,"on",n),i(e,"emit",(function(e){return function(t){if(!this._events||!this._events[t])return e.apply(this,arguments);var n=this._events[t];function s(e){return function(){this._events[t]=n;try{return e.apply(this,arguments)}finally{n=this._events[t],this._events[t]=l(n,r)}}}i(this,"removeListener",s);try{return this._events[t]=l(n,r),e.apply(this,arguments)}finally{o(this,"removeListener"),this._events[t]=n}}})),a(e,"__unwrap",(function(){o(e,"addListener"),o(e,"on"),o(e,"emit"),delete e[s],delete e.__wrapped})),a(e,"__wrapped",!0))}},function(e,t,r){"use strict";function n(e){return"function"==typeof e}var i=console.error.bind(console);function o(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function s(e){e&&e.logger&&(n(e.logger)?i=e.logger:i("new logger isn't a function, not replacing"))}function a(e,t,r){if(e&&e[t]){if(!r)return i("no wrapper function"),void i((new Error).stack);if(n(e[t])&&n(r)){var s=e[t],a=r(s,t);return o(a,"__original",s),o(a,"__unwrap",(function(){e[t]===a&&o(e,t,s)})),o(a,"__wrapped",!0),o(e,t,a),a}i("original object and wrapper must be functions")}else i("no original function "+t+" to wrap")}function c(e,t){return e&&e[t]?e[t].__unwrap?e[t].__unwrap():void i("no original to unwrap to -- has "+t+" already been unwrapped?"):(i("no function to unwrap."),void i((new Error).stack))}s.wrap=a,s.massWrap=function(e,t,r){if(!e)return i("must provide one or more modules to patch"),void i((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){a(e,t,r)}))})):i("must provide one or more functions to wrap on modules")},s.unwrap=c,s.massUnwrap=function(e,t){if(!e)return i("must provide one or more modules to patch"),void i((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){c(e,t)}))})):i("must provide one or more functions to unwrap on modules")},e.exports=s},function(e,t,r){"use strict";var n=r(7),i=r(13),o=r(163),s=function(){function e(t,r,n){void 0===r&&(r=6e4),void 0===n&&(n=!1),e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=t,this._collectionInterval=r,this._enableLiveMetricsCounters=n}return e.prototype.enable=function(t,r){var i=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),t?this._handle||(this._lastCpus=n.cpus(),this._lastRequests={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:e._totalExceptionCount,time:+new Date},"function"==typeof process.cpuUsage&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=r||this._collectionInterval,this._handle=setInterval((function(){return i.trackPerformance()}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countRequest=function(t,r){var n=this;if(e.isEnabled()){var o=+new Date;t&&r?"function"==typeof r.once&&r.once("finish",(function(){var t=+new Date;e._intervalRequestExecutionTime+=n._lastRequestExecutionTime=t-o,e._totalRequestCount++,r.statusCode>=400&&e._totalFailedRequestCount++})):i.warn("AutoCollectPerformance.countRequest was called with invalid parameters: ",!!t,!!r)}},e.countException=function(){e._totalExceptionCount++},e.countDependency=function(t,r){var n;if(e.isEnabled()){if("string"==typeof t)n=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;n=t}e._intervalDependencyExecutionTime+=n,!1===r&&e._totalFailedDependencyCount++,e._totalDependencyCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},e.prototype._trackCpu=function(){var e=n.cpus();if(e&&e.length&&this._lastCpus&&e.length===this._lastCpus.length){for(var t=0,r=0,i=0,s=0,a=0,c=0;e&&c<e.length;c++){var u=e[c],l=this._lastCpus[c],h=(u.model,u.speed,u.times),f=l.times;t+=h.user-f.user||0,r+=h.sys-f.sys||0,i+=h.nice-f.nice||0,s+=h.idle-f.idle||0,a+=h.irq-f.irq||0}var p=void 0;if("function"==typeof process.cpuUsage){var d=process.cpuUsage(),m=process.hrtime(),g=d.user-this._lastAppCpuUsage.user+(d.system-this._lastAppCpuUsage.system)||0;if(void 0!==this._lastHrtime&&2===this._lastHrtime.length)p=100*g/((1e6*(m[0]-this._lastHrtime[0])+(m[1]-this._lastHrtime[1])/1e3||0)*e.length);this._lastAppCpuUsage=d,this._lastHrtime=m}var v=t+r+i+s+a||1;this._client.trackMetric({name:o.PerformanceCounter.PROCESSOR_TIME,value:(v-s)/v*100}),this._client.trackMetric({name:o.PerformanceCounter.PROCESS_TIME,value:p||t/v*100})}this._lastCpus=e},e.prototype._trackMemory=function(){var e=n.freemem(),t=process.memoryUsage().rss,r=n.totalmem()-e;this._client.trackMetric({name:o.PerformanceCounter.PRIVATE_BYTES,value:t}),this._client.trackMetric({name:o.PerformanceCounter.AVAILABLE_BYTES,value:e}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:o.QuickPulseCounter.COMMITTED_BYTES,value:r})},e.prototype._trackNetwork=function(){var t=this._lastRequests,r={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},n=r.totalRequestCount-t.totalRequestCount||0,i=r.totalFailedRequestCount-t.totalFailedRequestCount||0,s=r.time-t.time,a=s/1e3,c=e._intervalRequestExecutionTime/n||0;if(e._intervalRequestExecutionTime=0,s>0){var u=n/a,l=i/a;this._client.trackMetric({name:o.PerformanceCounter.REQUEST_RATE,value:u}),(!this._enableLiveMetricsCounters||n>0)&&this._client.trackMetric({name:o.PerformanceCounter.REQUEST_DURATION,value:c}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:o.QuickPulseCounter.REQUEST_FAILURE_RATE,value:l})}this._lastRequests=r},e.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastDependencies,r={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},n=r.totalDependencyCount-t.totalDependencyCount||0,i=r.totalFailedDependencyCount-t.totalFailedDependencyCount||0,s=r.time-t.time,a=s/1e3,c=e._intervalDependencyExecutionTime/n||0;if(e._intervalDependencyExecutionTime=0,s>0){var u=n/a,l=i/a;this._client.trackMetric({name:o.QuickPulseCounter.DEPENDENCY_RATE,value:u}),this._client.trackMetric({name:o.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:l}),(!this._enableLiveMetricsCounters||n>0)&&this._client.trackMetric({name:o.QuickPulseCounter.DEPENDENCY_DURATION,value:c})}this._lastDependencies=r}},e.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastExceptions,r={totalExceptionCount:e._totalExceptionCount,time:+new Date},n=r.totalExceptionCount-t.totalExceptionCount||0,i=r.time-t.time;if(i>0){var s=n/(i/1e3);this._client.trackMetric({name:o.QuickPulseCounter.EXCEPTION_RATE,value:s})}this._lastExceptions=r}},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e._totalRequestCount=0,e._totalFailedRequestCount=0,e._lastRequestExecutionTime=0,e._totalDependencyCount=0,e._totalFailedDependencyCount=0,e._lastDependencyExecutionTime=0,e._totalExceptionCount=0,e._intervalDependencyExecutionTime=0,e._intervalRequestExecutionTime=0,e}();e.exports=s},function(e,t,r){"use strict";var n,i,o;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.COMMITTED_BYTES="\\Memory\\Committed Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",e.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",e.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",e.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",e.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",e.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",e.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec"}(n=t.QuickPulseCounter||(t.QuickPulseCounter={})),function(e){e.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",e.AVAILABLE_BYTES="\\Memory\\Available Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",e.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",e.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"}(i=t.PerformanceCounter||(t.PerformanceCounter={})),t.PerformanceToQuickPulseCounter=((o={})[i.PROCESSOR_TIME]=n.PROCESSOR_TIME,o[i.REQUEST_RATE]=n.REQUEST_RATE,o[i.REQUEST_DURATION]=n.REQUEST_DURATION,o[n.COMMITTED_BYTES]=n.COMMITTED_BYTES,o[n.REQUEST_FAILURE_RATE]=n.REQUEST_FAILURE_RATE,o[n.DEPENDENCY_RATE]=n.DEPENDENCY_RATE,o[n.DEPENDENCY_FAILURE_RATE]=n.DEPENDENCY_FAILURE_RATE,o[n.DEPENDENCY_DURATION]=n.DEPENDENCY_DURATION,o[n.EXCEPTION_RATE]=n.EXCEPTION_RATE,o),t.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency"},t.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument"},t.TelemetryTypeStringToQuickPulseType={EventData:t.QuickPulseType.Event,ExceptionData:t.QuickPulseType.Exception,MessageData:t.QuickPulseType.Trace,MetricData:t.QuickPulseType.Metric,RequestData:t.QuickPulseType.Request,RemoteDependencyData:t.QuickPulseType.Dependency},t.TelemetryTypeStringToQuickPulseDocumentType={EventData:t.QuickPulseDocumentType.Event,ExceptionData:t.QuickPulseDocumentType.Exception,MessageData:t.QuickPulseDocumentType.Trace,MetricData:t.QuickPulseDocumentType.Metric,RequestData:t.QuickPulseDocumentType.Request,RemoteDependencyData:t.QuickPulseDocumentType.Dependency}},function(e,t,r){"use strict";var n=r(61),i=function(){function e(t){var r=this;this.endpointBase="https://dc.services.visualstudio.com",this.instrumentationKey=t||e._getInstrumentationKey(),this.endpointUrl=this.endpointBase+"/v2/track",this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1,this.samplingPercentage=100,this.correlationIdRetryIntervalMs=3e4,this.correlationHeaderExcludedDomains=["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net"],this.setCorrelationId=function(e){return r.correlationId=e},this.profileQueryEndpoint=process.env[e.ENV_profileQueryEndpoint]||this.endpointBase,this.proxyHttpUrl=process.env[e.ENV_http_proxy]||void 0,this.proxyHttpsUrl=process.env[e.ENV_https_proxy]||void 0,this.httpAgent=void 0,this.httpsAgent=void 0,this._quickPulseHost=process.env[e.ENV_quickPulseHost]||"rt.services.visualstudio.com"}return Object.defineProperty(e.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(e){n.cancelCorrelationIdQuery(this,this.setCorrelationId),this._profileQueryEndpoint=e,this.correlationId=n.correlationIdPrefix,n.queryCorrelationId(this,this.setCorrelationId)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quickPulseHost",{get:function(){return this._quickPulseHost},set:function(e){this._quickPulseHost=e},enumerable:!0,configurable:!0}),e._getInstrumentationKey=function(){var t=process.env[e.ENV_iKey]||process.env[e.ENV_azurePrefix+e.ENV_iKey]||process.env[e.legacy_ENV_iKey]||process.env[e.ENV_azurePrefix+e.legacy_ENV_iKey];if(!t||""==t)throw new Error("Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server");return t},e.ENV_azurePrefix="APPSETTING_",e.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",e.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",e.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",e.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",e.ENV_nativeMetricsDisablers="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",e.ENV_nativeMetricsDisableAll="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",e.ENV_http_proxy="http_proxy",e.ENV_https_proxy="https_proxy",e}();e.exports=i},function(e,t,r){"use strict";var n=r(7),i=r(3),o=r(1),s=r(24),a=r(13),c=function(){function e(e){this.keys=new s.ContextTagKeys,this.tags={},this._loadApplicationContext(),this._loadDeviceContext(),this._loadInternalContext()}return e.prototype._loadApplicationContext=function(t){if(t=t||o.resolve(__dirname,"../../../../package.json"),!e.appVersion[t]){e.appVersion[t]="unknown";try{var r=JSON.parse(i.readFileSync(t,"utf8"));r&&"string"==typeof r.version&&(e.appVersion[t]=r.version)}catch(e){a.info("unable to read app version: ",e)}}this.tags[this.keys.applicationVersion]=e.appVersion[t]},e.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=n&&n.hostname(),this.tags[this.keys.deviceOSVersion]=n&&n.type()+" "+n.release(),this.tags[this.keys.cloudRole]=e.DefaultRoleName,this.tags["ai.device.osArchitecture"]=n&&n.arch(),this.tags["ai.device.osPlatform"]=n&&n.platform()},e.prototype._loadInternalContext=function(){var t=o.resolve(__dirname,"../../package.json");if(!e.sdkVersion){e.sdkVersion="unknown";try{var r=JSON.parse(i.readFileSync(t,"utf8"));r&&"string"==typeof r.version&&(e.sdkVersion=r.version)}catch(e){a.info("unable to read app version: ",e)}}this.tags[this.keys.internalSdkVersion]="node:"+e.sdkVersion},e.DefaultRoleName="Web",e.appVersion={},e.sdkVersion=null,e}();e.exports=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5),i=r(40),o=r(0),s=r(16),a=r(6),c=r(26),u=r(31),l=r(1),h=r(84),f=r(29),p=r(7),d=r(77);function m(e,t){const r=new Set(e),n=new Set(t);return r.size===n.size&&e.every(e=>n.has(e))}function g(e){return l.join(e,"imageConfigs")}function v(e){return e.replace(/%([0-9a-f]{2})/g,(e,t)=>String.fromCharCode(parseInt(t,16)))}async function y(e,r){const n=await e.readDocument(r),i=n||t.emptyAttachDevContainerConfig,o=u.parse(i)||{};return o.configFilePath=r,{exists:!!n,text:i,config:o}}async function w(e,r,n,i){"file"===r.scheme&&await o.promisify(h)(l.dirname(r.fsPath)),i||(n=[{content:u.applyEdits(t.emptyAttachDevContainerConfig,n),offset:0,length:0}]),await e.applyEdits(r,n)}t.resolve=async function(e,t,r){const{common:c,connection:h}=e;let f;try{const{commit:h}=c.product;if(!h)throw new s.ContainerError({description:"Cannot attach without commit id for the remote extension host."});f=await n.createContainerProperties(e,t.Id,r.workspaceFolder,r.remoteUser);const p=new n.AllDocuments(f.shellServer),{hostPort:g,hostPortServer:v,remoteEnv:b}=await i.injectIntoContainer(c,f,r,i.defaultDevPort);!function(e,t,r,n){(async function e(t,r,n,o){try{await i.runRemoteCommandNoPty(t,r,["/bin/sh","-c",'# Watch installed extensions\n\t\t\ttrap "exit 0" 16\n\t\t\told=`ls -A --full-time`\n\t\t\tcounter=0\n\t\t\twhile [ $counter -lt 60 ]\n\t\t\tdo\n\t\t\t\tsleep 1\n\t\t\t\tnew=`ls -A --full-time`\n\t\t\t\tif [ "$new" != "$old" ]\n\t\t\t\tthen\n\t\t\t\t\texit 1\n\t\t\t\tfi\n\t\t\t\tcounter=`expr $counter + 1`\n\t\t\tdone\n\t\t'],i.getExtensionsLocation(r),{print:"off"})}catch(e){e&&1===e.code&&await async function(e,t,r,n){const o=await y(r,n),s=await i.listExtensions(e,t);if(!m(o.config.extensions||[],s)){const e=u.modify(o.text,["extensions"],s,{formattingOptions:{}});await w(r,n,e,o.exists)}}(t,r,n,o)}return e(t,r,n,o)})(e,t,r,n).catch(console.error)}(c,f,p,r.configFilePath);const E=new a.EventEmitter;!function(e,t,r){e.onDidChangeTunnels(()=>{(async()=>{const n=(await e.getTunnels()).map(e=>e.remoteAddress.port),i=await y(t,r);if(!m(i.config.forwardPorts||[],n)){const e=u.modify(i.text,["forwardPorts"],n,{formattingOptions:{}});await w(t,r,e,i.exists)}})().catch(console.error)})}(c,p,r.configFilePath),function(e,t,r,n){(async function e(t,r,n,o){try{const e=i.getMachineSettingsLocation(r),n=l.posix.dirname(e),o=l.posix.basename(e);await i.runRemoteCommandNoPty(t,r,["/bin/sh","-c",`# Watch machine settings\n\t\t\ttrap "exit 0" 16\n\t\t\told=\`ls -A --full-time ${o} 2>/dev/null || true\`\n\t\t\tcounter=0\n\t\t\twhile [ $counter -lt 60 ]\n\t\t\tdo\n\t\t\t\tsleep 1\n\t\t\t\tnew=\`ls -A --full-time ${o} 2>/dev/null || true\`\n\t\t\t\tif [ "$new" != "$old" ]\n\t\t\t\tthen\n\t\t\t\t\texit 1\n\t\t\t\tfi\n\t\t\t\tcounter=\`expr $counter + 1\`\n\t\t\tdone\n\t\t`],n,{print:"off"})}catch(e){e&&1===e.code&&await async function(e,t,r){const n=await y(t,r),{stdout:o}=await e.shellServer.exec(`cat ${i.getMachineSettingsLocation(e)}`),s=u.parse(o);if(JSON.stringify(n.config.settings||{})!==JSON.stringify(s)){const e=u.modify(n.text,["settings"],s,{formattingOptions:{}});await w(t,r,e,n.exists)}}(r,n,o)}return e(t,r,n,o)})(e,t,r,n).catch(console.error)}(c,f,p,r.configFilePath),n.printPortInfo(c,g,t,"/");const _=async()=>{await o.promisify(v.close.bind(v))()};c.shutdowns.push(_);const C={...b,...r.remoteEnv?d.containerSubstitute(r.configFilePath,f.env,r.remoteEnv):{}};return{authority:c.authority,params:e,properties:f,config:r,resolvedAuthority:{host:"localhost",port:g,extensionHostEnv:C},onPortForwarded:E,tunnelInformation:n.getTunnelInformation(t),dockerContainerId:t.Id}}catch(e){const n=e instanceof s.ContainerError?e:new s.ContainerError({description:"An error occurred attaching to the container.",originalError:e});throw t&&(n.manageContainer=!1,n.container={docker:h.docker,info:t}),f&&(n.containerProperties=f),n.config=r,n}},t.getAttachDevContainerConfigFolder=g,t.getAttachDevContainerConfigPath=function(e,t){return l.join(g(e),`${r=t.Image,r.replace(/[:/%]/g,e=>`%${e.charCodeAt(0).toString(16)}`)}.json`);var r},t.listAttachDevContainerConfigPaths=async function(e){try{const t=g(e);return(await c.readdir(t)).filter(e=>e.endsWith(".json")).map(e=>({image:v(e.substr(0,e.length-5)),uri:f.URI.file(l.join(t,e))}))}catch(e){if(e&&"ENOENT"===e.code)return[];throw e}},t.readAttachDevContainerConfigFile=async function(e){if(!await c.exists(e))return;const t=await c.readFile(e),r=u.parse(t.toString())||{};return r.configFilePath=f.URI.file(e),r},t.emptyAttachDevContainerConfig=`{${p.EOL}}`,t.readAttachDevContainerConfigDocument=y,t.writeAttachDevContainerConfigDocument=w},function(e,t){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},function(e,t,r){"use strict";function n(){this.__rules__=[],this.__cache__=null}n.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},n.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(r){r.enabled&&(t&&r.alt.indexOf(t)<0||e.__cache__[t].push(r.fn))}))}))},n.prototype.at=function(e,t,r){var n=this.__find__(e),i=r||{};if(-1===n)throw new Error("Parser rule not found: "+e);this.__rules__[n].fn=t,this.__rules__[n].alt=i.alt||[],this.__cache__=null},n.prototype.before=function(e,t,r,n){var i=this.__find__(e),o=n||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i,0,{name:t,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null},n.prototype.after=function(e,t,r,n){var i=this.__find__(e),o=n||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i+1,0,{name:t,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null},n.prototype.push=function(e,t,r){var n=r||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:n.alt||[]}),this.__cache__=null},n.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var r=[];return e.forEach((function(e){var n=this.__find__(e);if(n<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[n].enabled=!0,r.push(e)}),this),this.__cache__=null,r},n.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach((function(e){e.enabled=!1})),this.enable(e,t)},n.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var r=[];return e.forEach((function(e){var n=this.__find__(e);if(n<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[n].enabled=!1,r.push(e)}),this),this.__cache__=null,r},n.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},e.exports=n},function(e,t,r){"use strict";function n(e,t,r){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}n.prototype.attrIndex=function(e){var t,r,n;if(!this.attrs)return-1;for(r=0,n=(t=this.attrs).length;r<n;r++)if(t[r][0]===e)return r;return-1},n.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},n.prototype.attrSet=function(e,t){var r=this.attrIndex(e),n=[e,t];r<0?this.attrPush(n):this.attrs[r]=n},n.prototype.attrGet=function(e){var t=this.attrIndex(e),r=null;return t>=0&&(r=this.attrs[t][1]),r},n.prototype.attrJoin=function(e,t){var r=this.attrIndex(e);r<0?this.attrPush([e,t]):this.attrs[r][1]=this.attrs[r][1]+" "+t},e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(18),i=r(7),o=r(3),s=r(1),a=r(26),c=r(239),u=r(60),l=r(5),h=r(5),f=r(59),p=r(414),d=r(158),m=r(415),g=r(238),v=r(471),y=r(78),w=r(41),b=r(472),E=r(166),_=r(29),C=r(0),S=r(473);function k(){const{name:e,publisher:t}=r(474);return`${t}.${e}`}async function x(e,t,r,o){const s=await y.getDockerConnection();if(!await g.checkDockerVersion(s,r))return;let a;const c=n.workspace.workspaceFolders;if(c&&c[0]&&(a=c[0].uri,"vscode-remote"===c[0].uri.scheme)){const e=l.getParseDevContainerAuthority(c[0].uri.authority);if(e&&l.isDevContainerAuthority(e)){const t=w.workspaceFromPath(e.hostPath);a=n.Uri.file(t.rootFolderPath)}}a||(a=n.Uri.file(i.homedir()));const u=t?{defaultUri:a,canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,openLabel:"Open"}:{defaultUri:a,canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!1,filters:{"Code Workspace":["code-workspace"]},openLabel:"Open"},h=await n.window.showOpenDialog(u);if(h){const t=w.workspaceFromPath(h[0].fsPath);await D(e,t,s,r,o)}}async function D(e,t,r,o,c,p){const d=await t.isSuitedForRemoteContainer();if(d)return void n.window.showInformationMessage(`The workspace can not be opened in a container: ${d}`,{modal:!0});const v=await u.findDevContainerConfigPath(t);let w,b=v&&await u.readDevContainerConfigFile({localWorkspaceFolder:t.rootFolderPath,configFile:v,env:process.env});if(!b){const e=await m.createDevContainerConfigIn(t,o);if(e&&(b=await u.readDevContainerConfigFile({localWorkspaceFolder:t.rootFolderPath,configFile:e,env:process.env})),!b)return}if(l.isDockerFileConfig(b)){const e=h.getDockerfilePath(b).fsPath;if(!await a.exists(e)){return void(await n.window.showErrorMessage(`"${e}" does not exist.`,{modal:!0},"Open devcontainer.json")&&n.window.showTextDocument(b.configFilePath))}const{workspaceFolder:r}=await l.getWorkspaceConfiguration(t,b);w=r}else if("image"in b){const{workspaceFolder:e}=await l.getWorkspaceConfiguration(t,b);w=e}else{if(!("dockerComposeFile"in b)){const e=b.configFilePath;return void(await n.window.showErrorMessage(`Configuration "${s.relative(t.rootFolderPath,e.fsPath)}" not valid.`,{modal:!0},"Open devcontainer.json")&&n.window.showTextDocument(e))}if(!await g.checkDockerCompose(r)||!await async function(e,t,r){const i=f.getDockerComposeFilePaths(r),{projectName:o}=await f.getProjectName(t,e,i);let s=await f.findTargetContainer(t.docker,o,r.service);if(s&&!await async function(e,t,r){const i=[];for(let t=0;t<e.length;t++)await a.exists(e[t])||i.push(e[t]);if(i.length>0)return n.window.showErrorMessage(`The following referenced docker compose files do not exist: ${i}`),!1;if(t.devPort&&!r.Ports.find(e=>t.devPort===e.PrivatePort))return n.window.showErrorMessage(`The port '${t.devPort}' is not open on the service '${t.service}' `),!1;return!0}(i,r,s))return!1;return!0}(t,r,b))return;w=f.getRemoteWorkspacePath(b),t.isWorkspaceFile&&(w=s.posix.join(w,s.basename(t.workspaceOrFolderPath)))}const E=r.settings,_=n.Uri.parse(l.getDevContainerUri(t.workspaceOrFolderPath,w,E)),C=E&&E.host?` @ ${E.host}`:"";await O({uri:_,type:t.isWorkspaceFile?"workspace":"folder",label:`${l.tildify(process.platform,t.workspaceOrFolderPath,i.homedir())}${C} [Dev Container]`}),await y.removeOnStartupByAuthority(e,!!c&&_.authority),await n.commands.executeCommand("vscode.openFolder",_,p)}t.activate=async function(e){const t=y.createTelemetryReporter(e);n.workspace.registerRemoteAuthorityResolver("dev-container",{resolve:y.resolver(e,y.resolverState.results,async(r,n)=>c.resolve(e,await t,r,y.resolverState.onRemoveOnShutdownChanged,n))}),n.workspace.registerRemoteAuthorityResolver("attached-container",{resolve:y.resolver(e,y.resolverState.results,async(r,n)=>p.resolve(e,await t,r,n))});const r=e.globalState,i=await y.getDockerConnection();t.then(t=>(async function(e,t,r,i){const o=n.workspace.workspaceFile,s=n.workspace.workspaceFolders,a=o||s&&s.length&&s[0].uri;if(a&&"file"===a.scheme){const n=w.workspaceFromPath(a.fsPath);await u.findDevContainerConfigPath(n)&&await L(e,n,t,r,i)}})(e,i,r,t)).catch(console.error);const o=async(r,i,o)=>{const s=await y.getDockerConnection();if(!0!==await g.hasDockerVersion(s,await t))throw new Error("Docker version 17.06.1 or later not installed or not running.");let a;if(b.ExplorerItem.isFolderItem(r)?(a=r.folder,o="on"===n.workspace.getConfiguration("window").get("openFoldersInNewWindow",void 0)?{forceNewWindow:!0}:{forceReuseWindow:!0}):a=r,"vscode-remote"===a.scheme)return n.commands.executeCommand("vscode.openFolder",a,o);{const r=w.workspaceFromPath(a.fsPath);return D(e,r,s,await t,i,o)}};e.subscriptions.push(n.commands.registerCommand("remote-containers.openFolder",async(r,n)=>r?o(r,!1,n):x(e,!0,await t,!1))),e.subscriptions.push(n.commands.registerCommand("remote-containers.openWorkspace",async(r,n)=>r?o(r,!1,n):x(e,!1,await t,!1))),e.subscriptions.push(n.commands.registerCommand("remote-containers.openRepositoryInVolume",async()=>(async function(e){const t=await y.getDockerConnection();if(!await g.checkDockerVersion(t,e))return;const r={prompt:"Enter the GitHub repository name (e.g. microsoft/vscode-remote-try-node) or a full git remote URL.",value:"microsoft/vscode-remote-try-node",validateInput:e=>e.split("/").length<2?"Invalid repository name or URL":null};let i=await n.window.showInputBox(r);if(i){2===i.split("/").length&&-1===i.indexOf(":")&&(i=`https://github.com/${i}`),i.endsWith(".git")||(i=`${i}.git`);let r=await async function(e){const t=(await e.docker.listVolumes()).Volumes.map(e=>new R(e)),r=new T,i=[r,...t],o=n.window.createQuickPick();o.items=i,o.placeholder="Select the volume for the cloned repository",o.show();const s=await new Promise(e=>o.onDidAccept(()=>e(o.activeItems[0])));if(o.hide(),!s)return null;let a=null;a=s===r?await async function(e){let t="";(await e.docker.listVolumes()).Volumes.find(e=>"vsc-remote-containers"===e.Name)||(t="vsc-remote-containers");const r={prompt:"Enter the volume name.",value:t};let i=await n.window.showInputBox(r);if(!i)return null;if((await e.docker.listVolumes()).Volumes.find(e=>e.Name===i))return await n.window.showErrorMessage("Volume already exists",{modal:!0}),null;return i}(e):s.volumeName;return a}(t);if(r){let o=await async function(e){const t={prompt:"Enter the target folder name.",value:I(e)};let r=await n.window.showInputBox(t);if(!r)return null;return r}(i);o&&await P(i,r,o,t,e)}}})(await t))),e.subscriptions.push(n.commands.registerCommand("remote-containers.reopenInContainer",()=>h(!1))),e.subscriptions.push(n.commands.registerCommand("remote-containers.rebuildAndReopenInContainer",()=>h(!0)));const h=async r=>{const i=await y.getDockerConnection();if(!await g.checkDockerVersion(i,await t))return;let o=n.workspace.workspaceFile,s=n.workspace.workspaceFolders;if(!o&&s&&s.length){const e=s.length>1?await n.window.showWorkspaceFolderPick({placeHolder:"Pick a folder to reopen in a container."}):s[0];e&&(o=e.uri)}if(o&&"file"===o.scheme){const n=w.workspaceFromPath(o.fsPath);await D(e,n,i,await t,r,{forceReuseWindow:!0})}};e.subscriptions.push(n.commands.registerCommand("remote-containers.reopenLocally",async()=>{const e=n.workspace.workspaceFolders,t=n.workspace.workspaceFile||e&&e.length&&e[0].uri;if(t&&"vscode-remote"===t.scheme){const e=l.getParseDevContainerAuthority(t.authority);if(e&&l.isDevContainerAuthority(e)){const t=n.Uri.file(e.hostPath),r={forceReuseWindow:!0};await n.commands.executeCommand("vscode.openFolder",t,r)}else n.window.showInformationMessage("'Reopen Locally' not possible in current context.")}}));const f=async r=>{const n=await y.getDockerConnection();if(!await g.checkDockerVersion(n,await t))return;let i=void 0;r&&r.containerDesc&&(i=r.containerDesc),F(n,i,e)};e.subscriptions.push(n.commands.registerCommand("remote-containers.attachToRunningContainer",f)),e.subscriptions.push(n.commands.registerCommand("remote-containers.attachToRunningContainerFromViewlet",f)),e.subscriptions.push(n.commands.registerCommand("remote-containers.rebuildContainer",async()=>(y.resolverState.removeOnShutdown=!0,y.resolverState.onRemoveOnShutdownChanged.emit("changed",!0),n.commands.executeCommand("workbench.action.reloadWindow")))),e.subscriptions.push(n.commands.registerCommand("remote-containers.createDevContainerFile",async()=>{const n=await y.getDockerConnection();await N(e,n,r,await t)})),e.subscriptions.push(n.commands.registerCommand("remote-containers.openDevContainerFile",async i=>{let o;o="string"==typeof i?[_.URI.file(i)]:await y.findDevContainerFiles();const s=await y.getDockerConnection();if(o.length){let c;if(c=1===o.length?{uri:o[0]}:await n.window.showQuickPick(o.map(e=>({label:"file"===e.scheme?e.fsPath:e.toString(),uri:e})),{placeHolder:"Select container configuration file to open"})){const o=c.uri;if("file"===o.scheme&&await a.exists(o.fsPath))return await n.commands.executeCommand("vscode.open",n.Uri.parse(o.toString()));if("file"===o.scheme&&y.resolverState.results.size)return await E.writeAttachDevContainerConfigDocument(l.fileDocuments,o,[],!1),await n.commands.executeCommand("vscode.open",n.Uri.parse(o.toString()));if("vscode-remote"===o.scheme&&y.resolverState.results.size)return await n.commands.executeCommand("vscode.open",n.Uri.parse(o.toString()));if(void 0===i)return await N(e,s,r,await t)}}else if(void 0===i)return await N(e,s,r,await t)})),e.subscriptions.push(n.commands.registerCommand("remote-containers.openAttachDevContainerFile",async()=>{const t=(await E.listAttachDevContainerConfigPaths(e.globalStoragePath)).map(e=>({label:e.image,...e})).sort((e,t)=>e.label.localeCompare(t.label)),r=await n.window.showQuickPick(t.length?t:[{label:"No configuration found. Attach to a container first."}],{placeHolder:"Choose a configuration file"});if(r)return"uri"in r?n.commands.executeCommand("vscode.open",n.Uri.parse(r.uri.toString())):n.commands.executeCommand("remote-containers.attachToRunningContainer")})),e.subscriptions.push(n.commands.registerCommand("remote-containers.settings",async()=>n.commands.executeCommand("workbench.action.openSettings",`@ext:${k()}`))),e.subscriptions.push(n.commands.registerCommand("remote-containers.getHelp",async()=>n.env.openExternal(n.Uri.parse("https://aka.ms/vscode-remote/containers")))),e.subscriptions.push(n.commands.registerCommand("remote-containers.getStarted",async()=>n.env.openExternal(n.Uri.parse("https://aka.ms/vscode-remote/containers/getting-started")))),e.subscriptions.push(n.commands.registerCommand("remote-containers.reportIssue",async()=>n.commands.executeCommand("vscode.openIssueReporter",k()))),e.subscriptions.push(n.commands.registerCommand("remote-containers.provideFeedback",async()=>n.env.openExternal(n.Uri.parse("https://aka.ms/vscode-remote/containers/provide-feedback")))),e.subscriptions.push(n.languages.registerDocumentLinkProvider([{pattern:"**/.devcontainer/devcontainer.json",language:"jsonc"},{pattern:"**/.devcontainer.json",language:"jsonc"}],new v.ConfigLinkProvider)),e.subscriptions.push(n.commands.registerCommand("remote-containers.trySample",async()=>{!async function(e){let t={placeHolder:"Select the sample repository to open in a container using a volume (vsc-remote-sample)"},r=await n.window.showQuickPick([{label:"C++",detail:"https://github.com/Microsoft/vscode-remote-try-cpp"},{label:"Go",detail:"https://github.com/Microsoft/vscode-remote-try-go"},{label:"Java",detail:"https://github.com/Microsoft/vscode-remote-try-java"},{label:".NET Core",detail:"https://github.com/Microsoft/vscode-remote-try-dotnetcore"},{label:"Node",detail:"https://github.com/Microsoft/vscode-remote-try-node"},{label:"PHP",detail:"https://github.com/Microsoft/vscode-remote-try-php"},{label:"Python",detail:"https://github.com/Microsoft/vscode-remote-try-python"},{label:"Rust",detail:"https://github.com/Microsoft/vscode-remote-try-rust"}],t);if(!r)return;const i=await y.getDockerConnection();r.detail&&await P(r.detail,"vsc-remote-sample",I(r.detail),i,e)}(await t)})),e.subscriptions.push(n.commands.registerCommand("remote-containers.openLogFile",()=>(async function(e){const t=[],r=s.basename(e.logPath),i=s.dirname(s.dirname(s.dirname(e.logPath)));for(const e of(await B(i)).sort().reverse()){const n=/(\d\d\d\d)(\d\d)(\d\d)T(\d\d)(\d\d)(\d\d)/.exec(e);if(n){const o=s.join(i,e);for(const e of await B(o)){const i=s.join(o,e),a=s.join(i,r);for(const r of(await B(a)).sort()){const i=s.join(a,r);t.push({label:r,description:`${n[1]}-${n[2]}-${n[3]} ${n[4]}:${n[5]}:${n[6]} - ${e}`,path:i})}}}}t.length||t.push({label:"No log files found."});const o=await n.window.showQuickPick(t,{placeHolder:"Choose a log file"});o&&o.path&&await n.window.showTextDocument(n.Uri.file(o.path))})(e))),b.activate(e,i,y.resolverState.results,await t),await y.openLogFileOnStartup(e),S.activateEditConfiguration(e)},t.deactivate=async function(){await Promise.all([...y.resolverState.results.values()].map(e=>Promise.all(e.params.common.shutdowns.map(t=>{try{e.onPortForwarded.removeAllListeners(l.portForwardedEvent),t(y.resolverState.removeOnShutdown)}catch(e){console.error(e)}}))))};class A{}class T extends A{get label(){return"$(plus) Create a new volume..."}get description(){return"The volume will store your cloned repositories."}get volumeName(){return""}}class R extends A{constructor(e){super(),this.volume=e}get label(){return`${this.volume.Name}`}get description(){if(this.volume.CreatedAt){return`${new Date(this.volume.CreatedAt).toDateString()}`}return""}get volumeName(){return this.volume.Name}}function I(e){const t=e.lastIndexOf("/");return-1===t?e:e.endsWith(".git")?e.substring(t+1,e.length-4):e.substr(t+1)}async function P(e,t,r,i,o){const s=i.settings,a=n.Uri.parse(l.getRepositoryDevContainerUri(e,t,r,s));await O({uri:a,type:"folder",label:`${r} in ${t} [Dev Container]`}),await n.commands.executeCommand("vscode.openFolder",a)}async function O(e){return n.commands.executeCommand("_workbench.addToRecentlyOpened",e)}async function F(e,t,{globalStoragePath:r,extensionPath:i},o){if(t||(t=await async function(e){const t=await e.docker.listContainers();let r=[];if(t.forEach(e=>{"running"===e.State&&r.push({label:l.getContainerName(e.Names),description:`${e.Image} ${e.Id}`,containerInfo:e})}),0===r.length)return void n.window.showErrorMessage("There are no running containers to attach to.",{modal:!0});let i=await n.window.showQuickPick(r,{placeHolder:"Select the container to attach VS Code"});if(!i)return;return i.containerInfo}(e)),!t)return;const s=l.getAttachedContainerAuthority(l.getContainerName(t.Names),e.settings),a=E.getAttachDevContainerConfigPath(r,t),c=await E.readAttachDevContainerConfigFile(a),u=/\d$/.test(i);if(c&&c.workspaceFolder&&!o){const e=n.Uri.parse(`vscode-remote://${s}${c.workspaceFolder}`),t={};u?t.forceNewWindow=!0:t.forceReuseWindow=!0,await n.commands.executeCommand("vscode.openFolder",e,t)}else{const e={remoteAuthority:s};u||o||(e.reuseWindow=!0),await n.commands.executeCommand("vscode.newWindow",e)}}async function N(e,t,r,n){const i=await m.createDevContainerConfig(n);i&&await L(e,i,t,r,n)}async function L(e,t,r,i,o){const s="showReopenInContainerNotification";if(!1===i.get(s))return;const a="Reopen in Container",c=t.isWorkspaceFile?"Workspace contains a dev container configuration file. Reopen workspace to develop in a container ([learn more](https://aka.ms/vscode-remote/docker)).":"Folder contains a dev container configuration file. Reopen folder to develop in a container ([learn more](https://aka.ms/vscode-remote/docker)).",u=await n.window.showInformationMessage(c,"Don't Show Again",a);if(u===a){if(!await g.checkDockerVersion(r,o))return;try{await D(e,t,r,o,!1,{forceReuseWindow:!0})}catch(e){await d.handleError(e)}}else"Don't Show Again"===u&&await i.update(s,!1)}async function B(e){try{return await C.promisify(o.readdir)(e)}catch(e){return[]}}t.attachToContainer=F},function(e,t){var r=[],n=r.forEach,i=r.slice;e.exports.extend=function(e){return n.call(i.call(arguments,1),(function(t){if(t)for(var r in t)e[r]=t[r]})),e},e.exports.parseJSON=function(e){try{return JSON.parse(e)}catch(e){return null}}},function(e,t,r){var n=r(15),i=r(33).Socket,o=r(173).lookup,s=r(6).EventEmitter,a=r(0).inherits,c=n.getHashes(),u=r(88),l=u.SSH2Stream,h=u.SFTPStream,f=u.constants,p=f.BUGS,d=f.ALGORITHMS,m=f.EDDSA_SUPPORTED,g=u.utils.parseKey,v=r(256),y=r(177),w=r(257),b=r(258),E=r(62).readUInt32BE,_=Math.pow(2,32)-1,C=/^OpenSSH_(?:(?![0-4])\d)|(?:\d{2,})/,S=function(e){};function k(){if(!(this instanceof k))return new k;s.call(this),this.config={host:void 0,port:void 0,localAddress:void 0,localPort:void 0,forceIPv4:void 0,forceIPv6:void 0,keepaliveCountMax:void 0,keepaliveInterval:void 0,readyTimeout:void 0,username:void 0,password:void 0,privateKey:void 0,tryKeyboard:void 0,agent:void 0,allowAgentFwd:void 0,authHandler:void 0,hostHashAlgo:void 0,hostHashCb:void 0,strictVendor:void 0,debug:void 0},this._readyTimeout=void 0,this._channels=void 0,this._callbacks=void 0,this._forwarding=void 0,this._forwardingUnix=void 0,this._acceptX11=void 0,this._agentFwdEnabled=void 0,this._curChan=void 0,this._remoteVer=void 0,this._sshstream=void 0,this._sock=void 0,this._resetKA=void 0}function x(e,t,r,n){var i=D(e),o=y.MAX_WINDOW,s=y.PACKET_SIZE,a=!0;if(!1===i)return n(new Error("No free channels available"));"function"==typeof r&&(n=r,r={}),e._channels[i]=n;var c=e._sshstream;return c.once("CHANNEL_OPEN_CONFIRMATION:"+i,u).once("CHANNEL_OPEN_FAILURE:"+i,l).once("CHANNEL_CLOSE:"+i,l),"session"===t?a=c.session(i,o,s):"direct-tcpip"===t?a=c.directTcpip(i,o,s,r):"direct-streamlocal@openssh.com"===t&&(a=c.openssh_directStreamLocal(i,o,s,r)),a;function u(r){c.removeListener("CHANNEL_OPEN_FAILURE:"+i,l),c.removeListener("CHANNEL_CLOSE:"+i,l);var a={type:t,incoming:{id:i,window:o,packetSize:s,state:"open"},outgoing:{id:r.sender,window:r.window,packetSize:r.packetSize,state:"open"}};n(void 0,new y(a,e))}function l(t){var r;c.removeListener("CHANNEL_OPEN_CONFIRMATION:"+i,u),c.removeListener("CHANNEL_OPEN_FAILURE:"+i,l),c.removeListener("CHANNEL_CLOSE:"+i,l),delete e._channels[i],t instanceof Error?r=t:"object"==typeof t&&null!==t?((r=new Error("(SSH) Channel open failure: "+t.description)).reason=t.reason,r.lang=t.lang):(r=new Error("(SSH) Channel open failure: server closed channel unexpectedly")).reason=r.lang="",n(r)}}function D(e){if(e._curChan<_)return++e._curChan;for(var t=0,r=e._channels;t<_;++t)if(!r[t])return t;return!1}function A(e,t,r){var n={single:!1,protocol:"MIT-MAGIC-COOKIE-1",cookie:void 0,screen:0};"function"==typeof t?r=t:"object"==typeof t&&null!==t&&("boolean"==typeof t.single&&(n.single=t.single),"number"==typeof t.screen&&(n.screen=t.screen),"string"==typeof t.protocol&&(n.protocol=t.protocol),"string"==typeof t.cookie?n.cookie=t.cookie:Buffer.isBuffer(t.cookie)&&(n.cookie=t.cookie.toString("hex"))),void 0===n.cookie&&(n.cookie=O());var i="function"==typeof r;return"open"!==e.outgoing.state?(i&&r(new Error("Channel is not open")),!0):(i&&e._callbacks.push((function(t){if(t)return r(!0!==t?t:new Error("Unable to request X11"));e._hasX11=!0,++e._client._acceptX11,e.once("close",(function(){e._client._acceptX11&&--e._client._acceptX11})),r()})),e._client._sshstream.x11Forward(e.outgoing.id,n,i))}function T(e,t,r){var n=24,i=80,o=640,s=480,a="vt100",c=null;"function"==typeof t?r=t:"object"==typeof t&&null!==t&&("number"==typeof t.rows&&(n=t.rows),"number"==typeof t.cols&&(i=t.cols),"number"==typeof t.width&&(o=t.width),"number"==typeof t.height&&(s=t.height),"string"==typeof t.term&&(a=t.term),"object"==typeof t.modes&&(c=t.modes));var u="function"==typeof r;return"open"!==e.outgoing.state?(u&&r(new Error("Channel is not open")),!0):(u&&e._callbacks.push((function(e){if(e)return r(!0!==e?e:new Error("Unable to request a pseudo-terminal"));r()})),e._client._sshstream.pty(e.outgoing.id,n,i,s,o,a,c,u))}function R(e,t){var r="function"==typeof t;return"open"!==e.outgoing.state?(r&&t(new Error("Channel is not open")),!0):e._client._agentFwdEnabled?(r&&t(!1),!0):(e._client._agentFwdEnabled=!0,e._callbacks.push((function(n){if(n)return e._client._agentFwdEnabled=!1,void(r&&t(!0!==n?n:new Error("Unable to request agent forwarding")));r&&t()})),e._client._sshstream.openssh_agentForward(e.outgoing.id,!0))}function I(e,t){if("open"!==e.outgoing.state)return!0;for(var r,n,i=!0,o=Object.keys(t||{}),s=0,a=o.length;s<a;++s)n=t[r=o[s]],i=e._client._sshstream.env(e.outgoing.id,r,n,!1);return i}function P(e,t,r){return"open"!==e.outgoing.state?(r(new Error("Channel is not open")),!0):(e._callbacks.push((function(n){if(n)return r(!0!==n?n:new Error("Unable to start subsystem: "+t));e.subtype="subsystem",r(void 0,e)})),e._client._sshstream.subsystem(e.outgoing.id,t,!0))}a(k,s),k.prototype.connect=function(e){var t=this;if(this._sock&&this._sock.writable)return this.once("close",(function(){t.connect(e)})),void this.end();this.config.host=e.hostname||e.host||"localhost",this.config.port=e.port||22,this.config.localAddress="string"==typeof e.localAddress?e.localAddress:void 0,this.config.localPort="string"==typeof e.localPort||"number"==typeof e.localPort?e.localPort:void 0,this.config.forceIPv4=e.forceIPv4||!1,this.config.forceIPv6=e.forceIPv6||!1,this.config.keepaliveCountMax="number"==typeof e.keepaliveCountMax&&e.keepaliveCountMax>=0?e.keepaliveCountMax:3,this.config.keepaliveInterval="number"==typeof e.keepaliveInterval&&e.keepaliveInterval>0?e.keepaliveInterval:0,this.config.readyTimeout="number"==typeof e.readyTimeout&&e.readyTimeout>=0?e.readyTimeout:2e4;var r,s={kex:void 0,kexBuf:void 0,cipher:void 0,cipherBuf:void 0,serverHostKey:void 0,serverHostKeyBuf:void 0,hmac:void 0,hmacBuf:void 0,compress:void 0,compressBuf:void 0};if("object"==typeof e.algorithms&&null!==e.algorithms){var a,u;if(u=e.algorithms.kex,Array.isArray(u)&&u.length>0){for(a=d.SUPPORTED_KEX,r=0;r<u.length;++r)if(-1===a.indexOf(u[r]))throw new Error("Unsupported key exchange algorithm: "+u[r]);s.kex=u}if(u=e.algorithms.cipher,Array.isArray(u)&&u.length>0){for(a=d.SUPPORTED_CIPHER,r=0;r<u.length;++r)if(-1===a.indexOf(u[r]))throw new Error("Unsupported cipher algorithm: "+u[r]);s.cipher=u}if(u=e.algorithms.serverHostKey,Array.isArray(u)&&u.length>0){for(a=d.SUPPORTED_SERVER_HOST_KEY,r=0;r<u.length;++r)if(-1===a.indexOf(u[r]))throw new Error("Unsupported server host key algorithm: "+u[r]);s.serverHostKey=u}if(u=e.algorithms.hmac,Array.isArray(u)&&u.length>0){for(a=d.SUPPORTED_HMAC,r=0;r<u.length;++r)if(-1===a.indexOf(u[r]))throw new Error("Unsupported HMAC algorithm: "+u[r]);s.hmac=u}if(u=e.algorithms.compress,Array.isArray(u)&&u.length>0){for(a=d.SUPPORTED_COMPRESS,r=0;r<u.length;++r)if(-1===a.indexOf(u[r]))throw new Error("Unsupported compression algorithm: "+u[r]);s.compress=u}}if(void 0===s.compress&&(e.compress?(s.compress=["zlib@openssh.com","zlib"],"force"!==e.compress&&s.compress.push("none")):!1===e.compress&&(s.compress=["none"])),"string"==typeof e.username)this.config.username=e.username;else{if("string"!=typeof e.user)throw new Error("Invalid username");this.config.username=e.user}this.config.password="string"==typeof e.password?e.password:void 0,this.config.privateKey="string"==typeof e.privateKey||Buffer.isBuffer(e.privateKey)?e.privateKey:void 0,this.config.localHostname="string"==typeof e.localHostname&&e.localHostname.length?e.localHostname:void 0,this.config.localUsername="string"==typeof e.localUsername&&e.localUsername.length?e.localUsername:void 0,this.config.tryKeyboard=!0===e.tryKeyboard,this.config.agent="string"==typeof e.agent&&e.agent.length?e.agent:void 0,this.config.allowAgentFwd=!0===e.agentForward&&void 0!==this.config.agent;var h=this.config.authHandler="function"==typeof e.authHandler?e.authHandler:void 0;this.config.strictVendor="boolean"!=typeof e.strictVendor||e.strictVendor;var p=this.config.debug="function"==typeof e.debug?e.debug:S;if(!0===e.agentForward&&!this.config.allowAgentFwd)throw new Error("You must set a valid agent path to allow agent forwarding");var v,b=this._callbacks=[];if(this._channels={},this._forwarding={},this._forwardingUnix={},this._acceptX11=0,this._agentFwdEnabled=!1,this._curChan=-1,this._remoteVer=void 0,this.config.privateKey){if((v=g(this.config.privateKey,e.passphrase))instanceof Error)throw new Error("Cannot parse privateKey: "+v.message);if(Array.isArray(v)&&(v=v[0]),null===v.getPrivatePEM())throw new Error("privateKey value does not contain a (valid) private key")}var _=this._sshstream=new l({algorithms:s,debug:p===S?void 0:p}),C=this._sock=e.sock||new i;this._sock.stderr&&"function"==typeof this._sock.stderr.resume&&this._sock.stderr.resume();var k,x,A=this.config.keepaliveInterval,T=this.config.keepaliveCountMax,R=0;function I(){if(++R>T){if(clearInterval(k),C.readable){var e=new Error("Keepalive timeout");e.level="client-timeout",t.emit("error",e),C.destroy()}}else C.writable?(b.push(P),_.ping()):clearInterval(k)}function P(){A>0&&(R=0,clearInterval(k),C.writable&&(k=setInterval(I,A)))}if(this._resetKA=P,_.on("USERAUTH_BANNER",(function(e){t.emit("banner",e)})),C.on("connect",(function(){p("DEBUG: Client: Connected"),t.emit("connect"),e.sock||_.pipe(C).pipe(_)})).on("timeout",(function(){t.emit("timeout")})).on("error",(function(e){clearTimeout(t._readyTimeout),e.level="client-socket",t.emit("error",e)})).on("end",(function(){_.unpipe(C),clearTimeout(t._readyTimeout),clearInterval(k),t.emit("end")})).on("close",(function(){_.unpipe(C),clearTimeout(t._readyTimeout),clearInterval(k),t.emit("close");var e=b,n=new Error("No response from server");for(b=t._callbacks=[],r=0;r<e.length;++r)e[r](n);var i=t._channels,o=Object.keys(i);for(t._channels={},r=0;r<o.length;++r){var s,a=_.emit("CHANNEL_OPEN_FAILURE:"+o[r],n),c=_.emit("CHANNEL_CLOSE:"+o[r]);a||c||!(s=i[o[r]])||"function"!=typeof s||s(n)}})),_.on("drain",(function(){t.emit("drain")})).once("header",(function(e){t._remoteVer=e.versions.software,e.greeting&&t.emit("greeting",e.greeting)})).on("continue",(function(){t.emit("continue")})).on("error",(function(e){void 0===e.level?e.level="protocol":"handshake"===e.level&&clearTimeout(t._readyTimeout),t.emit("error",e)})).on("end",(function(){C.resume()})),"function"==typeof e.hostVerifier){if(-1===c.indexOf(e.hostHash))throw new Error("Invalid host hash algorithm: "+e.hostHash);var O=e.hostVerifier,F=n.createHash(e.hostHash);_.once("fingerprint",(function(e,t){F.update(e);var r=O(F.digest("hex"),t);void 0!==r&&t(r)}))}var N,L=null,B=null,M=0,U=["none"];if(void 0!==this.config.password&&U.push("password"),void 0!==v&&U.push("publickey"),void 0!==this.config.agent&&U.push("agent"),this.config.tryKeyboard&&U.push("keyboard-interactive"),void 0!==v&&void 0!==this.config.localHostname&&void 0!==this.config.localUsername&&U.push("hostbased"),void 0===h){var j=0;h=function(e,t,r){return j!==U.length&&U[j++]}}var H=!1;function q(e){if(H=!0,!1===e){_.removeListener("USERAUTH_FAILURE",V),_.removeListener("USERAUTH_PK_OK",z);var r=new Error("All configured authentication methods failed");return r.level="client-authentication",t.emit("error",r),void(_.writable&&t.end())}if(-1===U.indexOf(e))throw new Error("Authentication method not allowed: "+e);switch(x=e){case"password":_.authPassword(t.config.username,t.config.password);break;case"publickey":_.authPK(t.config.username,v),_.once("USERAUTH_PK_OK",z);break;case"hostbased":_.authHostbased(t.config.username,v,t.config.localHostname,t.config.localUsername,(function(e,r){var n=v.sign(e);if(n instanceof Error)return n.message="Error while signing data with privateKey: "+n.message,n.level="client-authentication",t.emit("error",n),$();r(n)}));break;case"agent":w(t.config.agent,(function(e,r){return e?(e.level="agent",t.emit("error",e),N=void 0,$()):0===r.length?(p("DEBUG: Agent: No keys stored in agent"),N=void 0,$()):(N=r,M=0,_.authPK(t.config.username,r[0]),void _.once("USERAUTH_PK_OK",z))}));break;case"keyboard-interactive":_.authKeyboard(t.config.username),_.on("USERAUTH_INFO_REQUEST",W);break;case"none":_.authNone(t.config.username)}}function $(){H=!1;var e=h(B,L,q);H||void 0===e||q(e)}function G(){if("agent"===x){if(M>=N.length)return;++M>=N.length?(p("DEBUG: Agent: No more keys left to try"),p("DEBUG: Client: agent auth failed"),N=void 0,$()):(p("DEBUG: Agent: Trying key #"+(M+1)),_.authPK(t.config.username,N[M]),_.once("USERAUTH_PK_OK",z))}}function W(e,r,n,i){if(0===(Array.isArray(i)?i.length:0))return p("DEBUG: Client: Sending automatic USERAUTH_INFO_RESPONSE"),_.authInfoRes();t.emit("keyboard-interactive",e,r,n,i,(function(e){_.authInfoRes(e)}))}function z(){if("agent"===x){var e=N[M],r=E(e,0),n=e.toString("ascii",4,4+r),i=n.slice(4);switch(n){case"ssh-rsa":case"ssh-dss":case"ecdsa-sha2-nistp256":case"ecdsa-sha2-nistp384":case"ecdsa-sha2-nistp521":break;default:if(m&&"ssh-ed25519"===n)break;return p("DEBUG: Agent: Skipping unsupported key type: "+n),G()}_.authPK(t.config.username,e,(function(r,o){w(t.config.agent,e,i,r,(function(e,r){if(e)e.level="agent",t.emit("error",e);else{var i=E(r,0);if(4+i+4<r.length){if(r.toString("ascii",4,4+i)===n)return o(r.slice(4+i+4));(e=new Error("Agent key/signature type mismatch")).level="agent",t.emit("error",e)}}G()}))}))}else"publickey"===x&&_.authPK(t.config.username,v,(function(e,r){var n=v.sign(e);if(n instanceof Error)return n.message="Error while signing data with privateKey: "+n.message,n.level="client-authentication",t.emit("error",n),$();r(n)}))}function V(e,t){if(_.removeListener("USERAUTH_PK_OK",z),_.removeListener("USERAUTH_INFO_REQUEST",W),"agent"===x)return p("DEBUG: Client: Agent key #"+(M+1)+" failed"),G();p("DEBUG: Client: "+x+" auth failed"),L=t,B=e,$()}if(_.once("USERAUTH_SUCCESS",(function(){_.removeListener("USERAUTH_FAILURE",V),_.removeListener("USERAUTH_INFO_REQUEST",W),P(),clearTimeout(t._readyTimeout),t.emit("ready")})).on("USERAUTH_FAILURE",V),_.once("ready",(function(){_.service("ssh-userauth"),_.once("SERVICE_ACCEPT",(function(e){"ssh-userauth"===e&&$()}))})),_.on("CHANNEL_OPEN",(function(e){!function(e,t){var r,n=!1;function i(){var r={type:t.type,incoming:{id:n,window:y.MAX_WINDOW,packetSize:y.PACKET_SIZE,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}},i=new y(r,e);return e._sshstream.channelOpenConfirm(t.sender,n,y.MAX_WINDOW,y.PACKET_SIZE),i}function o(){void 0===r&&(r=!1===n?f.CHANNEL_OPEN_FAILURE.RESOURCE_SHORTAGE:f.CHANNEL_OPEN_FAILURE.CONNECT_FAILED),e._sshstream.channelOpenFail(t.sender,r,"","")}if("forwarded-tcpip"===t.type||"x11"===t.type||"auth-agent@openssh.com"===t.type||"forwarded-streamlocal@openssh.com"===t.type){var s="forwarded-tcpip"===t.type&&void 0===e._forwarding[t.data.destIP+":"+t.data.destPort]||"forwarded-streamlocal@openssh.com"===t.type&&void 0===e._forwardingUnix[t.data.socketPath]||"x11"===t.type&&0===e._acceptX11||"auth-agent@openssh.com"===t.type&&!e._agentFwdEnabled;s?(r=f.CHANNEL_OPEN_FAILURE.ADMINISTRATIVELY_PROHIBITED,e.config.debug("DEBUG: Client: Automatic rejection of incoming channel open: unexpected channel open for: "+t.type)):!1===(n=D(e))?(e.config.debug("DEBUG: Client: Automatic rejection of incoming channel open: no channels available"),s=!0):e._channels[n]=!0,s&&o(),!1!==n&&("forwarded-tcpip"===t.type?(0===t.data.destPort&&(t.data.destPort=e._forwarding[t.data.destIP+":"+t.data.destPort]),e.emit("tcp connection",t.data,i,o)):"x11"===t.type?e.emit("x11",t.data,i,o):"forwarded-streamlocal@openssh.com"===t.type?e.emit("unix connection",t.data,i,o):w(e.config.agent,i,o))}else e.config.debug("DEBUG: Client: Automatic rejection of incoming channel open: unsupported type: "+t.type),r=f.CHANNEL_OPEN_FAILURE.UNKNOWN_CHANNEL_TYPE,o()}(t,e)})),_.on("REQUEST_SUCCESS",(function(e){b.length&&b.shift()(!1,e)})).on("REQUEST_FAILURE",(function(){b.length&&b.shift()(!0)})),_.on("GLOBAL_REQUEST",(function(e,t,r){t&&_.requestFailure()})),e.sock)Q(),_.pipe(C).pipe(_);else{var K=this.config.host,X=this.config.forceIPv4,Y=this.config.forceIPv6;function J(){Q(),t._sock.connect({host:K,port:t.config.port,localAddress:t.config.localAddress,localPort:t.config.localPort}),t._sock.setNoDelay(!0),t._sock.setMaxListeners(0),t._sock.setTimeout("number"==typeof e.timeout?e.timeout:0)}p("DEBUG: Client: Trying "+K+" on port "+this.config.port+" ..."),!X&&!Y||X&&Y?J():o(K,X?4:6,(function(e,r,n){if(e){var i=new Error("Error while looking up "+(X?"IPv4":"IPv6")+" address for host "+K+": "+e);return clearTimeout(t._readyTimeout),i.level="client-dns",t.emit("error",i),void t.emit("close")}K=r,J()}))}function Q(){t.config.readyTimeout>0&&(t._readyTimeout=setTimeout((function(){var e=new Error("Timed out while waiting for handshake");e.level="client-timeout",t.emit("error",e),C.destroy()}),t.config.readyTimeout))}},k.prototype.end=function(){return!!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable)&&this._sshstream.disconnect()},k.prototype.destroy=function(){this._sock&&this._sock.destroy()},k.prototype.exec=function(e,t,r){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");"function"==typeof t&&(r=t,t={});var n=this;return x(this,"session",{allowHalfOpen:!1!==t.allowHalfOpen},(function(i,o){if(i)return r(i);var s=[];function a(e){if(e)return o.close(),r(e);s.length&&s.shift()()}(!0===n.config.allowAgentFwd||t&&!0===t.agentForward&&void 0!==n.config.agent)&&s.push((function(){R(o,a)})),"object"==typeof t&&null!==t&&("object"==typeof t.env&&null!==t.env&&I(o,t.env),("object"==typeof t.pty&&null!==t.pty||!0===t.pty)&&s.push((function(){T(o,t.pty,a)})),("object"==typeof t.x11&&null!==t.x11||"number"===t.x11||!0===t.x11)&&s.push((function(){A(o,t.x11,a)}))),s.push((function(){!function(e,t,r,n){if("open"!==e.outgoing.state)return n(new Error("Channel is not open")),!0;e._callbacks.push((function(t){if(t)return n(!0!==t?t:new Error("Unable to exec"));e.subtype="exec",e.allowHalfOpen=!1!==r.allowHalfOpen,n(void 0,e)})),e._client._sshstream.exec(e.outgoing.id,t,!0)}(o,e,t,r)})),s.shift()()}))},k.prototype.shell=function(e,t,r){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var n=this;return"function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),!e||void 0===e.x11&&void 0===e.env||(t=e,e=void 0),x(this,"session",(function(i,o){if(i)return r(i);var s=[];function a(e){if(e)return o.close(),r(e);s.length&&s.shift()()}(!0===n.config.allowAgentFwd||t&&!0===t.agentForward&&void 0!==n.config.agent)&&s.push((function(){R(o,a)})),!1!==e&&s.push((function(){T(o,e,a)})),"object"==typeof t&&null!==t&&("object"==typeof t.env&&null!==t.env&&I(o,t.env),("object"==typeof t.x11&&null!==t.x11||"number"===t.x11||!0===t.x11)&&s.push((function(){A(o,t.x11,a)}))),s.push((function(){!function(e,t){if("open"!==e.outgoing.state)return t(new Error("Channel is not open")),!0;e._callbacks.push((function(r){if(r)return t(!0!==r?r:new Error("Unable to open shell"));e.subtype="shell",t(void 0,e)})),e._client._sshstream.shell(e.outgoing.id,!0)}(o,r)})),s.shift()()}))},k.prototype.subsys=function(e,t){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");return x(this,"session",(function(r,n){if(r)return t(r);P(n,e,(function(e,r){if(e)return t(e);t(void 0,r)}))}))},k.prototype.sftp=function(e){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var t=this;return x(this,"session",(function(r,n){if(r)return e(r);P(n,"sftp",(function(r,n){if(r)return e(r);var i=t._sshstream._state.incoming.identRaw,o={debug:t.config.debug},s=new h(o,i);function a(t){s.removeListener("ready",c),n.removeListener("exit",u),e(t)}function c(){s.removeListener("error",a),n.removeListener("exit",u),e(void 0,new b(s))}function u(t,r){var n;s.removeListener("ready",c),s.removeListener("error",a),n="number"==typeof t?"Received exit code "+t+" while establishing SFTP session":"Received signal "+r+" while establishing SFTP session";var i=new Error(n);i.code=t,i.signal=r,e(i)}s.once("error",a).once("ready",c).once("close",(function(){n.end()})),n.once("exit",u),s.pipe(n).pipe(s)}))}))},k.prototype.forwardIn=function(e,t,r){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var n=this,i="function"==typeof r;return i&&this._callbacks.push((function(i,o){if(i)return r(!0!==i?i:new Error("Unable to bind to "+e+":"+t));var s=t;0===t&&o&&o.length>=4&&(s=E(o,0),n._sshstream.remoteBugs&p.DYN_RPORT_BUG||(t=s)),n._forwarding[e+":"+t]=s,r(void 0,s)})),this._sshstream.tcpipForward(e,t,i)},k.prototype.unforwardIn=function(e,t,r){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var n=this,i="function"==typeof r;return i&&this._callbacks.push((function(i){if(i)return r(!0!==i?i:new Error("Unable to unbind from "+e+":"+t));delete n._forwarding[e+":"+t],r()})),this._sshstream.cancelTcpipForward(e,t,i)},k.prototype.forwardOut=function(e,t,r,n,i){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");return x(this,"direct-tcpip",{srcIP:e,srcPort:t,dstIP:r,dstPort:n},i)},k.prototype.openssh_noMoreSessions=function(e){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var t="function"==typeof e;return!this.config.strictVendor||this.config.strictVendor&&C.test(this._remoteVer)?(t&&this._callbacks.push((function(t){if(t)return e(!0!==t?t:new Error("Unable to disable future sessions"));e()})),this._sshstream.openssh_noMoreSessions(t)):(t&&process.nextTick((function(){e(new Error("strictVendor enabled and server is not OpenSSH or compatible version"))})),!0)},k.prototype.openssh_forwardInStreamLocal=function(e,t){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var r="function"==typeof t,n=this;return!this.config.strictVendor||this.config.strictVendor&&C.test(this._remoteVer)?(r&&this._callbacks.push((function(r){if(r)return t(!0!==r?r:new Error("Unable to bind to "+e));n._forwardingUnix[e]=!0,t()})),this._sshstream.openssh_streamLocalForward(e,r)):(r&&process.nextTick((function(){t(new Error("strictVendor enabled and server is not OpenSSH or compatible version"))})),!0)},k.prototype.openssh_unforwardInStreamLocal=function(e,t){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var r="function"==typeof t,n=this;return!this.config.strictVendor||this.config.strictVendor&&C.test(this._remoteVer)?(r&&this._callbacks.push((function(r){if(r)return t(!0!==r?r:new Error("Unable to unbind on "+e));delete n._forwardingUnix[e],t()})),this._sshstream.openssh_cancelStreamLocalForward(e,r)):(r&&process.nextTick((function(){t(new Error("strictVendor enabled and server is not OpenSSH or compatible version"))})),!0)},k.prototype.openssh_forwardOutStreamLocal=function(e,t){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");return!this.config.strictVendor||this.config.strictVendor&&C.test(this._remoteVer)?x(this,"direct-streamlocal@openssh.com",{socketPath:e},t):(process.nextTick((function(){t(new Error("strictVendor enabled and server is not OpenSSH or compatible version"))})),!0)};var O=function(){if("function"==typeof n.randomFillSync){var e=Buffer.alloc(16);return function(){return n.randomFillSync(e,0,16),e.toString("hex")}}return function(){return n.randomBytes(16).toString("hex")}}();k.Client=k,k.Server=r(259),k.utils=u.utils,k.SFTP_STATUS_CODE=h.STATUS_CODE,k.SFTP_OPEN_MODE=h.OPEN_MODE,k.HTTPAgent=v.SSHTTPAgent,k.HTTPSAgent=v.SSHTTPSAgent,e.exports=k},function(e,t){e.exports=require("dns")},function(e,t,r){var n=r(246);e.exports={Ber:n,BerReader:n.Reader,BerWriter:n.Writer}},function(e,t,r){"use strict";var n,i=r(14),o=i.Buffer,s={};for(n in i)i.hasOwnProperty(n)&&"SlowBuffer"!==n&&"Buffer"!==n&&(s[n]=i[n]);var a=s.Buffer={};for(n in o)o.hasOwnProperty(n)&&"allocUnsafe"!==n&&"allocUnsafeSlow"!==n&&(a[n]=o[n]);if(s.Buffer.prototype=o.prototype,a.from&&a.from!==Uint8Array.from||(a.from=function(e,t,r){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return o(e,t,r)}),a.alloc||(a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=o(e);return t&&0!==t.length?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n}),!s.kStringMaxLength)try{s.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(e){}s.constants||(s.constants={MAX_LENGTH:s.kMaxLength},s.kStringMaxLength&&(s.constants.MAX_STRING_LENGTH=s.kStringMaxLength)),e.exports=s},function(e,t,r){var n,i=r(15),o=i.sign,s=i.verify,a=i.createSign,c=i.createVerify,u=i.createDecipheriv,l=i.createHash,h=i.createHmac,f=i.getCiphers(),p=r(174).Ber,d=r(249).pbkdf,m=r(38),g=m.readUInt32BE,v=m.writeUInt32BE,y=r(91),w=y.ALGORITHMS.SUPPORTED_CIPHER,b=y.CIPHER_INFO,E=y.SSH_TO_OPENSSL,_=y.EDDSA_SUPPORTED,C=Symbol("Hash Algorithm"),S=Symbol("Private key PEM"),k=Symbol("Public key PEM"),x=Symbol("Public key SSH"),D=Symbol("Decrypted Key"),A=Object.create(null);!function(){for(var e=Object.keys(b),t=0;t<e.length;++t){var r=E[e[t]];r&&!A[r]&&(A[r]=b[e[t]])}}();var T="function"==typeof String.prototype.trimStart?function(e){return e.trimStart()}:function(e){for(var t=0,r=0;r<e.length;++r){switch(e.charCodeAt(r)){case 32:case 9:case 13:case 10:case 12:++t;continue}break}return 0===t?e:e.slice(t)};function R(e,t){return"-----BEGIN "+e+" KEY-----\n"+(t=t.toString("base64")).replace(/.{64}/g,"$&\n")+(t.length%64?"\n":"")+"-----END "+e+" KEY-----"}function I(e,t){var r=Buffer.allocUnsafe(e.length+t.length);return e.copy(r,0),t.copy(r,e.length),r}function P(e,t){for(var r=e.length,n=e._pos||0,i=0;i<t;++i){var o=r-n;if(n>=r||o<4)return!1;var s=g(e,n);if(o<4+s)return!1;n+=4+s}return e._pos=n,!0}function O(e,t){var r=new p.Writer;return r.startSequence(),r.startSequence(),r.writeOID("1.2.840.113549.1.1.1"),r.writeNull(),r.endSequence(),r.startSequence(p.BitString),r.writeByte(0),r.startSequence(),r.writeBuffer(e,p.Integer),r.writeBuffer(t,p.Integer),r.endSequence(),r.endSequence(),r.endSequence(),R("PUBLIC",r.buffer)}function F(e,t){var r=Buffer.allocUnsafe(15+e.length+4+t.length);v(r,7,0),r.write("ssh-rsa",4,7,"ascii");var n=11;return v(r,t.length,n),t.copy(r,n+=4),v(r,e.length,n+=t.length),e.copy(r,n+4),r}var N=function(){function e(e,t,r,n,i,o,s,a){var c=new p.Writer;return c.startSequence(),c.writeInt(0,p.Integer),c.writeBuffer(e,p.Integer),c.writeBuffer(t,p.Integer),c.writeBuffer(r,p.Integer),c.writeBuffer(n,p.Integer),c.writeBuffer(i,p.Integer),c.writeBuffer(o,p.Integer),c.writeBuffer(s,p.Integer),c.writeBuffer(a,p.Integer),c.endSequence(),c.buffer}try{var t=["return function genOpenSSLRSAPriv(n, e, d, iqmp, p, q) {","  var bn_d = bigIntFromBuffer(d);","  var dmp1 = bigIntToBuffer(bn_d % (bigIntFromBuffer(p) - 1n));","  var dmq1 = bigIntToBuffer(bn_d % (bigIntFromBuffer(q) - 1n));","  return makePEM('RSA PRIVATE', genRSAASN1Buf(n, e, d, p, q, dmp1, dmq1, iqmp));","};"].join("\n");return new Function("bigIntFromBuffer, bigIntToBuffer, makePEM, genRSAASN1Buf",t)((function(e){return BigInt("0x"+e.toString("hex"))}),(function(e){var t=e.toString(16);if(0!=(1&t.length))t="0"+t;else{var r=t.charCodeAt(0);(56===r||r>=97&&r<=102)&&(t="00"+t)}return Buffer.from(t,"hex")}),R,e)}catch(t){return n=r(251),function(t,r,i,o,s,a){var c=new n(s,256),u=new n(a,256),l=new n(i,256),h=l.mod(c.subtract(n.ONE)),f=l.mod(u.subtract(n.ONE));return R("RSA PRIVATE",e(t,r,i,s,a,Buffer.from(h.toByteArray()),Buffer.from(f.toByteArray()),o))}}var n}();function L(e,t,r,n){var i=new p.Writer;return i.startSequence(),i.startSequence(),i.writeOID("1.2.840.10040.4.1"),i.startSequence(),i.writeBuffer(e,p.Integer),i.writeBuffer(t,p.Integer),i.writeBuffer(r,p.Integer),i.endSequence(),i.endSequence(),i.startSequence(p.BitString),i.writeByte(0),i.writeBuffer(n,p.Integer),i.endSequence(),i.endSequence(),R("PUBLIC",i.buffer)}function B(e,t,r,n){var i=Buffer.allocUnsafe(15+e.length+4+t.length+4+r.length+4+n.length);v(i,7,0),i.write("ssh-dss",4,7,"ascii");var o=11;return v(i,e.length,o),e.copy(i,o+=4),v(i,t.length,o+=e.length),t.copy(i,o+=4),v(i,r.length,o+=t.length),r.copy(i,o+=4),v(i,n.length,o+=r.length),n.copy(i,o+4),i}function M(e,t,r,n,i){var o=new p.Writer;return o.startSequence(),o.writeInt(0,p.Integer),o.writeBuffer(e,p.Integer),o.writeBuffer(t,p.Integer),o.writeBuffer(r,p.Integer),o.writeBuffer(n,p.Integer),o.writeBuffer(i,p.Integer),o.endSequence(),R("DSA PRIVATE",o.buffer)}function U(e){var t=new p.Writer;return t.startSequence(),t.startSequence(),t.writeOID("1.3.101.112"),t.endSequence(),t.startSequence(p.BitString),t.writeByte(0),t._ensure(e.length),e.copy(t._buf,t._offset,0,e.length),t._offset+=e.length,t.endSequence(),t.endSequence(),R("PUBLIC",t.buffer)}function j(e){var t=Buffer.allocUnsafe(19+e.length);return v(t,11,0),t.write("ssh-ed25519",4,11,"ascii"),v(t,e.length,15),e.copy(t,19),t}function H(e,t){var r=new p.Writer;return r.startSequence(),r.startSequence(),r.writeOID("1.2.840.10045.2.1"),r.writeOID(e),r.endSequence(),r.startSequence(p.BitString),r.writeByte(0),r._ensure(t.length),t.copy(r._buf,r._offset,0,t.length),r._offset+=t.length,r.endSequence(),r.endSequence(),R("PUBLIC",r.buffer)}function q(e,t){var r;switch(e){case"1.2.840.10045.3.1.7":r="nistp256";break;case"1.3.132.0.34":r="nistp384";break;case"1.3.132.0.35":r="nistp521";break;default:return}var n=Buffer.allocUnsafe(39+t.length);return v(n,19,0),n.write("ecdsa-sha2-"+r,4,19,"ascii"),v(n,8,23),n.write(r,27,8,"ascii"),v(n,t.length,35),t.copy(n,39),n}function $(e,t,r){var n=new p.Writer;return n.startSequence(),n.writeInt(1,p.Integer),n.writeBuffer(r,p.OctetString),n.startSequence(160),n.writeOID(e),n.endSequence(),n.startSequence(161),n.startSequence(p.BitString),n.writeByte(0),n._ensure(t.length),t.copy(n._buf,n._offset,0,t.length),n._offset+=t.length,n.endSequence(),n.endSequence(),n.endSequence(),R("EC PRIVATE",n.buffer)}var G,W={sign:function(){if("function"==typeof o)return function(e){var t=this[S];if(null===t)return new Error("No private key available");try{return o(this[C],e,t)}catch(e){return e}};return function(e){var t=this[S];if(null===t)return new Error("No private key available");var r=a(this[C]);return r.update(e),function(e,t){try{return e.sign(t)}catch(e){return e}}(r,t)}}(),verify:function(){if("function"==typeof s)return function(e,t){var r=this[k];if(null===r)return new Error("No public key available");try{return s(this[C],e,r,t)}catch(e){return e}};return function(e,t){var r=this[k];if(null===r)return new Error("No public key available");var n=c(this[C]);return n.update(e),function(e,t,r){try{return e.verify(t,r)}catch(e){return e}}(n,r,t)}}(),getPrivatePEM:function(){return this[S]},getPublicPEM:function(){return this[k]},getPublicSSH:function(){return this[x]}};function z(e,t,r,n,i,o,s){this.type=e,this.comment=t,this[S]=r,this[k]=n,this[x]=i,this[C]=o,this[D]=s}function V(e,t,r,n,i,o,s){this.type=e,this.comment=t,this[S]=r,this[k]=n,this[x]=i,this[C]=o,this[D]=s}function K(e,t,r,n,i,o,s){this.type=e,this.comment=t,this[S]=r,this[k]=n,this[x]=i,this[C]=o,this[D]=s}function X(e,t,i,o){var s;n||(n=r(27));var a=null,c=null;switch(t){case"ssh-rsa":var u=n.readString(e,e._pos);if(!1===u)return new Error("Malformed OpenSSH public key");var l=n.readString(e,e._pos);if(!1===l)return new Error("Malformed OpenSSH public key");a=O(l,u),c=F(l,u),s="sha1";break;case"ssh-dss":var h=n.readString(e,e._pos);if(!1===h)return new Error("Malformed OpenSSH public key");var f=n.readString(e,e._pos);if(!1===f)return new Error("Malformed OpenSSH public key");var p=n.readString(e,e._pos);if(!1===p)return new Error("Malformed OpenSSH public key");var d=n.readString(e,e._pos);if(!1===d)return new Error("Malformed OpenSSH public key");a=L(h,f,p,d),c=B(h,f,p,d),s="sha1";break;case"ssh-ed25519":var m=n.readString(e,e._pos);if(!1===m||32!==m.length)return new Error("Malformed OpenSSH public key");a=U(m),c=j(m),s=null;break;case"ecdsa-sha2-nistp256":s="sha256",oid="1.2.840.10045.3.1.7";case"ecdsa-sha2-nistp384":void 0===s&&(s="sha384",oid="1.3.132.0.34");case"ecdsa-sha2-nistp521":if(void 0===s&&(s="sha512",oid="1.3.132.0.35"),!P(e,1))return new Error("Malformed OpenSSH public key");var g=n.readString(e,e._pos);if(!1===g)return new Error("Malformed OpenSSH public key");a=H(oid,g),c=q(oid,g);break;default:return new Error("Unsupported OpenSSH public key type: "+t)}return new Y(o,i,a,c,s)}function Y(e,t,r,n,i){this.type=e,this.comment=t,this[S]=null,this[k]=r,this[x]=n,this[C]=i,this[D]=!1}function J(e,t,r,n,i){this.type=e,this.comment=t,this[S]=null,this[k]=r,this[x]=n,this[C]=i,this[D]=!1}z.prototype=W,G=/^-----BEGIN OPENSSH PRIVATE KEY-----(?:\r\n|\n)([\s\S]+)(?:\r\n|\n)-----END OPENSSH PRIVATE KEY-----$/,z.parse=function(e,t){var i,o=G.exec(e);if(null===o)return null;var s=Buffer.from(o[1],"base64");if(s.length<31)return new Error("Malformed OpenSSH private key");var a=s.toString("ascii",0,15);if("openssh-key-v1\0"!==a)return new Error("Unsupported OpenSSH key magic: "+a);n||(n=r(27));var c=n.readString(s,15,"ascii");if(!1===c)return new Error("Malformed OpenSSH private key");if("none"!==c&&-1===w.indexOf(c))return new Error("Unsupported cipher for OpenSSH key: "+c);var l,h,f,m=n.readString(s,s._pos,"ascii");if(!1===m)return new Error("Malformed OpenSSH private key");if("none"!==m){if("none"===c)return new Error("Malformed OpenSSH private key");if("bcrypt"!==m)return new Error("Unsupported kdf name for OpenSSH key: "+m);if(!t)return new Error("Encrypted private OpenSSH key detected, but no passphrase given")}else if("none"!==c)return new Error("Malformed OpenSSH private key");"none"!==c&&(l=b[c]);var v=n.readString(s,s._pos);if(!1===v)return new Error("Malformed OpenSSH private key");if(v.length)switch(m){case"none":return new Error("Malformed OpenSSH private key");case"bcrypt":var y=n.readString(v,0);if(!1===y||v._pos+4>v.length)return new Error("Malformed OpenSSH private key");var C=g(v,v._pos),S=Buffer.allocUnsafe(l.keyLen+l.ivLen);if(0!==d(t,t.length,y,y.length,S,S.length,C))return new Error("Failed to generate information to decrypt key");h=S.slice(0,l.keyLen),f=S.slice(l.keyLen)}else if("none"!==m)return new Error("Malformed OpenSSH private key");var k=n.readInt(s,s._pos);if(!1===k)return new Error("Malformed OpenSSH private key");if(s._pos+=4,k>0){for(var x=0;x<k;++x){var D=n.readString(s,s._pos);if(!1===D)return new Error("Malformed OpenSSH private key");if(!1===n.readString(D,0,"ascii"))return new Error("Malformed OpenSSH private key")}var A=n.readString(s,s._pos);if(!1===A)return new Error("Malformed OpenSSH private key");if(void 0!==h){if(A.length<l.blockLen||A.length%l.blockLen!=0)return new Error("Malformed OpenSSH private key");try{var T={authTagLength:l.authLen},W=u(E[c],h,f,T);if(l.authLen>0){if(s.length-s._pos<l.authLen)return new Error("Malformed OpenSSH private key");W.setAuthTag(s.slice(s._pos,s._pos+=l.authLen))}A=I(W.update(A),W.final())}catch(e){return e}}if(s._pos!==s.length)return new Error("Malformed OpenSSH private key");i=function(e,t,r){var i=[];if(e.length<8)return new Error("Malformed OpenSSH private key");var o,s,a,c,u=g(e,0),l=g(e,4);if(u!==l)return r?new Error("OpenSSH key integrity check failed -- bad passphrase?"):new Error("OpenSSH key integrity check failed");for(e._pos=8,o=0;o<t;++o){var h=void 0,f=void 0,d=void 0,m=void 0,v=n.readString(e,e._pos,"ascii");if(!1===v)return new Error("Malformed OpenSSH private key");switch(v){case"ssh-rsa":var y=n.readString(e,e._pos);if(!1===y)return new Error("Malformed OpenSSH private key");var w=n.readString(e,e._pos);if(!1===w)return new Error("Malformed OpenSSH private key");var b=n.readString(e,e._pos);if(!1===b)return new Error("Malformed OpenSSH private key");var E=n.readString(e,e._pos);if(!1===E)return new Error("Malformed OpenSSH private key");if(!1===(C=n.readString(e,e._pos)))return new Error("Malformed OpenSSH private key");if(!1===(S=n.readString(e,e._pos)))return new Error("Malformed OpenSSH private key");d=O(y,w),m=F(y,w),f=N(y,w,b,E,C,S),h="sha1";break;case"ssh-dss":var C,S;if(!1===(C=n.readString(e,e._pos)))return new Error("Malformed OpenSSH private key");if(!1===(S=n.readString(e,e._pos)))return new Error("Malformed OpenSSH private key");var k=n.readString(e,e._pos);if(!1===k)return new Error("Malformed OpenSSH private key");var x=n.readString(e,e._pos);if(!1===x)return new Error("Malformed OpenSSH private key");var D=n.readString(e,e._pos);if(!1===D)return new Error("Malformed OpenSSH private key");d=L(C,S,k,x),m=B(C,S,k,x),f=M(C,S,k,x,D),h="sha1";break;case"ssh-ed25519":if(!_)return new Error("Unsupported OpenSSH private key type: "+v);var A=n.readString(e,e._pos);if(!1===A||32!==A.length)return new Error("Malformed OpenSSH private key");var T=n.readString(e,e._pos);if(!1===T||64!==T.length)return new Error("Malformed OpenSSH private key");d=U(A),m=j(A),a=T.slice(0,32),c=void 0,(c=new p.Writer).startSequence(),c.writeInt(0,p.Integer),c.startSequence(),c.writeOID("1.3.101.112"),c.endSequence(),c.startSequence(p.OctetString),c.writeBuffer(a,p.OctetString),c.endSequence(),c.endSequence(),f=R("PRIVATE",c.buffer),h=null;break;case"ecdsa-sha2-nistp256":h="sha256",s="1.2.840.10045.3.1.7";case"ecdsa-sha2-nistp384":void 0===h&&(h="sha384",s="1.3.132.0.34");case"ecdsa-sha2-nistp521":if(void 0===h&&(h="sha512",s="1.3.132.0.35"),!P(e,1))return new Error("Malformed OpenSSH private key");var I=n.readString(e,e._pos);if(!1===I)return new Error("Malformed OpenSSH private key");var G=n.readString(e,e._pos);if(!1===G)return new Error("Malformed OpenSSH private key");d=H(s,I),m=q(s,I),f=$(s,I,G);break;default:return new Error("Unsupported OpenSSH private key type: "+v)}var W=n.readString(e,e._pos,"utf8");if(!1===W)return new Error("Malformed OpenSSH private key");i.push(new z(v,W,f,d,m,h,r))}var V=0;for(o=e._pos;o<e.length;++o)if(e[o]!==++V%255)return new Error("Malformed OpenSSH private key");return i}(A,k,void 0!==h)}else i=[];return i},V.prototype=W,function(){var e=/^-----BEGIN (RSA|DSA|EC) PRIVATE KEY-----(?:\r\n|\n)((?:[^:]+:\s*[\S].*(?:\r\n|\n))*)([\s\S]+)(?:\r\n|\n)-----END (RSA|DSA|EC) PRIVATE KEY-----$/;V.parse=function(t,r){var n=e.exec(t);if(null===n)return null;var o,s,a,c,h,d,m=Buffer.from(n[3],"base64"),g=n[2],v=!1;if(void 0!==g){g=g.split(/\r\n|\n/g);for(var y=0;y<g.length;++y){var w=g[y],b=w.indexOf(":");if("DEK-Info"===w.slice(0,b)){var E=w.slice(b+2);if(-1===(b=E.indexOf(",")))continue;var _=E.slice(0,b).toLowerCase();if(-1===f.indexOf(_))return new Error("Cipher ("+_+") not supported for encrypted OpenSSH private key");var C=A[_];if(!C)return new Error("Cipher ("+_+") not supported for encrypted OpenSSH private key");var S=Buffer.from(E.slice(b+1),"hex");if(S.length!==C.ivLen)return new Error("Malformed encrypted OpenSSH private key");if(!r)return new Error("Encrypted OpenSSH private key detected, but no passphrase given");for(var k=l("md5").update(r).update(S.slice(0,8)).digest();k.length<C.keyLen;)k=I(k,l("md5").update(k).update(r).update(S).digest().slice(0,8));k.length>C.keyLen&&(k=k.slice(0,C.keyLen));try{var x=u(_,k,S);x.setAutoPadding(!1),m=I(x.update(m),x.final()),v=!0}catch(e){return e}}}}var D,T,P,N="Malformed OpenSSH private key";switch(v&&(N+=". Bad passphrase?"),n[1]){case"RSA":o="ssh-rsa",s=R("RSA PRIVATE",m);try{(d=new p.Reader(m)).readSequence(),d.readInt();var M=d.readString(p.Integer,!0);if(null===M)return new Error(N);var U=d.readString(p.Integer,!0);if(null===U)return new Error(N);a=O(M,U),c=F(M,U)}catch(e){return new Error(N)}h="sha1";break;case"DSA":o="ssh-dss",s=R("DSA PRIVATE",m);try{(d=new p.Reader(m)).readSequence(),d.readInt();var j=d.readString(p.Integer,!0);if(null===j)return new Error(N);var $=d.readString(p.Integer,!0);if(null===$)return new Error(N);var G=d.readString(p.Integer,!0);if(null===G)return new Error(N);var W=d.readString(p.Integer,!0);if(null===W)return new Error(N);a=L(j,$,G,W),c=B(j,$,G,W)}catch(e){return new Error(N)}h="sha1";break;case"EC":var z,K;try{(d=new p.Reader(m)).readSequence(),d.readInt(),K=d.readString(p.OctetString,!0),d.readByte();var X=d.readLength();if(null===X)return new Error(N);d._offset=X;var Y=d.readOID();if(null===Y)return new Error(N);switch(Y){case"1.2.840.10045.3.1.7":z="prime256v1",o="ecdsa-sha2-nistp256",h="sha256";break;case"1.3.132.0.34":z="secp384r1",o="ecdsa-sha2-nistp384",h="sha384";break;case"1.3.132.0.35":z="secp521r1",o="ecdsa-sha2-nistp521",h="sha512";break;default:return new Error("Unsupported private key EC OID: "+Y)}}catch(e){return new Error(N)}s=R("EC PRIVATE",m);var J=(D=z,T=K,(P=i.createECDH(D)).setPrivateKey(T),P.getPublicKey());a=H(Y,J),c=q(Y,J)}return new V(o,"",s,a,c,h,v)}}(),K.prototype=W,function(){var e=Buffer.alloc(0),t=Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),i=Buffer.from([0,0,0,0]),o=Buffer.from([0,0,0,1]),s=/^PuTTY-User-Key-File-2: (ssh-(?:rsa|dss))\r?\nEncryption: (aes256-cbc|none)\r?\nComment: ([^\r\n]*)\r?\nPublic-Lines: \d+\r?\n([\s\S]+?)\r?\nPrivate-Lines: \d+\r?\n([\s\S]+?)\r?\nPrivate-MAC: ([^\r\n]+)/;K.parse=function(a,c){var f=s.exec(a);if(null===f)return null;var p=f[2],d="none"!==p;if(d&&!c)return new Error("Encrypted PPK private key detected, but no passphrase given");var m=Buffer.from(f[5],"base64");if(d){var g=b[p],y=I(l("sha1").update(i).update(c).digest(),l("sha1").update(o).update(c).digest());y.length>g.keyLen&&(y=y.slice(0,g.keyLen));try{var w=u(E[p],y,t);w.setAutoPadding(!1),m=I(w.update(m),w.final()),decrypted=!0}catch(e){return e}}var _,C,S,k=f[1],x=f[3],D=Buffer.from(f[4],"base64"),A=f[6],T=k.length,R=p.length,U=Buffer.byteLength(x),j=D.length,H=m.length,q=Buffer.allocUnsafe(4+T+4+R+4+U+4+j+4+H);if(v(q,T,V=0),q.write(k,V+=4,T,"ascii"),v(q,R,V+=T),q.write(p,V+=4,R,"ascii"),v(q,U,V+=R),q.write(x,V+=4,U,"utf8"),v(q,j,V+=U),D.copy(q,V+=4),v(q,H,V+=j),m.copy(q,V+4),c||(c=e),h("sha1",l("sha1").update("putty-private-key-file-mac-key").update(c).digest()).update(q).digest("hex")!==A)return d?new Error("PPK private key integrity check failed -- bad passphrase?"):new Error("PPK private key integrity check failed");switch(n||(n=r(27)),D._pos=0,P(D,1),k){case"ssh-rsa":var $=n.readString(D,D._pos);if(!1===$)return new Error("Malformed PPK public key");var G=n.readString(D,D._pos);if(!1===G)return new Error("Malformed PPK public key");var W=n.readString(m,0);if(!1===W)return new Error("Malformed PPK private key");if(!1===(V=n.readString(m,m._pos)))return new Error("Malformed PPK private key");if(!1===(X=n.readString(m,m._pos)))return new Error("Malformed PPK private key");var z=n.readString(m,m._pos);if(!1===z)return new Error("Malformed PPK private key");_=O(G,$),C=F(G,$),S=N(G,$,W,z,V,X);break;case"ssh-dss":var V,X;if(!1===(V=n.readString(D,D._pos)))return new Error("Malformed PPK public key");if(!1===(X=n.readString(D,D._pos)))return new Error("Malformed PPK public key");var Y=n.readString(D,D._pos);if(!1===Y)return new Error("Malformed PPK public key");var J=n.readString(D,D._pos);if(!1===J)return new Error("Malformed PPK public key");var Q=n.readString(m,0);if(!1===Q)return new Error("Malformed PPK private key");_=L(V,X,Y,J),C=B(V,X,Y,J),S=M(V,X,Y,J,Q)}return new K(k,x,S,_,C,"sha1",d)}}(),Y.prototype=W,function(){var e;e=_?/^(((?:ssh-(?:rsa|dss|ed25519))|ecdsa-sha2-nistp(?:256|384|521))(?:-cert-v0[01]@openssh.com)?) ([A-Z0-9a-z\/+=]+)(?:$|\s+([\S].*)?)$/:/^(((?:ssh-(?:rsa|dss))|ecdsa-sha2-nistp(?:256|384|521))(?:-cert-v0[01]@openssh.com)?) ([A-Z0-9a-z\/+=]+)(?:$|\s+([\S].*)?)$/,Y.parse=function(t){var i=e.exec(t);if(null===i)return null;n||(n=r(27));var o=i[1],s=i[2],a=Buffer.from(i[3],"base64"),c=i[4]||"",u=n.readString(a,a._pos,"ascii");return!1===u||0!==u.indexOf(s)?new Error("Malformed OpenSSH public key"):X(a,s,c,o)}}(),J.prototype=W,function(){var e=/^---- BEGIN SSH2 PUBLIC KEY ----(?:\r\n|\n)((?:(?:[\x21-\x7E]+?):(?:(?:.*?\\\r?\n)*.*)(?:\r\n|\n))*)((?:[A-Z0-9a-z\/+=]+(?:\r\n|\n))+)---- END SSH2 PUBLIC KEY ----$/,t=/^([\x21-\x7E]+?):((?:.*?\\\r?\n)*.*)$/gm,i=/\\\r?\n/g;J.parse=function(o){var s=e.exec(o);if(null===s)return null;var a=s[1],c=Buffer.from(s[2],"base64"),u="";if(void 0!==a)for(;s=t.exec(a);)"comment"===s[1].toLowerCase()&&(u=T(s[2].replace(i,""))).length>1&&34===u.charCodeAt(0)&&34===u.charCodeAt(u.length-1)&&(u=u.slice(1,-1));n||(n=r(27));var l=n.readString(c,0,"ascii");if(!1===l)return new Error("Malformed RFC4716 public key");var h=null,f=null;switch(l){case"ssh-rsa":var p=n.readString(c,c._pos);if(!1===p)return new Error("Malformed RFC4716 public key");var d=n.readString(c,c._pos);if(!1===d)return new Error("Malformed RFC4716 public key");h=O(d,p),f=F(d,p);break;case"ssh-dss":var m=n.readString(c,c._pos);if(!1===m)return new Error("Malformed RFC4716 public key");var g=n.readString(c,c._pos);if(!1===g)return new Error("Malformed RFC4716 public key");var v=n.readString(c,c._pos);if(!1===v)return new Error("Malformed RFC4716 public key");var y=n.readString(c,c._pos);if(!1===y)return new Error("Malformed RFC4716 public key");h=L(m,g,v,y),f=B(m,g,v,y);break;default:return new Error("Malformed RFC4716 public key")}return new J(l,u,h,f,"sha1")}}(),e.exports={parseDERKey:function(e,t){return X(e,t,"",t)},parseKey:function(e,t){if(Buffer.isBuffer(e))e=e.toString("utf8").trim();else{if("string"!=typeof e)return new Error("Key data must be a Buffer or string");e=e.trim()}if(null!=t)if("string"==typeof t)t=Buffer.from(t);else if(!Buffer.isBuffer(t))return new Error("Passphrase must be a string or Buffer when supplied");var r;return null!==(r=z.parse(e,t))?r:null!==(r=V.parse(e,t))?r:null!==(r=K.parse(e,t))?r:null!==(r=Y.parse(e))?r:null!==(r=J.parse(e))?r:new Error("Unsupported key format")}}},function(e,t,r){var n=r(0).inherits,i=r(11).Duplex,o=r(11).Readable,s=r(11).Writable,a=r(88).constants.CHANNEL_EXTENDED_DATATYPE.STDERR,c=2097152,u=c/2,l=["CHANNEL_EOF","CHANNEL_CLOSE","CHANNEL_DATA","CHANNEL_EXTENDED_DATA","CHANNEL_WINDOW_ADJUST","CHANNEL_SUCCESS","CHANNEL_FAILURE","CHANNEL_REQUEST"],h=l.length;function f(e,t,r){var n={highWaterMark:c,allowHalfOpen:!r||r&&!1!==r.allowHalfOpen};this.allowHalfOpen=n.allowHalfOpen,i.call(this,n);var s=this,a=r&&r.server;this.server=a,this.type=e.type,this.subtype=void 0;var f,m,g,v,y,w=this.incoming=e.incoming,b=w.id,E=this.outgoing=e.outgoing,_=this._callbacks=[];this._client=t,this._hasX11=!1;var C=t._channels,S=t._sshstream;function k(){s._waitClientDrain&&(s._waitClientDrain=!1,s._waitWindow||(s._chunk?s._write(s._chunk,null,s._chunkcb):s._chunkcb?s._chunkcb():s._chunkErr?s.stderr._write(s._chunkErr,null,s._chunkcbErr):s._chunkcbErr&&s._chunkcbErr()))}function x(){s.eof(),(a||!a&&!s.allowHalfOpen)&&s.close(),s.writable=!1}function D(){s.readable=!1}t._sock.on("drain",k),S.once("CHANNEL_EOF:"+b,(function(){"open"===w.state&&(w.state="eof",s.readable&&s.push(null),!a&&s.stderr.readable&&s.stderr.push(null))})).once("CHANNEL_CLOSE:"+b,(function(){if("closed"!==w.state){w.state="closed",s.readable&&s.push(null),a&&s.stderr.writable?s.stderr.end():!a&&s.stderr.readable&&s.stderr.push(null),"open"!==E.state&&"eof"!==E.state||s.close(),"closing"===E.state&&(E.state="closed"),delete C[b];var e=s._writableState;t._sock.removeListener("drain",k),e.ending||e.finished||s.end(),s._callbacks=[];for(var r=0;r<_.length;++r)_[r](!0);_=s._callbacks,a?s.readable?s.once("end",(function(){s.emit("close")})):s.emit("close"):(s.readable?s.once("end",(function(){null===f?s.emit("close",f,m,g,v,y):s.emit("close",f)})):null===f?s.emit("close",f,m,g,v,y):s.emit("close",f),s.stderr.readable?s.stderr.once("end",(function(){s.stderr.emit("close")})):s.stderr.emit("close"));for(r=0;r<h;++r)S.removeAllListeners(l[r]+":"+b)}})).on("CHANNEL_DATA:"+b,(function(e){0!==w.window&&(w.window-=e.length,s.push(e)?w.window<=u&&p(s):s._waitChanDrain=!0)})).on("CHANNEL_WINDOW_ADJUST:"+b,(function(e){E.window+=e,s._waitWindow&&(s._waitWindow=!1,s._waitClientDrain||(s._chunk?s._write(s._chunk,null,s._chunkcb):s._chunkcb?s._chunkcb():s._chunkErr?s.stderr._write(s._chunkErr,null,s._chunkcbErr):s._chunkcbErr&&s._chunkcbErr()))})).on("CHANNEL_SUCCESS:"+b,(function(){a?(S._kalast=Date.now(),S._kacnt=0):t._resetKA(),_.length&&_.shift()(!1)})).on("CHANNEL_FAILURE:"+b,(function(){a?(S._kalast=Date.now(),S._kacnt=0):t._resetKA(),_.length&&_.shift()(!0)})).on("CHANNEL_REQUEST:"+b,(function(e){if(!a){if("exit-status"===e.request)return void s.emit("exit",f=e.code);if("exit-signal"===e.request)return void s.emit("exit",f=null,m="SIG"+e.signal,g=e.coredump,v=e.description,y=e.lang)}e.wantReply&&S.channelFailure(E.id)})),this.stdin=this.stdout=this,a?this.stderr=new d(this):(this.stderr=new o(n),this.stderr._read=function(e){s._waitChanDrain&&(s._waitChanDrain=!1,w.window<=u&&p(s))},S.on("CHANNEL_EXTENDED_DATA:"+b,(function(e,t){0!==w.window&&(w.window-=t.length,s.stderr.push(t)?w.window<=u&&p(s):s._waitChanDrain=!0)}))),this._waitClientDrain=!1,this._waitWindow=!1,this._waitChanDrain=!1,this._chunk=void 0,this._chunkcb=void 0,this._chunkErr=void 0,this._chunkcbErr=void 0,this.on("finish",x).on("prefinish",x),this.on("end",D).on("close",D)}function p(e){if("closed"===e.outgoing.state)return!0;var t=c-e.incoming.window;return t<=0||(e.incoming.window+=t,e._client._sshstream.channelWindowAdjust(e.outgoing.id,t))}function d(e){s.call(this,{highWaterMark:c}),this._channel=e}n(f,i),f.prototype.eof=function(){var e=!0,t=this.outgoing;return"open"===t.state&&(t.state="eof",e=this._client._sshstream.channelEOF(t.id)),e},f.prototype.close=function(){var e=!0,t=this.outgoing;return"open"!==t.state&&"eof"!==t.state||(t.state="closing",e=this._client._sshstream.channelClose(t.id)),e},f.prototype._read=function(e){this._waitChanDrain&&(this._waitChanDrain=!1,this.incoming.window<=u&&p(this))},f.prototype._write=function(e,t,r){var n,i,o,s=this._client._sshstream,a=this.outgoing,c=a.packetSize,u=a.id,l=a.window,h=e.length,f=0;if("open"===a.state){for(;h-f>0&&l>0;)if((o=h-f)>l&&(o=l),o>c&&(o=c),n=s.channelData(u,e.slice(f,f+o)),f+=o,l-=o,!n){this._waitClientDrain=!0,this._chunk=void 0,this._chunkcb=r;break}if(a.window=l,h-f>0)return 0===l&&(this._waitWindow=!0),f>0?(i=Buffer.allocUnsafe(h-f),e.copy(i,0,f),this._chunk=i):this._chunk=e,void(this._chunkcb=r);this._waitClientDrain||r()}},f.prototype.destroy=function(){this.end()},f.prototype.setWindow=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");return"session"!==this.type||"shell"!==this.subtype&&"exec"!==this.subtype||!this.writable||"open"!==this.outgoing.state||this._client._sshstream.windowChange(this.outgoing.id,e,t,r,n)},f.prototype.signal=function(e){if(this.server)throw new Error("Client-only method called in server mode");return"session"!==this.type||!this.writable||"open"!==this.outgoing.state||this._client._sshstream.signal(this.outgoing.id,e)},f.prototype.exit=function(e,t,r){if(!this.server)throw new Error("Server-only method called in client mode");return"session"!==this.type||!this.writable||"open"!==this.outgoing.state||("number"==typeof e?this._client._sshstream.exitStatus(this.outgoing.id,e):this._client._sshstream.exitSignal(this.outgoing.id,e,t,r))},f.MAX_WINDOW=c,f.PACKET_SIZE=32768,n(d,s),d.prototype._write=function(e,t,r){var n,i,o,s=this._channel,c=s._client._sshstream,u=s.outgoing,l=u.packetSize,h=u.id,f=u.window,p=e.length,d=0;if("open"===s.outgoing.state){for(;p-d>0&&f>0;)if((o=p-d)>f&&(o=f),o>l&&(o=l),n=c.channelExtData(h,e.slice(d,d+o),a),d+=o,f-=o,!n){s._waitClientDrain=!0,s._chunkErr=void 0,s._chunkcbErr=r;break}if(u.window=f,p-d>0)return 0===f&&(s._waitWindow=!0),d>0?(i=Buffer.allocUnsafe(p-d),e.copy(i,0,d),s._chunkErr=i):s._chunkErr=e,void(s._chunkcbErr=r);s._waitClientDrain||r()}},e.exports=f},function(e,t,r){"use strict";var n;e.exports=S,S.ReadableState=C;r(6).EventEmitter;var i=function(e,t){return e.listeners(t).length},o=r(179),s=r(14).Buffer,a=global.Uint8Array||function(){};var c,u=r(0);c=u&&u.debuglog?u.debuglog("stream"):function(){};var l,h,f,p=r(263),d=r(180),m=r(181).getHighWaterMark,g=r(39).codes,v=g.ERR_INVALID_ARG_TYPE,y=g.ERR_STREAM_PUSH_AFTER_EOF,w=g.ERR_METHOD_NOT_IMPLEMENTED,b=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(4)(S,o);var E=d.errorOrDestroy,_=["error","close","destroy","pause","resume"];function C(e,t,i){n=n||r(49),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=r(34).StringDecoder),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function S(e){if(n=n||r(49),!(this instanceof S))return new S(e);var t=this instanceof n;this._readableState=new C(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function k(e,t,r,n,i){c("readableAddChunk",t);var o,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?T(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,R(e)))}(e,u);else if(i||(o=function(e,t){var r;n=t,s.isBuffer(n)||n instanceof a||"string"==typeof t||void 0===t||e.objectMode||(r=new v("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(u,t)),o)E(e,o);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),n)u.endEmitted?E(e,new b):x(e,u,t,!0);else if(u.ended)E(e,new y);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||0!==t.length?x(e,u,t,!1):I(e,u)):x(e,u,t,!1)}else n||(u.reading=!1,I(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function x(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&T(e)),I(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=d.destroy,S.prototype._undestroy=d.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),r=!0),k(this,e,t,!1,r)},S.prototype.unshift=function(e){return k(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){l||(l=r(34).StringDecoder);var t=new l(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var D=1073741824;function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=D?e=D:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function T(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(R,e))}function R(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,L(e)}function I(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(P,e,t))}function P(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(c("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function O(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function F(e){c("readable nexttick read 0"),e.read(0)}function N(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),L(e),t.flowing&&!t.reading&&e.read(0)}function L(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function B(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function M(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(U,t,e))}function U(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function j(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}S.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):T(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&M(this),null;var n,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(r,t))),null===(n=e>0?B(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&M(this)),null!==n&&this.emit("data",n),n},S.prototype._read=function(e){E(this,new w("_read()"))},S.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,c("pipe count=%d opts=%j",n.pipesCount,t);var o=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?a:m;function s(t,i){c("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,c("cleanup"),e.removeListener("close",p),e.removeListener("finish",d),e.removeListener("drain",u),e.removeListener("error",f),e.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",m),r.removeListener("data",h),l=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function a(){c("onend"),e.end()}n.endEmitted?process.nextTick(o):r.once("end",o),e.on("unpipe",s);var u=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,L(e))}}(r);e.on("drain",u);var l=!1;function h(t){c("ondata");var i=e.write(t);c("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==j(n.pipes,e))&&!l&&(c("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function f(t){c("onerror",t),m(),e.removeListener("error",f),0===i(e,"error")&&E(e,t)}function p(){e.removeListener("finish",d),m()}function d(){c("onfinish"),e.removeListener("close",p),m()}function m(){c("unpipe"),r.unpipe(e)}return r.on("data",h),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",f),e.once("close",p),e.once("finish",d),e.emit("pipe",r),n.flowing||(c("pipe resume"),r.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=j(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},S.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,c("on readable",n.length,n.reading),n.length?T(this):n.reading||process.nextTick(F,this))),r},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var r=o.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(O,this),r},S.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(O,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(N,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(c("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<_.length;o++)e.on(_[o],this.emit.bind(this,_[o]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=r(266)),h(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=B,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(e,t){return void 0===f&&(f=r(267)),f(S,e,t)})},function(e,t,r){e.exports=r(11)},function(e,t,r){"use strict";function n(e,t){o(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(o,this,e)):process.nextTick(o,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?process.nextTick(i,r):(r._writableState.errorEmitted=!0,process.nextTick(n,r,e)):process.nextTick(n,r,e):t?(process.nextTick(i,r),t(e)):process.nextTick(i,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},function(e,t,r){"use strict";var n=r(39).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},function(e,t,r){"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=S,S.WritableState=C;var o={deprecate:r(82)},s=r(179),a=r(14).Buffer,c=global.Uint8Array||function(){};var u,l=r(180),h=r(181).getHighWaterMark,f=r(39).codes,p=f.ERR_INVALID_ARG_TYPE,d=f.ERR_METHOD_NOT_IMPLEMENTED,m=f.ERR_MULTIPLE_CALLBACK,g=f.ERR_STREAM_CANNOT_PIPE,v=f.ERR_STREAM_DESTROYED,y=f.ERR_STREAM_NULL_VALUES,w=f.ERR_STREAM_WRITE_AFTER_END,b=f.ERR_UNKNOWN_ENCODING,E=l.errorOrDestroy;function _(){}function C(e,t,o){i=i||r(49),e=e||{},"boolean"!=typeof o&&(o=t instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(R,e,t),e._writableState.errorEmitted=!0,E(e,n)):(i(n),e._writableState.errorEmitted=!0,E(e,n),R(e,t))}(e,r,n,t,i);else{var o=A(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||D(e,r),n?process.nextTick(x,e,r,o,i):x(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function S(e){var t=this instanceof(i=i||r(49));if(!t&&!u.call(S,this))return new S(e);this._writableState=new C(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function k(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function x(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),R(e,t)}function D(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)o[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;o.allBuffers=c,k(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,h=r.callback;if(k(e,t,!1,t.objectMode?1:u.length,u,l,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function A(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final((function(r){t.pendingcb--,r&&E(e,r),t.prefinished=!0,e.emit("prefinish"),R(e,t)}))}function R(e,t){var r=A(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(T,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(4)(S,s),C.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(C.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===S&&(e&&e._writableState instanceof C)}})):u=function(e){return e instanceof this},S.prototype.pipe=function(){E(this,new g)},S.prototype.write=function(e,t,r){var n,i=this._writableState,o=!1,s=!i.objectMode&&(n=e,a.isBuffer(n)||n instanceof c);return s&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=_),i.ending?function(e,t){var r=new w;E(e,r),process.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var i;return null===r?i=new y:"string"==typeof r||t.objectMode||(i=new p("chunk",["string","Buffer"],r)),!i||(E(e,i),process.nextTick(n,i),!1)}(this,i,e,r))&&(i.pendingcb++,o=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var c=t.objectMode?1:n.length;t.length+=c;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else k(e,t,!1,c,n,i,o);return u}(this,i,s,e,t,r)),o},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||D(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new b(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,r){r(new d("_write()"))},S.prototype._writev=null,S.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,R(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=l.destroy,S.prototype._undestroy=l.undestroy,S.prototype._destroy=function(e,t){t(e)}},function(e,t,r){"use strict";e.exports=l;var n=r(39).codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(49);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,r){f(e,t,r)}))}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}r(4)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t,r){e.exports=function(e){function t(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let r;function s(...e){if(!s.enabled)return;const t=s,i=Number(new Date),o=i-(r||i);t.diff=o,t.prev=r,t.curr=i,r=i,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,i)=>{if("%%"===r)return r;a++;const o=n.formatters[i];if("function"==typeof o){const n=e[a];r=o.call(t,n),e.splice(a,1),a--}return r}),n.formatArgs.call(t,e),(t.log||n.log).apply(t,e)}return s.namespace=e,s.enabled=n.enabled(e),s.useColors=n.useColors(),s.color=t(e),s.destroy=i,s.extend=o,"function"==typeof n.init&&n.init(s),n.instances.push(s),s}function i(){const e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function o(e,t){const r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){const e=[...n.names.map(s),...n.skips.map(s).map(e=>"-"+e)].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.names=[],n.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(t=0;t<i;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){const e=n.instances[t];e.enabled=n.enabled(e.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=r(185),Object.keys(e).forEach(t=>{n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},function(e,t){var r=1e3,n=60*r,i=60*n,o=24*i,s=7*o,a=365.25*o;function c(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,t){t=t||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var c=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*a;case"weeks":case"week":case"w":return c*s;case"days":case"day":case"d":return c*o;case"hours":case"hour":case"hrs":case"hr":case"h":return c*i;case"minutes":case"minute":case"mins":case"min":case"m":return c*n;case"seconds":case"second":case"secs":case"sec":case"s":return c*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===u&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return c(e,t,o,"day");if(t>=i)return c(e,t,i,"hour");if(t>=n)return c(e,t,n,"minute");if(t>=r)return c(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t){e.exports=require("tty")},function(e,t,r){"use strict";const n=r(7),i=r(273),{env:o}=process;let s;function a(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(0===s)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!e.isTTY&&void 0===s)return 0;const t=s||0;if("dumb"===o.TERM)return t;if("win32"===process.platform){const e=n.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in o)||"codeship"===o.CI_NAME?1:t;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){const e=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)?1:"COLORTERM"in o?1:t}(e))}i("no-color")||i("no-colors")||i("color=false")?s=0:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(s=1),"FORCE_COLOR"in o&&(s=!0===o.FORCE_COLOR||"true"===o.FORCE_COLOR?1:!1===o.FORCE_COLOR||"false"===o.FORCE_COLOR?0:0===o.FORCE_COLOR.length?1:Math.min(parseInt(o.FORCE_COLOR,10),3)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(e,t,r){var n=r(3);e.exports=function(e,t,r){t=void 0!==t?t:"\n",r=void 0!==r?r:"utf8";var i=[],o=n.readFileSync(e,r);if(o.indexOf("-END CERTIFICATE-")<0||o.indexOf("-BEGIN CERTIFICATE-")<0)throw Error("File does not contain 'BEGIN CERTIFICATE' or 'END CERTIFICATE'");var s,a,c=[];for(s=0,a=(o=o.split(t)).length;s<a;s++){var u=o[s];0!==u.length&&(c.push(u),u.match(/-END CERTIFICATE-/)&&(i.push(c.join(t)),c=[]))}return i}},function(e,t,r){"use strict";var n;e.exports=C,C.ReadableState=_;r(6).EventEmitter;var i=function(e,t){return e.listeners(t).length},o=r(190),s=r(14).Buffer,a=global.Uint8Array||function(){};var c,u=r(0);c=u&&u.debuglog?u.debuglog("stream"):function(){};var l,h,f=r(280),p=r(191),d=r(192).getHighWaterMark,m=r(50).codes,g=m.ERR_INVALID_ARG_TYPE,v=m.ERR_STREAM_PUSH_AFTER_EOF,y=m.ERR_METHOD_NOT_IMPLEMENTED,w=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,b=r(281).emitExperimentalWarning;r(4)(C,o);var E=["error","close","destroy","pause","resume"];function _(e,t,i){n=n||r(51),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=d(this,e,"readableHighWaterMark",i),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=r(34).StringDecoder),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function C(e){if(n=n||r(51),!(this instanceof C))return new C(e);var t=this instanceof n;this._readableState=new _(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function S(e,t,r,n,i){c("readableAddChunk",t);var o,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?A(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,T(e)))}(e,u);else if(i||(o=function(e,t){var r;n=t,s.isBuffer(n)||n instanceof a||"string"==typeof t||void 0===t||e.objectMode||(r=new g("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(u,t)),o)e.emit("error",o);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),n)u.endEmitted?e.emit("error",new w):k(e,u,t,!0);else if(u.ended)e.emit("error",new v);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||0!==t.length?k(e,u,t,!1):R(e,u)):k(e,u,t,!1)}else n||(u.reading=!1,R(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function k(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&A(e)),R(e,t)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=p.destroy,C.prototype._undestroy=p.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),r=!0),S(this,e,t,!1,r)},C.prototype.unshift=function(e){return S(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(e){return l||(l=r(34).StringDecoder),this._readableState.decoder=new l(e),this._readableState.encoding=this._readableState.decoder.encoding,this};var x=8388608;function D(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=x?e=x:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(T,e))}function T(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||e.emit("readable"),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,N(e)}function R(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(I,e,t))}function I(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(c("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function P(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function O(e){c("readable nexttick read 0"),e.read(0)}function F(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),N(e),t.flowing&&!t.reading&&e.read(0)}function N(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function L(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function B(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(M,t,e))}function M(e,t){c("endReadableNT",e.endEmitted,e.length),e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function U(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}C.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):A(this),null;if(0===(e=D(e,t))&&t.ended)return 0===t.length&&B(this),null;var n,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=D(r,t))),null===(n=e>0?L(e,t):null)?(t.needReadable=!0,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&B(this)),null!==n&&this.emit("data",n),n},C.prototype._read=function(e){this.emit("error",new y("_read()"))},C.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,c("pipe count=%d opts=%j",n.pipesCount,t);var o=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?a:m;function s(t,i){c("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,c("cleanup"),e.removeListener("close",p),e.removeListener("finish",d),e.removeListener("drain",u),e.removeListener("error",f),e.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",m),r.removeListener("data",h),l=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function a(){c("onend"),e.end()}n.endEmitted?process.nextTick(o):r.once("end",o),e.on("unpipe",s);var u=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,N(e))}}(r);e.on("drain",u);var l=!1;function h(t){c("ondata");var i=e.write(t);c("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==U(n.pipes,e))&&!l&&(c("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function f(t){c("onerror",t),m(),e.removeListener("error",f),0===i(e,"error")&&e.emit("error",t)}function p(){e.removeListener("finish",d),m()}function d(){c("onfinish"),e.removeListener("close",p),m()}function m(){c("unpipe"),r.unpipe(e)}return r.on("data",h),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",f),e.once("close",p),e.once("finish",d),e.emit("pipe",r),n.flowing||(c("pipe resume"),r.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=U(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},C.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,c("on readable",n.length,n.reading),n.length?A(this):n.reading||process.nextTick(O,this))),r},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(e,t){var r=o.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(P,this),r},C.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(P,this),t},C.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(F,e,t))}(this,e)),e.paused=!1,this},C.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(c("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<E.length;o++)e.on(E[o],this.emit.bind(this,E[o]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return b("Readable[Symbol.asyncIterator]"),void 0===h&&(h=r(282)),h(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),C._fromList=L,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}})},function(e,t,r){e.exports=r(11)},function(e,t,r){"use strict";function n(e,t){o(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||process.nextTick(o,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(process.nextTick(n,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t?(process.nextTick(i,r),t(e)):process.nextTick(i,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){"use strict";var n=r(50).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},function(e,t,r){"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=C,C.WritableState=_;var o={deprecate:r(82)},s=r(190),a=r(14).Buffer,c=global.Uint8Array||function(){};var u,l=r(191),h=r(192).getHighWaterMark,f=r(50).codes,p=f.ERR_INVALID_ARG_TYPE,d=f.ERR_METHOD_NOT_IMPLEMENTED,m=f.ERR_MULTIPLE_CALLBACK,g=f.ERR_STREAM_CANNOT_PIPE,v=f.ERR_STREAM_DESTROYED,y=f.ERR_STREAM_NULL_VALUES,w=f.ERR_STREAM_WRITE_AFTER_END,b=f.ERR_UNKNOWN_ENCODING;function E(){}function _(e,t,o){i=i||r(51),e=e||{},"boolean"!=typeof o&&(o=t instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(T,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),T(e,t))}(e,r,n,t,i);else{var o=D(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||x(e,r),n?process.nextTick(k,e,r,o,i):k(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function C(e){var t=this instanceof(i=i||r(51));if(!t&&!u.call(C,this))return new C(e);this._writableState=new _(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function S(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function k(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),T(e,t)}function x(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)o[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;o.allBuffers=c,S(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,h=r.callback;if(S(e,t,!1,t.objectMode?1:u.length,u,l,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function D(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function A(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),T(e,t)}))}function T(e,t){var r=D(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(A,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}r(4)(C,s),_.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(_.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===C&&(e&&e._writableState instanceof _)}})):u=function(e){return e instanceof this},C.prototype.pipe=function(){this.emit("error",new g)},C.prototype.write=function(e,t,r){var n,i=this._writableState,o=!1,s=!i.objectMode&&(n=e,a.isBuffer(n)||n instanceof c);return s&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=E),i.ending?function(e,t){var r=new w;e.emit("error",r),process.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var i;return null===r?i=new y:"string"==typeof r||t.objectMode||(i=new p("chunk",["string","Buffer"],r)),!i||(e.emit("error",i),process.nextTick(n,i),!1)}(this,i,e,r))&&(i.pendingcb++,o=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var c=t.objectMode?1:n.length;t.length+=c;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else S(e,t,!1,c,n,i,o);return u}(this,i,s,e,t,r)),o},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||x(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new b(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,r){r(new d("_write()"))},C.prototype._writev=null,C.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,T(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=l.destroy,C.prototype._undestroy=l.undestroy,C.prototype._destroy=function(e,t){t(e)}},function(e,t,r){"use strict";e.exports=l;var n=r(50).codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(51);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,r){f(e,t,r)}))}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}r(4)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t){var r=Buffer.alloc,n="0".charCodeAt(0),i=Buffer.from("ustar\0","binary"),o=Buffer.from("00","binary"),s=Buffer.from("ustar ","binary"),a=Buffer.from(" \0","binary"),c=parseInt("7777",8),u=function(e,t,r,n){for(;r<n;r++)if(e[r]===t)return r;return n},l=function(e){for(var t=256,r=0;r<148;r++)t+=e[r];for(var n=156;n<512;n++)t+=e[n];return t},h=function(e,t){return(e=e.toString(8)).length>t?"7777777777777777777".slice(0,t)+" ":"0000000000000000000".slice(0,t-e.length)+e+" "};var f=function(e,t,r){if(128&(e=e.slice(t,t+r))[t=0])return function(e){var t;if(128===e[0])t=!0;else{if(255!==e[0])return null;t=!1}for(var r=!1,n=[],i=e.length-1;i>0;i--){var o=e[i];t?n.push(o):r&&0===o?n.push(0):r?(r=!1,n.push(256-o)):n.push(255-o)}var s=0,a=n.length;for(i=0;i<a;i++)s+=n[i]*Math.pow(256,i);return t?s:-1*s}(e);for(;t<e.length&&32===e[t];)t++;for(var n=(i=u(e,32,t,e.length),o=e.length,s=e.length,"number"!=typeof i?s:(i=~~i)>=o?o:i>=0?i:(i+=o)>=0?i:0);t<n&&0===e[t];)t++;return n===t?0:parseInt(e.slice(t,n).toString(),8);var i,o,s},p=function(e,t,r,n){return e.slice(t,u(e,0,t,t+r)).toString(n)},d=function(e){var t=Buffer.byteLength(e),r=Math.floor(Math.log(t)/Math.log(10))+1;return t+r>=Math.pow(10,r)&&r++,t+r+e};t.decodeLongPath=function(e,t){return p(e,0,e.length,t)},t.encodePax=function(e){var t="";e.name&&(t+=d(" path="+e.name+"\n")),e.linkname&&(t+=d(" linkpath="+e.linkname+"\n"));var r=e.pax;if(r)for(var n in r)t+=d(" "+n+"="+r[n]+"\n");return Buffer.from(t)},t.decodePax=function(e){for(var t={};e.length;){for(var r=0;r<e.length&&32!==e[r];)r++;var n=parseInt(e.slice(0,r).toString(),10);if(!n)return t;var i=e.slice(r+1,n-1).toString(),o=i.indexOf("=");if(-1===o)return t;t[i.slice(0,o)]=i.slice(o+1),e=e.slice(n)}return t},t.encode=function(e){var t=r(512),s=e.name,a="";if(5===e.typeflag&&"/"!==s[s.length-1]&&(s+="/"),Buffer.byteLength(s)!==s.length)return null;for(;Buffer.byteLength(s)>100;){var u=s.indexOf("/");if(-1===u)return null;a+=a?"/"+s.slice(0,u):s.slice(0,u),s=s.slice(u+1)}return Buffer.byteLength(s)>100||Buffer.byteLength(a)>155?null:e.linkname&&Buffer.byteLength(e.linkname)>100?null:(t.write(s),t.write(h(e.mode&c,6),100),t.write(h(e.uid,6),108),t.write(h(e.gid,6),116),t.write(h(e.size,11),124),t.write(h(e.mtime.getTime()/1e3|0,11),136),t[156]=n+function(e){switch(e){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}(e.type),e.linkname&&t.write(e.linkname,157),i.copy(t,257),o.copy(t,263),e.uname&&t.write(e.uname,265),e.gname&&t.write(e.gname,297),t.write(h(e.devmajor||0,6),329),t.write(h(e.devminor||0,6),337),a&&t.write(a,345),t.write(h(l(t),6),148),t)},t.decode=function(e,t){var r=0===e[156]?0:e[156]-n,o=p(e,0,100,t),c=f(e,100,8),u=f(e,108,8),h=f(e,116,8),d=f(e,124,12),m=f(e,136,12),g=function(e){switch(e){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}(r),v=0===e[157]?null:p(e,157,100,t),y=p(e,265,32),w=p(e,297,32),b=f(e,329,8),E=f(e,337,8),_=l(e);if(256===_)return null;if(_!==f(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(0===i.compare(e,257,263))e[345]&&(o=p(e,345,155,t)+"/"+o);else if(0!==s.compare(e,257,263)||0!==a.compare(e,263,265))throw new Error("Invalid tar header: unknown format.");return 0===r&&o&&"/"===o[o.length-1]&&(r=5),{name:o,mode:c,uid:u,gid:h,size:d,mtime:new Date(1e3*m),type:g,linkname:v,uname:y,gname:w,devmajor:b,devminor:E}}},function(e,t,r){"use strict";var n;e.exports=C,C.ReadableState=_;r(6).EventEmitter;var i=function(e,t){return e.listeners(t).length},o=r(197),s=r(14).Buffer,a=global.Uint8Array||function(){};var c,u=r(0);c=u&&u.debuglog?u.debuglog("stream"):function(){};var l,h,f=r(285),p=r(198),d=r(199).getHighWaterMark,m=r(52).codes,g=m.ERR_INVALID_ARG_TYPE,v=m.ERR_STREAM_PUSH_AFTER_EOF,y=m.ERR_METHOD_NOT_IMPLEMENTED,w=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,b=r(286).emitExperimentalWarning;r(4)(C,o);var E=["error","close","destroy","pause","resume"];function _(e,t,i){n=n||r(53),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=d(this,e,"readableHighWaterMark",i),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=r(34).StringDecoder),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function C(e){if(n=n||r(53),!(this instanceof C))return new C(e);var t=this instanceof n;this._readableState=new _(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function S(e,t,r,n,i){c("readableAddChunk",t);var o,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?A(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,T(e)))}(e,u);else if(i||(o=function(e,t){var r;n=t,s.isBuffer(n)||n instanceof a||"string"==typeof t||void 0===t||e.objectMode||(r=new g("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(u,t)),o)e.emit("error",o);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),n)u.endEmitted?e.emit("error",new w):k(e,u,t,!0);else if(u.ended)e.emit("error",new v);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||0!==t.length?k(e,u,t,!1):R(e,u)):k(e,u,t,!1)}else n||(u.reading=!1,R(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function k(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&A(e)),R(e,t)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=p.destroy,C.prototype._undestroy=p.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),r=!0),S(this,e,t,!1,r)},C.prototype.unshift=function(e){return S(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(e){return l||(l=r(34).StringDecoder),this._readableState.decoder=new l(e),this._readableState.encoding=this._readableState.decoder.encoding,this};var x=8388608;function D(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=x?e=x:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(T,e))}function T(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||e.emit("readable"),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,N(e)}function R(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(I,e,t))}function I(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(c("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function P(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function O(e){c("readable nexttick read 0"),e.read(0)}function F(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),N(e),t.flowing&&!t.reading&&e.read(0)}function N(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function L(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function B(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(M,t,e))}function M(e,t){c("endReadableNT",e.endEmitted,e.length),e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function U(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}C.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):A(this),null;if(0===(e=D(e,t))&&t.ended)return 0===t.length&&B(this),null;var n,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=D(r,t))),null===(n=e>0?L(e,t):null)?(t.needReadable=!0,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&B(this)),null!==n&&this.emit("data",n),n},C.prototype._read=function(e){this.emit("error",new y("_read()"))},C.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,c("pipe count=%d opts=%j",n.pipesCount,t);var o=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?a:m;function s(t,i){c("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,c("cleanup"),e.removeListener("close",p),e.removeListener("finish",d),e.removeListener("drain",u),e.removeListener("error",f),e.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",m),r.removeListener("data",h),l=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function a(){c("onend"),e.end()}n.endEmitted?process.nextTick(o):r.once("end",o),e.on("unpipe",s);var u=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,N(e))}}(r);e.on("drain",u);var l=!1;function h(t){c("ondata");var i=e.write(t);c("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==U(n.pipes,e))&&!l&&(c("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function f(t){c("onerror",t),m(),e.removeListener("error",f),0===i(e,"error")&&e.emit("error",t)}function p(){e.removeListener("finish",d),m()}function d(){c("onfinish"),e.removeListener("close",p),m()}function m(){c("unpipe"),r.unpipe(e)}return r.on("data",h),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",f),e.once("close",p),e.once("finish",d),e.emit("pipe",r),n.flowing||(c("pipe resume"),r.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=U(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},C.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,c("on readable",n.length,n.reading),n.length?A(this):n.reading||process.nextTick(O,this))),r},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(e,t){var r=o.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(P,this),r},C.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(P,this),t},C.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(F,e,t))}(this,e)),e.paused=!1,this},C.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(c("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<E.length;o++)e.on(E[o],this.emit.bind(this,E[o]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return b("Readable[Symbol.asyncIterator]"),void 0===h&&(h=r(287)),h(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),C._fromList=L,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}})},function(e,t,r){e.exports=r(11)},function(e,t,r){"use strict";function n(e,t){o(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||process.nextTick(o,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(process.nextTick(n,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t?(process.nextTick(i,r),t(e)):process.nextTick(i,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){"use strict";var n=r(52).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},function(e,t,r){"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=C,C.WritableState=_;var o={deprecate:r(82)},s=r(197),a=r(14).Buffer,c=global.Uint8Array||function(){};var u,l=r(198),h=r(199).getHighWaterMark,f=r(52).codes,p=f.ERR_INVALID_ARG_TYPE,d=f.ERR_METHOD_NOT_IMPLEMENTED,m=f.ERR_MULTIPLE_CALLBACK,g=f.ERR_STREAM_CANNOT_PIPE,v=f.ERR_STREAM_DESTROYED,y=f.ERR_STREAM_NULL_VALUES,w=f.ERR_STREAM_WRITE_AFTER_END,b=f.ERR_UNKNOWN_ENCODING;function E(){}function _(e,t,o){i=i||r(53),e=e||{},"boolean"!=typeof o&&(o=t instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(T,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),T(e,t))}(e,r,n,t,i);else{var o=D(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||x(e,r),n?process.nextTick(k,e,r,o,i):k(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function C(e){var t=this instanceof(i=i||r(53));if(!t&&!u.call(C,this))return new C(e);this._writableState=new _(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function S(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function k(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),T(e,t)}function x(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)o[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;o.allBuffers=c,S(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,h=r.callback;if(S(e,t,!1,t.objectMode?1:u.length,u,l,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function D(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function A(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),T(e,t)}))}function T(e,t){var r=D(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(A,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}r(4)(C,s),_.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(_.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===C&&(e&&e._writableState instanceof _)}})):u=function(e){return e instanceof this},C.prototype.pipe=function(){this.emit("error",new g)},C.prototype.write=function(e,t,r){var n,i=this._writableState,o=!1,s=!i.objectMode&&(n=e,a.isBuffer(n)||n instanceof c);return s&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=E),i.ending?function(e,t){var r=new w;e.emit("error",r),process.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var i;return null===r?i=new y:"string"==typeof r||t.objectMode||(i=new p("chunk",["string","Buffer"],r)),!i||(e.emit("error",i),process.nextTick(n,i),!1)}(this,i,e,r))&&(i.pendingcb++,o=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var c=t.objectMode?1:n.length;t.length+=c;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else S(e,t,!1,c,n,i,o);return u}(this,i,s,e,t,r)),o},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||x(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new b(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,r){r(new d("_write()"))},C.prototype._writev=null,C.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,T(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=l.destroy,C.prototype._undestroy=l.undestroy,C.prototype._destroy=function(e,t){t(e)}},function(e,t,r){"use strict";e.exports=l;var n=r(52).codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(53);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,r){f(e,t,r)}))}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}r(4)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t){e.exports=require("constants")},function(e,t,r){var n=r(204),i=function(){},o=function(e,t,r){if("function"==typeof t)return o(e,null,t);t||(t={}),r=n(r||i);var s=e._writableState,a=e._readableState,c=t.readable||!1!==t.readable&&e.readable,u=t.writable||!1!==t.writable&&e.writable,l=function(){e.writable||h()},h=function(){u=!1,c||r.call(e)},f=function(){c=!1,u||r.call(e)},p=function(t){r.call(e,t?new Error("exited with error code: "+t):null)},d=function(t){r.call(e,t)},m=function(){return(!c||a&&a.ended)&&(!u||s&&s.ended)?void 0:r.call(e,new Error("premature close"))},g=function(){e.req.on("finish",h)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?u&&!s&&(e.on("end",l),e.on("close",l)):(e.on("complete",h),e.on("abort",m),e.req?g():e.on("request",g)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",p),e.on("end",f),e.on("finish",h),!1!==t.error&&e.on("error",d),e.on("close",m),function(){e.removeListener("complete",h),e.removeListener("abort",m),e.removeListener("request",g),e.req&&e.req.removeListener("finish",h),e.removeListener("end",l),e.removeListener("close",l),e.removeListener("finish",h),e.removeListener("exit",p),e.removeListener("end",f),e.removeListener("error",d),e.removeListener("close",m)}};e.exports=o},function(e,t,r){var n=r(292);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=n(i),e.exports.strict=n(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},function(e,t,r){"use strict";var n;e.exports=C,C.ReadableState=_;r(6).EventEmitter;var i=function(e,t){return e.listeners(t).length},o=r(206),s=r(14).Buffer,a=global.Uint8Array||function(){};var c,u=r(0);c=u&&u.debuglog?u.debuglog("stream"):function(){};var l,h,f=r(296),p=r(207),d=r(208).getHighWaterMark,m=r(54).codes,g=m.ERR_INVALID_ARG_TYPE,v=m.ERR_STREAM_PUSH_AFTER_EOF,y=m.ERR_METHOD_NOT_IMPLEMENTED,w=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,b=r(297).emitExperimentalWarning;r(4)(C,o);var E=["error","close","destroy","pause","resume"];function _(e,t,i){n=n||r(55),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=d(this,e,"readableHighWaterMark",i),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=r(34).StringDecoder),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function C(e){if(n=n||r(55),!(this instanceof C))return new C(e);var t=this instanceof n;this._readableState=new _(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function S(e,t,r,n,i){c("readableAddChunk",t);var o,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?A(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,T(e)))}(e,u);else if(i||(o=function(e,t){var r;n=t,s.isBuffer(n)||n instanceof a||"string"==typeof t||void 0===t||e.objectMode||(r=new g("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(u,t)),o)e.emit("error",o);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),n)u.endEmitted?e.emit("error",new w):k(e,u,t,!0);else if(u.ended)e.emit("error",new v);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||0!==t.length?k(e,u,t,!1):R(e,u)):k(e,u,t,!1)}else n||(u.reading=!1,R(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function k(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&A(e)),R(e,t)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=p.destroy,C.prototype._undestroy=p.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),r=!0),S(this,e,t,!1,r)},C.prototype.unshift=function(e){return S(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(e){return l||(l=r(34).StringDecoder),this._readableState.decoder=new l(e),this._readableState.encoding=this._readableState.decoder.encoding,this};var x=8388608;function D(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=x?e=x:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(T,e))}function T(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||e.emit("readable"),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,N(e)}function R(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(I,e,t))}function I(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(c("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function P(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function O(e){c("readable nexttick read 0"),e.read(0)}function F(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),N(e),t.flowing&&!t.reading&&e.read(0)}function N(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function L(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function B(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(M,t,e))}function M(e,t){c("endReadableNT",e.endEmitted,e.length),e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function U(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}C.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):A(this),null;if(0===(e=D(e,t))&&t.ended)return 0===t.length&&B(this),null;var n,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=D(r,t))),null===(n=e>0?L(e,t):null)?(t.needReadable=!0,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&B(this)),null!==n&&this.emit("data",n),n},C.prototype._read=function(e){this.emit("error",new y("_read()"))},C.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,c("pipe count=%d opts=%j",n.pipesCount,t);var o=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?a:m;function s(t,i){c("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,c("cleanup"),e.removeListener("close",p),e.removeListener("finish",d),e.removeListener("drain",u),e.removeListener("error",f),e.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",m),r.removeListener("data",h),l=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function a(){c("onend"),e.end()}n.endEmitted?process.nextTick(o):r.once("end",o),e.on("unpipe",s);var u=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,N(e))}}(r);e.on("drain",u);var l=!1;function h(t){c("ondata");var i=e.write(t);c("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==U(n.pipes,e))&&!l&&(c("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function f(t){c("onerror",t),m(),e.removeListener("error",f),0===i(e,"error")&&e.emit("error",t)}function p(){e.removeListener("finish",d),m()}function d(){c("onfinish"),e.removeListener("close",p),m()}function m(){c("unpipe"),r.unpipe(e)}return r.on("data",h),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",f),e.once("close",p),e.once("finish",d),e.emit("pipe",r),n.flowing||(c("pipe resume"),r.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=U(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},C.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,c("on readable",n.length,n.reading),n.length?A(this):n.reading||process.nextTick(O,this))),r},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(e,t){var r=o.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(P,this),r},C.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(P,this),t},C.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(F,e,t))}(this,e)),e.paused=!1,this},C.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(c("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<E.length;o++)e.on(E[o],this.emit.bind(this,E[o]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return b("Readable[Symbol.asyncIterator]"),void 0===h&&(h=r(298)),h(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),C._fromList=L,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}})},function(e,t,r){e.exports=r(11)},function(e,t,r){"use strict";function n(e,t){o(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||process.nextTick(o,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(process.nextTick(n,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t?(process.nextTick(i,r),t(e)):process.nextTick(i,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){"use strict";var n=r(54).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},function(e,t,r){"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=C,C.WritableState=_;var o={deprecate:r(82)},s=r(206),a=r(14).Buffer,c=global.Uint8Array||function(){};var u,l=r(207),h=r(208).getHighWaterMark,f=r(54).codes,p=f.ERR_INVALID_ARG_TYPE,d=f.ERR_METHOD_NOT_IMPLEMENTED,m=f.ERR_MULTIPLE_CALLBACK,g=f.ERR_STREAM_CANNOT_PIPE,v=f.ERR_STREAM_DESTROYED,y=f.ERR_STREAM_NULL_VALUES,w=f.ERR_STREAM_WRITE_AFTER_END,b=f.ERR_UNKNOWN_ENCODING;function E(){}function _(e,t,o){i=i||r(55),e=e||{},"boolean"!=typeof o&&(o=t instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(T,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),T(e,t))}(e,r,n,t,i);else{var o=D(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||x(e,r),n?process.nextTick(k,e,r,o,i):k(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function C(e){var t=this instanceof(i=i||r(55));if(!t&&!u.call(C,this))return new C(e);this._writableState=new _(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function S(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function k(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),T(e,t)}function x(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)o[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;o.allBuffers=c,S(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,h=r.callback;if(S(e,t,!1,t.objectMode?1:u.length,u,l,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function D(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function A(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),T(e,t)}))}function T(e,t){var r=D(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(A,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}r(4)(C,s),_.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(_.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===C&&(e&&e._writableState instanceof _)}})):u=function(e){return e instanceof this},C.prototype.pipe=function(){this.emit("error",new g)},C.prototype.write=function(e,t,r){var n,i=this._writableState,o=!1,s=!i.objectMode&&(n=e,a.isBuffer(n)||n instanceof c);return s&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=E),i.ending?function(e,t){var r=new w;e.emit("error",r),process.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var i;return null===r?i=new y:"string"==typeof r||t.objectMode||(i=new p("chunk",["string","Buffer"],r)),!i||(e.emit("error",i),process.nextTick(n,i),!1)}(this,i,e,r))&&(i.pendingcb++,o=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var c=t.objectMode?1:n.length;t.length+=c;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else S(e,t,!1,c,n,i,o);return u}(this,i,s,e,t,r)),o},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||x(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new b(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,r){r(new d("_write()"))},C.prototype._writev=null,C.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,T(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=l.destroy,C.prototype._undestroy=l.undestroy,C.prototype._destroy=function(e,t){t(e)}},function(e,t,r){"use strict";e.exports=l;var n=r(54).codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(55);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,r){f(e,t,r)}))}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}r(4)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t,r){var n=r(17),i=function(e,t){this.modem=e,this.id=t};i.prototype[r(0).inspect.custom]=function(){return this},i.prototype.start=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/exec/"+this.id+"/start",method:"POST",isStream:!0,allowEmpty:!0,hijack:i.opts.hijack,openStdin:i.opts.stdin,statusCodes:{200:!0,204:!0,404:"no such exec",409:"container stopped/paused",500:"container not running"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){if(e)return i.callback(e,t);i.callback(e,t)}))},i.prototype.resize=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/exec/"+this.id+"/resize?",method:"POST",statusCodes:{200:!0,404:"no such exec",500:"container not running"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){if(e)return i.callback(e,t);i.callback(e,t)}))},i.prototype.inspect=function(e){var t=this,r={path:"/exec/"+this.id+"/json",method:"GET",statusCodes:{200:!0,404:"no such exec",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){if(t)return e(t,r);e(t,r)}))},e.exports=i},function(e,t,r){"use strict";e.exports=function(e){function t(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){var r;function s(){if(s.enabled){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=s,a=Number(new Date),c=a-(r||a);o.diff=c,o.prev=r,o.curr=a,r=a,t[0]=n.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var u=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return e;u++;var i=n.formatters[r];if("function"==typeof i){var s=t[u];e=i.call(o,s),t.splice(u,1),u--}return e})),n.formatArgs.call(o,t),(o.log||n.log).apply(o,t)}}return s.namespace=e,s.enabled=n.enabled(e),s.useColors=n.useColors(),s.color=t(e),s.destroy=i,s.extend=o,"function"==typeof n.init&&n.init(s),n.instances.push(s),s}function i(){var e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function o(e,t){return n(this.namespace+(void 0===t?":":t)+e)}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){n.enable("")},n.enable=function(e){var t;n.save(e),n.names=[],n.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(t=0;t<i;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){var o=n.instances[t];o.enabled=n.enabled(o.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=r(185),Object.keys(e).forEach((function(t){n[t]=e[t]})),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},function(e,t,r){"use strict";var n=r(319);e.exports=n},function(e,t,r){"use strict";var n=r(58);e.exports=new n({include:[r(215)]})},function(e,t,r){"use strict";var n=r(58);e.exports=new n({include:[r(154)],implicit:[r(325),r(326),r(327),r(328)]})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=r(217),o=r(218),s=Object.keys(process.binding("natives")),a=o.prototype.require;t.makePatchingRequire=function(e){var t={};return function(r){var c=a.apply(this,arguments);if(e[r]){var u=o._resolveFilename(r,this);if(t.hasOwnProperty(u))return t[u];var l=void 0;if(s.indexOf(r)<0)try{l=a.call(this,n.join(r,"package.json")).version}catch(e){return c}else l=process.version.substring(1);var h=l.indexOf("-");h>=0&&(l=l.substring(0,h));for(var f=c,p=0,d=e[r];p<d.length;p++){var m=d[p];i.satisfies(l,m.versionSpecifier)&&(f=m.patch(f,u))}return t[u]=f}return c}}},function(e,t){var r;t=e.exports=V,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=t.re=[],s=t.src=[],a=0,c=a++;s[c]="0|[1-9]\\d*";var u=a++;s[u]="[0-9]+";var l=a++;s[l]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var h=a++;s[h]="("+s[c]+")\\.("+s[c]+")\\.("+s[c]+")";var f=a++;s[f]="("+s[u]+")\\.("+s[u]+")\\.("+s[u]+")";var p=a++;s[p]="(?:"+s[c]+"|"+s[l]+")";var d=a++;s[d]="(?:"+s[u]+"|"+s[l]+")";var m=a++;s[m]="(?:-("+s[p]+"(?:\\."+s[p]+")*))";var g=a++;s[g]="(?:-?("+s[d]+"(?:\\."+s[d]+")*))";var v=a++;s[v]="[0-9A-Za-z-]+";var y=a++;s[y]="(?:\\+("+s[v]+"(?:\\."+s[v]+")*))";var w=a++,b="v?"+s[h]+s[m]+"?"+s[y]+"?";s[w]="^"+b+"$";var E="[v=\\s]*"+s[f]+s[g]+"?"+s[y]+"?",_=a++;s[_]="^"+E+"$";var C=a++;s[C]="((?:<|>)?=?)";var S=a++;s[S]=s[u]+"|x|X|\\*";var k=a++;s[k]=s[c]+"|x|X|\\*";var x=a++;s[x]="[v=\\s]*("+s[k]+")(?:\\.("+s[k]+")(?:\\.("+s[k]+")(?:"+s[m]+")?"+s[y]+"?)?)?";var D=a++;s[D]="[v=\\s]*("+s[S]+")(?:\\.("+s[S]+")(?:\\.("+s[S]+")(?:"+s[g]+")?"+s[y]+"?)?)?";var A=a++;s[A]="^"+s[C]+"\\s*"+s[x]+"$";var T=a++;s[T]="^"+s[C]+"\\s*"+s[D]+"$";var R=a++;s[R]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var I=a++;s[I]="(?:~>?)";var P=a++;s[P]="(\\s*)"+s[I]+"\\s+",o[P]=new RegExp(s[P],"g");var O=a++;s[O]="^"+s[I]+s[x]+"$";var F=a++;s[F]="^"+s[I]+s[D]+"$";var N=a++;s[N]="(?:\\^)";var L=a++;s[L]="(\\s*)"+s[N]+"\\s+",o[L]=new RegExp(s[L],"g");var B=a++;s[B]="^"+s[N]+s[x]+"$";var M=a++;s[M]="^"+s[N]+s[D]+"$";var U=a++;s[U]="^"+s[C]+"\\s*("+E+")$|^$";var j=a++;s[j]="^"+s[C]+"\\s*("+b+")$|^$";var H=a++;s[H]="(\\s*)"+s[C]+"\\s*("+E+"|"+s[x]+")",o[H]=new RegExp(s[H],"g");var q=a++;s[q]="^\\s*("+s[x]+")\\s+-\\s+("+s[x]+")\\s*$";var $=a++;s[$]="^\\s*("+s[D]+")\\s+-\\s+("+s[D]+")\\s*$";var G=a++;s[G]="(<|>)?=?\\s*\\*";for(var W=0;W<35;W++)r(W,s[W]),o[W]||(o[W]=new RegExp(s[W]));function z(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof V)return e;if("string"!=typeof e)return null;if(e.length>n)return null;if(!(t.loose?o[_]:o[w]).test(e))return null;try{return new V(e,t)}catch(e){return null}}function V(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof V){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof V))return new V(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var s=e.trim().match(t.loose?o[_]:o[w]);if(!s)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}t.parse=z,t.valid=function(e,t){var r=z(e,t);return r?r.version:null},t.clean=function(e,t){var r=z(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=V,V.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},V.prototype.toString=function(){return this.version},V.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof V||(e=new V(e,this.options)),this.compareMain(e)||this.comparePre(e)},V.prototype.compareMain=function(e){return e instanceof V||(e=new V(e,this.options)),X(this.major,e.major)||X(this.minor,e.minor)||X(this.patch,e.patch)},V.prototype.comparePre=function(e){if(e instanceof V||(e=new V(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return X(n,i)}while(++t)},V.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new V(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(Z(e,t))return null;var r=z(e),n=z(t),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var o="prerelease"}for(var s in r)if(("major"===s||"minor"===s||"patch"===s)&&r[s]!==n[s])return i+s;return o},t.compareIdentifiers=X;var K=/^[0-9]+$/;function X(e,t){var r=K.test(e),n=K.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function Y(e,t,r){return new V(e,r).compare(new V(t,r))}function J(e,t,r){return Y(e,t,r)>0}function Q(e,t,r){return Y(e,t,r)<0}function Z(e,t,r){return 0===Y(e,t,r)}function ee(e,t,r){return 0!==Y(e,t,r)}function te(e,t,r){return Y(e,t,r)>=0}function re(e,t,r){return Y(e,t,r)<=0}function ne(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return Z(e,r,n);case"!=":return ee(e,r,n);case">":return J(e,r,n);case">=":return te(e,r,n);case"<":return Q(e,r,n);case"<=":return re(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function ie(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ie){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ie))return new ie(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===oe?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return X(t,e)},t.major=function(e,t){return new V(e,t).major},t.minor=function(e,t){return new V(e,t).minor},t.patch=function(e,t){return new V(e,t).patch},t.compare=Y,t.compareLoose=function(e,t){return Y(e,t,!0)},t.rcompare=function(e,t,r){return Y(t,e,r)},t.sort=function(e,r){return e.sort((function(e,n){return t.compare(e,n,r)}))},t.rsort=function(e,r){return e.sort((function(e,n){return t.rcompare(e,n,r)}))},t.gt=J,t.lt=Q,t.eq=Z,t.neq=ee,t.gte=te,t.lte=re,t.cmp=ne,t.Comparator=ie;var oe={};function se(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof se)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new se(e.raw,t);if(e instanceof ie)return new se(e.value,t);if(!(this instanceof se))return new se(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function ae(e){return!e||"x"===e.toLowerCase()||"*"===e}function ce(e,t,r,n,i,o,s,a,c,u,l,h,f){return((t=ae(r)?"":ae(n)?">="+r+".0.0":ae(i)?">="+r+"."+n+".0":">="+t)+" "+(a=ae(c)?"":ae(u)?"<"+(+c+1)+".0.0":ae(l)?"<"+c+"."+(+u+1)+".0":h?"<="+c+"."+u+"."+l+"-"+h:"<="+a)).trim()}function ue(e,t,n){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(i=0;i<e.length;i++)if(r(e[i].semver),e[i].semver!==oe&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function le(e,t,r){try{t=new se(t,r)}catch(e){return!1}return t.test(e)}function he(e,t,r,n){var i,o,s,a,c;switch(e=new V(e,n),t=new se(t,n),r){case">":i=J,o=re,s=Q,a=">",c=">=";break;case"<":i=Q,o=te,s=J,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(le(e,t,n))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],h=null,f=null;if(l.forEach((function(e){e.semver===oe&&(e=new ie(">=0.0.0")),h=h||e,f=f||e,i(e.semver,h.semver,n)?h=e:s(e.semver,f.semver,n)&&(f=e)})),h.operator===a||h.operator===c)return!1;if((!f.operator||f.operator===a)&&o(e,f.semver))return!1;if(f.operator===c&&s(e,f.semver))return!1}return!0}ie.prototype.parse=function(e){var t=this.options.loose?o[U]:o[j],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new V(r[2],this.options.loose):this.semver=oe},ie.prototype.toString=function(){return this.value},ie.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===oe||("string"==typeof e&&(e=new V(e,this.options)),ne(e,this.operator,this.semver,this.options))},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new se(e.value,t),le(this.value,r,t);if(""===e.operator)return r=new se(this.value,t),le(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=ne(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=ne(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||i||o&&s||a||c},t.Range=se,se.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},se.prototype.toString=function(){return this.range},se.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?o[$]:o[q];e=e.replace(n,ce),r("hyphen replace",e),e=e.replace(o[H],"$1$2$3"),r("comparator trim",e,o[H]),e=(e=(e=e.replace(o[P],"$1~")).replace(o[L],"$1^")).split(/\s+/).join(" ");var i=t?o[U]:o[j],s=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?o[M]:o[B];return e.replace(n,(function(t,n,i,o,s){var a;return r("caret",e,t,n,i,o,s),ae(n)?a="":ae(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":ae(o)?a="0"===n?">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":">="+n+"."+i+".0 <"+(+n+1)+".0.0":s?(r("replaceCaret pr",s),a="0"===n?"0"===i?">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+"-"+s+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===i?">="+n+"."+i+"."+o+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+" <"+(+n+1)+".0.0"),r("caret return",a),a}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?o[F]:o[O];return e.replace(n,(function(t,n,i,o,s){var a;return r("tilde",e,t,n,i,o,s),ae(n)?a="":ae(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":ae(o)?a=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":s?(r("replaceTilde pr",s),a=">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+(+i+1)+".0"):a=">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0",r("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?o[T]:o[A];return e.replace(n,(function(t,n,i,o,s,a){r("xRange",e,t,n,i,o,s,a);var c=ae(i),u=c||ae(o),l=u||ae(s);return"="===n&&l&&(n=""),c?t=">"===n||"<"===n?"<0.0.0":"*":n&&l?(u&&(o=0),s=0,">"===n?(n=">=",u?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===n&&(n="<",u?i=+i+1:o=+o+1),t=n+i+"."+o+"."+s):u?t=">="+i+".0.0 <"+(+i+1)+".0.0":l&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(o[G],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(i)}))),s=s.map((function(e){return new ie(e,this.options)}),this)},se.prototype.intersects=function(e,t){if(!(e instanceof se))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new se(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},se.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new V(e,this.options));for(var t=0;t<this.set.length;t++)if(ue(this.set[t],e,this.options))return!0;return!1},t.satisfies=le,t.maxSatisfying=function(e,t,r){var n=null,i=null;try{var o=new se(t,r)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(n&&-1!==i.compare(e)||(i=new V(n=e,r)))})),n},t.minSatisfying=function(e,t,r){var n=null,i=null;try{var o=new se(t,r)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(n&&1!==i.compare(e)||(i=new V(n=e,r)))})),n},t.minVersion=function(e,t){e=new se(e,t);var r=new V("0.0.0");if(e.test(r))return r;if(r=new V("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;n<e.set.length;++n){e.set[n].forEach((function(e){var t=new V(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!J(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}if(r&&e.test(r))return r;return null},t.validRange=function(e,t){try{return new se(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return he(e,t,"<",r)},t.gtr=function(e,t,r){return he(e,t,">",r)},t.outside=he,t.prerelease=function(e,t){var r=z(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new se(e,r),t=new se(t,r),e.intersects(t)},t.coerce=function(e){if(e instanceof V)return e;if("string"!=typeof e)return null;var t=e.match(o[R]);if(null==t)return null;return z(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}},function(e,t){e.exports=require("module")},function(e,t){e.exports=require("timers")},function(e){e.exports=JSON.parse('{"name":"async-hook-jl","description":"Inspect the life of handle objects in node","version":"1.7.6","author":"Andreas Madsen <amwebdk@gmail.com>","main":"./index.js","scripts":{"test":"node ./test/runner.js && eslint ."},"repository":{"type":"git","url":"git://github.com/jeff-lewis/async-hook-jl.git"},"keywords":["async","async hooks","inspect","async wrap"],"license":"MIT","dependencies":{"stack-chain":"^1.3.7"},"devDependencies":{"async":"1.5.x","cli-color":"1.1.x","eslint":"^3.4.0","endpoint":"0.4.x"},"engines":{"node":"^4.7 || >=6.9 || >=7.3"}}')},function(e,t,r){if(global._stackChain){if(global._stackChain.version!==r(222).version)throw new Error("Conflicting version of stack-chain found");e.exports=global._stackChain}else e.exports=global._stackChain=r(367)},function(e){e.exports=JSON.parse('{"name":"stack-chain","description":"API for combining call site modifiers","version":"1.3.7","author":"Andreas Madsen <amwebdk@gmail.com>","scripts":{"test":"tap ./test/simple"},"repository":{"type":"git","url":"git://github.com/AndreasMadsen/stack-chain.git"},"keywords":["stack","chain","trace","call site","concat","format"],"devDependencies":{"tap":"2.x.x","uglify-js":"2.5.x"},"license":"MIT"}')},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvailabilityData=r(376),t.Base=r(224),t.ContextTagKeys=r(377),t.Data=r(378),t.DataPoint=r(379),t.DataPointType=r(225),t.Domain=r(36),t.Envelope=r(380),t.EventData=r(226),t.ExceptionData=r(381),t.ExceptionDetails=r(382),t.MessageData=r(383),t.MetricData=r(384),t.PageViewData=r(385),t.RemoteDependencyData=r(386),t.RequestData=r(387),t.SeverityLevel=r(388),t.StackFrame=r(389)},function(e,t,r){"use strict";var n=function(){};e.exports=n},function(e,t,r){"use strict";var n;!function(e){e[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"}(n||(n={})),e.exports=n},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(r(36));e.exports=o},function(e,t,r){"use strict";var n=function(){function e(){}return e.prototype.getUrl=function(){return this.url},e.prototype.RequestParser=function(){this.startTime=+new Date},e.prototype._setStatus=function(e,t){var r=+new Date;this.duration=r-this.startTime,this.statusCode=e;var n=this.properties||{};if(t)if("string"==typeof t)n.error=t;else if(t instanceof Error)n.error=t.message;else if("object"==typeof t)for(var i in t)n[i]=t[i]&&t[i].toString&&t[i].toString();this.properties=n},e.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},e}();e.exports=n},function(e,t,r){"use strict";var n=r(25),i=r(61),o=function(){function e(t,r){if(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.version=e.DEFAULT_VERSION,t&&"string"==typeof t)if(t.split(",").length>1)this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16);else{var o=t.trim().split("-"),s=o.length;s>=4?(this.version=o[0],this.traceId=o[1],this.spanId=o[2],this.traceFlag=o[3]):(this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=e.DEFAULT_VERSION,this.traceId=n.w3cTraceId()),"00"===this.version&&4!==s&&(this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)),"ff"===this.version&&(this.version=e.DEFAULT_VERSION,this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=e.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=e.DEFAULT_VERSION,this.traceId=n.w3cTraceId()),e.isValidTraceId(this.traceId)||(this.traceId=n.w3cTraceId()),e.isValidSpanId(this.spanId)||(this.spanId=n.w3cTraceId().substr(0,16),this.traceId=n.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(r){this.parentId=r.slice();var a=i.getRootId(r);e.isValidTraceId(a)||(this.legacyRootId=a,a=n.w3cTraceId()),-1!==r.indexOf("|")&&(r=r.substring(1+r.substring(0,r.length-1).lastIndexOf("."),r.length-1)),this.traceId=a,this.spanId=r}else this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},e.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},e.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},e.prototype.updateSpanId=function(){this.spanId=n.w3cTraceId().substr(0,16)},e.DEFAULT_TRACE_FLAG="00",e.DEFAULT_VERSION="00",e}();e.exports=o},function(e,t,r){"use strict";var n=r(10),i=r(37),o=r(13),s=r(25),a=r(80),c=r(400),u=r(79),l=r(162),h=function(){function e(t){if(e.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,(this._isAutoCorrelating||this._isEnabled||l.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},e.prototype.useAutoCorrelation=function(e,t){e&&!this._isAutoCorrelating?u.CorrelationContextManager.enable(t):!e&&this._isAutoCorrelating&&u.CorrelationContextManager.disable(),this._isAutoCorrelating=e},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},e.prototype._generateCorrelationContext=function(e){if(this._isAutoCorrelating)return u.CorrelationContextManager.generateContextObject(e.getOperationId(this._client.context.tags),e.getRequestId(),e.getOperationName(this._client.context.tags),e.getCorrelationContextHeader(),e.getTraceparent(),e.getTracestate())},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var r=function(r){if(r){if("function"!=typeof r)throw new Error("onRequest handler must be a function");return function(n,i){u.CorrelationContextManager.wrapEmitter(n),u.CorrelationContextManager.wrapEmitter(i);var o=n&&!n[e.alreadyAutoCollectedFlag];if(n&&o){var s=new c(n),a=t._generateCorrelationContext(s);u.CorrelationContextManager.runWithContext(a,(function(){t._isEnabled&&(n[e.alreadyAutoCollectedFlag]=!0,e.trackRequest(t._client,{request:n,response:i},s)),l.countRequest(n,i),"function"==typeof r&&r(n,i)}))}else"function"==typeof r&&r(n,i)}}},o=function(e){var t=e.addListener.bind(e);e.addListener=function(e,n){switch(e){case"request":case"checkContinue":return t(e,r(n));default:return t(e,n)}},e.on=e.addListener},s=n.createServer;n.createServer=function(e){var t=s(r(e));return o(t),t};var a=i.createServer;i.createServer=function(e,t){var n=a(e,r(t));return o(n),n}},e.trackRequestSync=function(t,r){if(r.request&&r.response&&t){e.addResponseCorrelationIdHeader(t,r.response);var n=u.CorrelationContextManager.getCurrentContext(),i=new c(r.request,n&&n.operation.parentId);n&&(n.operation.id=i.getOperationId(t.context.tags)||n.operation.id,n.operation.name=i.getOperationName(t.context.tags)||n.operation.name,n.operation.parentId=i.getRequestId()||n.operation.parentId,n.customProperties.addHeaderData(i.getCorrelationContextHeader())),e.endRequest(t,i,r,r.duration,r.error)}else o.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!r.request,!r.response,!t)},e.trackRequest=function(t,r,n){if(r.request&&r.response&&t){var i=u.CorrelationContextManager.getCurrentContext(),a=n||new c(r.request,i&&i.operation.parentId);s.canIncludeCorrelationHeader(t,a.getUrl())&&e.addResponseCorrelationIdHeader(t,r.response),i&&!n&&(i.operation.id=a.getOperationId(t.context.tags)||i.operation.id,i.operation.name=a.getOperationName(t.context.tags)||i.operation.name,i.operation.parentId=a.getOperationParentId(t.context.tags)||i.operation.parentId,i.customProperties.addHeaderData(a.getCorrelationContextHeader())),r.response.once&&r.response.once("finish",(function(){e.endRequest(t,a,r,null,null)})),r.request.on&&r.request.on("error",(function(n){e.endRequest(t,a,r,null,n)}))}else o.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!r.request,!r.response,!t)},e.addResponseCorrelationIdHeader=function(e,t){if(e.config&&e.config.correlationId&&t.getHeader&&t.setHeader&&!t.headersSent){var r=t.getHeader(a.requestContextHeader);s.safeIncludeCorrelationHeader(e,t,r)}},e.endRequest=function(e,t,r,n,i){i?t.onError(i,n):t.onResponse(r.response,n);var o=t.getRequestTelemetry(r);if(o.tagOverrides=t.getRequestTags(e.context.tags),r.tagOverrides)for(var s in r.tagOverrides)o.tagOverrides[s]=r.tagOverrides[s];var a=t.getLegacyRootId();a&&(o.properties.ai_legacyRootId=a),o.contextObjects=o.contextObjects||{},o.contextObjects["http.ServerRequest"]=r.request,o.contextObjects["http.ServerResponse"]=r.response,e.trackRequest(o)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1,u.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();e.exports=h},function(e,t,r){"use strict";e.exports=r(418)},function(e,t,r){"use strict";e.exports.encode=r(419),e.exports.decode=r(420),e.exports.format=r(421),e.exports.parse=r(422)},function(e,t){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},function(e,t){e.exports=/[\0-\x1F\x7F-\x9F]/},function(e,t){e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},function(e,t,r){"use strict";var n="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",i="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",o=new RegExp("^(?:"+n+"|"+i+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),s=new RegExp("^(?:"+n+"|"+i+")");e.exports.HTML_TAG_RE=o,e.exports.HTML_OPEN_CLOSE_TAG_RE=s},function(e,t,r){"use strict";function n(e,t){var r,n,i,o,s,a=[],c=t.length;for(r=0;r<c;r++)126===(i=t[r]).marker&&-1!==i.end&&(o=t[i.end],(s=e.tokens[i.token]).type="s_open",s.tag="s",s.nesting=1,s.markup="~~",s.content="",(s=e.tokens[o.token]).type="s_close",s.tag="s",s.nesting=-1,s.markup="~~",s.content="","text"===e.tokens[o.token-1].type&&"~"===e.tokens[o.token-1].content&&a.push(o.token-1));for(;a.length;){for(n=(r=a.pop())+1;n<e.tokens.length&&"s_close"===e.tokens[n].type;)n++;r!==--n&&(s=e.tokens[n],e.tokens[n]=e.tokens[r],e.tokens[r]=s)}}e.exports.tokenize=function(e,t){var r,n,i,o,s=e.pos,a=e.src.charCodeAt(s);if(t)return!1;if(126!==a)return!1;if(i=(n=e.scanDelims(e.pos,!0)).length,o=String.fromCharCode(a),i<2)return!1;for(i%2&&(e.push("text","",0).content=o,i--),r=0;r<i;r+=2)e.push("text","",0).content=o+o,e.delimiters.push({marker:a,length:0,jump:r,token:e.tokens.length-1,end:-1,open:n.can_open,close:n.can_close});return e.pos+=n.length,!0},e.exports.postProcess=function(e){var t,r=e.tokens_meta,i=e.tokens_meta.length;for(n(e,e.delimiters),t=0;t<i;t++)r[t]&&r[t].delimiters&&n(e,r[t].delimiters)}},function(e,t,r){"use strict";function n(e,t){var r,n,i,o,s,a;for(r=t.length-1;r>=0;r--)95!==(n=t[r]).marker&&42!==n.marker||-1!==n.end&&(i=t[n.end],a=r>0&&t[r-1].end===n.end+1&&t[r-1].token===n.token-1&&t[n.end+1].token===i.token+1&&t[r-1].marker===n.marker,s=String.fromCharCode(n.marker),(o=e.tokens[n.token]).type=a?"strong_open":"em_open",o.tag=a?"strong":"em",o.nesting=1,o.markup=a?s+s:s,o.content="",(o=e.tokens[i.token]).type=a?"strong_close":"em_close",o.tag=a?"strong":"em",o.nesting=-1,o.markup=a?s+s:s,o.content="",a&&(e.tokens[t[r-1].token].content="",e.tokens[t[n.end+1].token].content="",r--))}e.exports.tokenize=function(e,t){var r,n,i=e.pos,o=e.src.charCodeAt(i);if(t)return!1;if(95!==o&&42!==o)return!1;for(n=e.scanDelims(e.pos,42===o),r=0;r<n.length;r++)e.push("text","",0).content=String.fromCharCode(o),e.delimiters.push({marker:o,length:n.length,jump:r,token:e.tokens.length-1,end:-1,open:n.can_open,close:n.can_close});return e.pos+=n.length,!0},e.exports.postProcess=function(e){var t,r=e.tokens_meta,i=e.tokens_meta.length;for(n(e,e.delimiters),t=0;t<i;t++)r[t]&&r[t].delimiters&&n(e,r[t].delimiters)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(18),i=r(5),o=r(8);async function s(e,t){let r;try{r=(await o.exec("docker version --format '{{.Server.Version}}'",{env:e.env})).stdout}catch(e){console.error(e);const r=e.stderr?e.stderr.toLowerCase():"";return a(t,"error",void 0,r),-1!==r.indexOf("permission denied")?"permission":-1!==r.indexOf("command not found")||-1!==r.indexOf("not recognized as an internal or external command")?"command":"daemon"}const n=r.trim(),s=i.parseVersion(n);if(!s)return a(t,"unparsed",n),!0;const c=!i.isEarlierVersion(s,[17,5,0]);return a(t,c?"success":"failure",n),c}function a(e,t,r,n){const i={outcome:t};r&&(i.version=r),n&&(i.errorMessage=n),e.sendTelemetryEvent("dockerVersion",i)}t.checkDockerVersion=async function(e,t){const r=await s(e,t);if("permission"===r){return await n.window.showErrorMessage("Current user does not have permission to run 'docker'. Try adding the user to the 'docker' group.",{modal:!0},"Documentation")&&n.env.openExternal(n.Uri.parse("https://go.microsoft.com/fwlink/?linkid=2079224")),!1}if("daemon"===r)return await n.window.showErrorMessage("Docker returned an error. Make sure the Docker daemon is running.",{modal:!0}),!1;if(!r||"command"===r){return await n.window.showErrorMessage("Docker version 17.06.1 or later required",{modal:!0},"Go to docker.com")&&n.env.openExternal(n.Uri.parse("https://www.docker.com")),!1}return!0},t.hasDockerVersion=s,t.checkDockerCompose=async function(e){try{return await o.exec("docker-compose --version",{env:e.env}),!0}catch(e){return await n.window.showErrorMessage("Docker Compose required",{modal:!0},"Documentation")&&n.env.openExternal(n.Uri.parse("https://go.microsoft.com/fwlink/?linkid=2079610")),!1}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(18),i=r(5),o=r(16),s=r(158),a=r(60),c=r(78),u=r(41),l=r(156);function h(e){const t=(e.originalError&&(e.originalError.cmdOutput||e.originalError.message)||"").toLowerCase();t&&-1!==t.indexOf("drive has not been shared")?e.description="The drive of the workspace folder is not shared. Share it in the Docker settings first.":!t||-1===t.indexOf("port is already allocated")&&-1===t.indexOf("address already in use")?t&&-1!==t.indexOf("deb.debian.org/debian/dists/jessie-updates")&&(e.description="The base image references the obsolete Debian 8 update repository.",e.actions.push({title:"Learn More",isLastAction:!1,applicable:(e,t)=>t,async execute(){n.env.openExternal(n.Uri.parse("https://aka.ms/vscode-remote/containers/troubleshooting/jessie"))}})):e.description="A port the container is setup to bind to is already in use. See the Dev Containers terminal for details."}t.resolve=async function(e,t,r,f,p){const d=i.getParseDevContainerAuthority(r);return i.isDevContainerAuthority(d)?async function(e,t,r,l,f,p){const d=r.log,m=e.settings;let g;return n.window.withProgress({location:n.ProgressLocation.Notification,title:`Installing Dev Container ([details](command:${c.revealLogTerminalId} "Show details in terminal"))`,cancellable:!1},async r=>{const n=u.workspaceFromPath(e.hostPath);d.write(`Setting up container for folder or workspace: ${n.workspaceOrFolderPath}\n\r`);const s=await a.findDevContainerConfigPath(n);if(!(g=s&&await a.readDevContainerConfigFile({localWorkspaceFolder:n.rootFolderPath,configFile:s,env:process.env})||void 0))throw new o.ContainerError({description:`Dev container config (${s||a.getDefaultDevContainerConfigPath(n)}) not found.`});const h=i.newDockerEnv(m),v=await c.createResolverParameters({authority:f,extensionContext:t,progress:r,env:h,cwd:n.rootFolderPath,telemetry:l,output:d}),y={common:v,connection:{settings:m,docker:await i.newDocker(m),env:h},configurationTracking:c.createConfigurationTracking(t.workspaceState),workspaceMountConsistency:c.getWorkspaceMountConsistency(),removeOnStartup:await c.toRemoveOnStartup(t,f),onRemoveOnShutdownChanged:p};await i.ensureDockerRunning(y);const w=m&&m.host?` @ ${m.host}`:"",b=g.name?`Dev Container: ${g.name}${w}`:`Dev Container${w}`;return v.setWorkspaceName(b),a.resolve(y,n,g)}).then(e=>(p.on("changed",async r=>{await c.removeOnStartupByContainerId(t,r&&e.dockerContainerId||!1)}),c.telemetryResolverEvent(l,"config","success",g,e.properties),e),i=>{const a=i instanceof o.ContainerError?i:new o.ContainerError({description:"An error occurred setting up the container.",originalError:i});return c.telemetryResolverEvent(l,"config","failure",g,a.containerProperties,a),a.actions=[...s.genericActions,s.reload,s.rebuild,{title:"Open Folder Locally",isLastAction:!0,applicable:()=>!0,async execute(){await c.writeOpenLogFileOnStartup(t,e.hostPath,d.logFilePath);const r=n.Uri.file(e.hostPath);await n.commands.executeCommand("vscode.openFolder",r)}},s.openRecent,s.documentation],h(a),s.handleError(a,!0,r)})}(d,e,p,t,r,f):async function(e,t,r,a,u,f){const p=r.log,d=e.settings,m=e.repositoryPath;return n.window.withProgress({location:n.ProgressLocation.Notification,title:`Installing Dev Container ([details](command:${c.revealLogTerminalId} "Show details in terminal"))`,cancellable:!1},async r=>{const n=i.newDockerEnv(d),o={common:await c.createResolverParameters({authority:u,extensionContext:t,progress:r,env:n,cwd:process.cwd(),telemetry:a,output:p}),connection:{settings:d,docker:await i.newDocker(d),env:n},configurationTracking:c.createConfigurationTracking(t.workspaceState),removeOnStartup:await c.toRemoveOnStartup(t,u),onRemoveOnShutdownChanged:f};return await i.ensureDockerRunning(o),l.openDockerfileRepoDevContainer(o,e)}).then(e=>(f.on("changed",async r=>{await c.removeOnStartupByContainerId(t,r&&e.dockerContainerId||!1)}),c.telemetryResolverEvent(a,"repository","success",e.config,e.properties),e),e=>{const t=e instanceof o.ContainerError?e:new o.ContainerError({description:"An error occurred setting up the container.",originalError:e});return c.telemetryResolverEvent(a,"repository","failure",t.config,t.containerProperties,t),t.actions=[...s.genericActions,s.reload,s.rebuild,s.closeRemote,{title:"Open Repository",isLastAction:!1,applicable:(e,t)=>!t,async execute(){n.env.openExternal(n.Uri.parse(m))}},s.openRecent,s.documentation],h(t),s.handleError(t,!0,r)})}(d,e,p,t,r,f)}},function(e,t,r){var n=r(6).EventEmitter,i=r(241),o=r(274),s=r(81),a=(r(3),r(294),r(1),r(303)),c=r(304),u=r(305),l=r(306),h=r(307),f=r(308),p=r(309),d=r(310),m=r(311),g=r(312),v=r(211),y=r(17),w=y.extend,b=function(e){if(!(this instanceof b))return new b(e);var t=global.Promise;e&&e.Promise&&(t=e.Promise,1===Object.keys(e).length&&(e=void 0)),this.modem=new i(e),this.modem.Promise=t};b.prototype.createContainer=function(e,t){var r=this,n={path:"/containers/create?",method:"POST",options:e,authconfig:e.authconfig,statusCodes:{200:!0,201:!0,404:"no such container",406:"impossible to attach",500:"server error"}};if(delete e.authconfig,void 0===t)return new this.modem.Promise((function(e,t){r.modem.dial(n,(function(n,i){if(n)return t(n);e(r.getContainer(i.Id))}))}));this.modem.dial(n,(function(e,n){if(e)return t(e,n);t(e,r.getContainer(n.Id))}))},b.prototype.createImage=function(e,t,r){var n=this;r||"function"!=typeof t?r||t||(e=(t=e).authconfig):(r=t,e=(t=e).authconfig||void 0);var i={path:"/images/create?",method:"POST",options:t,authconfig:e,isStream:!0,statusCodes:{200:!0,500:"server error"}};if(void 0===r)return new this.modem.Promise((function(e,t){n.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){r(e,t)}))},b.prototype.loadImage=function(e,t,r){var n=this;r||"function"!=typeof t||(r=t,t=null);var i={path:"/images/load?",method:"POST",options:t,file:e,isStream:!0,statusCodes:{200:!0,500:"server error"}};if(void 0===r)return new this.modem.Promise((function(e,t){n.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){r(e,t)}))},b.prototype.importImage=function(e,t,r){var n=this;r||"function"!=typeof t||(r=t,t=void 0),t||(t={}),t.fromSrc="-";var i={path:"/images/create?",method:"POST",options:t,file:e,isStream:!0,statusCodes:{200:!0,500:"server error"}};if(void 0===r)return new this.modem.Promise((function(e,t){n.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){r(e,t)}))},b.prototype.checkAuth=function(e,t){var r=this,n={path:"/auth",method:"POST",options:e,statusCodes:{200:!0,204:!0,500:"server error"}};if(void 0===t)return new this.modem.Promise((function(e,t){r.modem.dial(n,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(n,(function(e,r){t(e,r)}))},b.prototype.buildImage=function(e,t,r){var n,i=this;function a(e){var n={path:"/build?",method:"POST",file:e,options:t,isStream:!0,statusCodes:{200:!0,500:"server error"}};if(t&&(t.registryconfig&&(n.registryconfig=n.options.registryconfig,delete n.options.registryconfig),t.authconfig&&(n.authconfig=n.options.authconfig,delete n.options.authconfig)),void 0===r)return new i.modem.Promise((function(e,t){i.modem.dial(n,(function(r,n){if(r)return t(r);e(n)}))}));i.modem.dial(n,(function(e,t){r(e,t)}))}if(r||"function"!=typeof t||(r=t,t=null),!e||!e.context)return a(e);if(n=o.pack(e.context,{entries:e.src}),void 0===r)return new i.modem.Promise((function(e,t){n.on("error",(function(e){return t(e)})),n.on("end",(function(){return e(a(r))}));var r=n.pipe(s.createGzip())}));n.on("error",(function(e){return r(e)})),n.on("end",(function(){return a(c)}));var c=n.pipe(s.createGzip())},b.prototype.getContainer=function(e){return new a(this.modem,e)},b.prototype.getImage=function(e){return new c(this.modem,e)},b.prototype.getVolume=function(e){return new u(this.modem,e)},b.prototype.getPlugin=function(e,t){return new f(this.modem,e,t)},b.prototype.getService=function(e){return new h(this.modem,e)},b.prototype.getTask=function(e){return new m(this.modem,e)},b.prototype.getNode=function(e){return new g(this.modem,e)},b.prototype.getNetwork=function(e){return new l(this.modem,e)},b.prototype.getSecret=function(e){return new p(this.modem,e)},b.prototype.getConfig=function(e){return new d(this.modem,e)},b.prototype.getExec=function(e){return new v(this.modem,e)},b.prototype.listContainers=function(e,t){var r=this,n=y.processArgs(e,t),i={path:"/containers/json?",method:"GET",options:n.opts,statusCodes:{200:!0,400:"bad parameter",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},b.prototype.listImages=function(e,t){var r=this,n=y.processArgs(e,t),i={path:"/images/json?",method:"GET",options:n.opts,statusCodes:{200:!0,400:"bad parameter",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},b.prototype.getImages=function(e,t){var r=this,n=y.processArgs(e,t),i={path:"/images/get?",method:"GET",options:n.opts,isStream:!0,statusCodes:{200:!0,400:"bad parameter",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},b.prototype.listServices=function(e,t){var r=this,n=y.processArgs(e,t),i={path:"/services?",method:"GET",options:n.opts,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},b.prototype.listNodes=function(e,t){var r=this,n=y.processArgs(e,t),i={path:"/nodes?",method:"GET",options:n.opts,statusCodes:{200:!0,400:"bad parameter",404:"no such node",500:"server error",503:"node is not part of a swarm"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},b.prototype.listTasks=function(e,t){var r=this,n=y.processArgs(e,t),i={path:"/tasks?",method:"GET",options:n.opts,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},b.prototype.createSecret=function(e,t){var r=y.processArgs(e,t),n=this,i={path:"/secrets/create?",method:"POST",options:r.opts,statusCodes:{200:!0,201:!0,406:"server error or node is not part of a swarm",409:"name conflicts with an existing object",500:"server error"}};if(void 0===r.callback)return new this.modem.Promise((function(e,t){n.modem.dial(i,(function(r,i){if(r)return t(r);e(n.getSecret(i.ID))}))}));this.modem.dial(i,(function(e,t){if(e)return r.callback(e,t);r.callback(e,n.getSecret(t.ID))}))},b.prototype.createConfig=function(e,t){var r=y.processArgs(e,t),n=this,i={path:"/configs/create?",method:"POST",options:r.opts,statusCodes:{200:!0,201:!0,406:"server error or node is not part of a swarm",409:"name conflicts with an existing object",500:"server error"}};if(void 0===r.callback)return new this.modem.Promise((function(e,t){n.modem.dial(i,(function(r,i){if(r)return t(r);e(n.getConfig(i.ID))}))}));this.modem.dial(i,(function(e,t){if(e)return r.callback(e,t);r.callback(e,n.getConfig(t.ID))}))},b.prototype.listSecrets=function(e,t){var r=this,n=y.processArgs(e,t),i={path:"/secrets?",method:"GET",options:n.opts,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},b.prototype.listConfigs=function(e,t){var r=this,n=y.processArgs(e,t),i={path:"/configs?",method:"GET",options:n.opts,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},b.prototype.createPlugin=function(e,t){var r=this,n=y.processArgs(e,t),i={path:"/plugins/create?",method:"POST",options:n.opts,statusCodes:{200:!0,204:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(i,o){if(i)return t(i);e(r.getPlugin(n.opts.name))}))}));this.modem.dial(i,(function(e,t){if(e)return n.callback(e,t);n.callback(e,r.getPlugin(n.opts.name))}))},b.prototype.listPlugins=function(e,t){var r=this,n=y.processArgs(e,t),i={path:"/plugins?",method:"GET",options:n.opts,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},b.prototype.pruneImages=function(e,t){var r=this,n=y.processArgs(e,t),i={path:"/images/prune?",method:"POST",options:n.opts,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},b.prototype.pruneBuilder=function(e){var t=this,r={path:"/build/prune",method:"POST",statusCodes:{200:!0,500:"server error"}};if(void 0===args.callback)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},b.prototype.pruneContainers=function(e,t){var r=this,n=y.processArgs(e,t),i={path:"/containers/prune?",method:"POST",options:n.opts,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},b.prototype.pruneVolumes=function(e,t){var r=this,n=y.processArgs(e,t),i={path:"/volumes/prune?",method:"POST",options:n.opts,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},b.prototype.pruneNetworks=function(e,t){var r=this,n=y.processArgs(e,t),i={path:"/networks/prune?",method:"POST",options:n.opts,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},b.prototype.createVolume=function(e,t){var r=this,n=y.processArgs(e,t),i={path:"/volumes/create?",method:"POST",options:n.opts,statusCodes:{200:!0,201:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(n,i){if(n)return t(n);e(r.getVolume(i.Name))}))}));this.modem.dial(i,(function(e,t){if(e)return n.callback(e,t);n.callback(e,r.getVolume(t.Name))}))},b.prototype.createService=function(e,t,r){r||"function"!=typeof t?t||r||(t=e):(r=t,e=(t=e).authconfig||void 0);var n=this,i={path:"/services/create",method:"POST",options:t,authconfig:e,statusCodes:{200:!0,201:!0,500:"server error"}};if(void 0===r)return new this.modem.Promise((function(e,t){n.modem.dial(i,(function(r,i){if(r)return t(r);e(n.getService(i.ID||i.Id))}))}));this.modem.dial(i,(function(e,t){if(e)return r(e,t);r(e,n.getService(t.ID||t.Id))}))},b.prototype.listVolumes=function(e,t){var r=this,n=y.processArgs(e,t),i={path:"/volumes?",method:"GET",options:n.opts,statusCodes:{200:!0,400:"bad parameter",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},b.prototype.createNetwork=function(e,t){var r=this,n=y.processArgs(e,t),i={path:"/networks/create?",method:"POST",options:n.opts,statusCodes:{200:!0,201:!0,404:"driver not found",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(n,i){if(n)return t(n);e(r.getNetwork(i.Id))}))}));this.modem.dial(i,(function(e,t){if(e)return n.callback(e,t);n.callback(e,r.getNetwork(t.Id))}))},b.prototype.listNetworks=function(e,t){var r=this,n=y.processArgs(e,t),i={path:"/networks?",method:"GET",options:n.opts,statusCodes:{200:!0,400:"bad parameter",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},b.prototype.searchImages=function(e,t){var r=this,n={path:"/images/search?",method:"GET",options:e,authconfig:e.authconfig,statusCodes:{200:!0,500:"server error"}};if(void 0===t)return new this.modem.Promise((function(e,t){r.modem.dial(n,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(n,(function(e,r){t(e,r)}))},b.prototype.info=function(e){var t=this,r={path:"/info",method:"GET",statusCodes:{200:!0,500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},b.prototype.version=function(e){var t=this,r={path:"/version",method:"GET",statusCodes:{200:!0,500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},b.prototype.ping=function(e){var t=this,r={path:"/_ping",method:"GET",statusCodes:{200:!0,500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},b.prototype.df=function(e){var t=this,r={path:"/system/df",method:"GET",statusCodes:{200:!0,500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},b.prototype.getEvents=function(e,t){var r=this,n=y.processArgs(e,t),i={path:"/events?",method:"GET",options:n.opts,isStream:!0,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},b.prototype.pull=function(e,t,r,n){var i=y.processArgs(t,r),o=y.parseRepositoryTag(e);i.opts.fromImage=o.repository,i.opts.tag=o.tag||"latest";var s=[i.opts,i.callback];return n&&(s=[n,i.opts,i.callback]),this.createImage.apply(this,s)},b.prototype.run=function(e,t,r,n,i,o){return"function"==typeof arguments[arguments.length-1]?this.runCallback(e,t,r,n,i,o):this.runPromise(e,t,r,n,i)},b.prototype.runCallback=function(e,t,r,i,o,s){s||"function"!=typeof i?s||"function"!=typeof o||(s=o,o={}):(s=i,i={},o={});var a=new n;var c={Hostname:"",User:"",AttachStdin:!1,AttachStdout:!0,AttachStderr:!0,Tty:!0,OpenStdin:!1,StdinOnce:!1,Env:null,Cmd:t,Image:e,Volumes:{},VolumesFrom:[]};return w(c,i),this.createContainer(c,(function(e,t){if(e)return s(e,null,t);a.emit("container",t),t.attach({stream:!0,stdout:!0,stderr:!0},(function(e,n){if(e)return s(e,null,t);a.emit("stream",n),r&&(r instanceof Array?(n.on("end",(function(){try{r[0].end()}catch(e){}try{r[1].end()}catch(e){}})),t.modem.demuxStream(n,r[0],r[1])):(n.setEncoding("utf8"),n.pipe(r,{end:!0}))),t.start(o,(function(e,r){if(e)return s(e,r,t);a.emit("start",t),t.wait((function(e,r){a.emit("data",r),s(e,r,t)}))}))}))})),a},b.prototype.runPromise=function(e,t,r,n,i){var o=this;i=i||{};var s,a={Hostname:"",User:"",AttachStdin:!1,AttachStdout:!0,AttachStderr:!0,Tty:!0,OpenStdin:!1,StdinOnce:!1,Env:null,Cmd:t,Image:e,Volumes:{},VolumesFrom:[]};return w(a,n=n||{}),new this.modem.Promise((function(e,t){o.createContainer(a).then((function(e){return s=e,e.attach({stream:!0,stdout:!0,stderr:!0})})).then((function(e){return r&&(r instanceof Array?(e.on("end",(function(){try{r[0].end()}catch(e){}try{r[1].end()}catch(e){}})),s.modem.demuxStream(e,r[0],r[1])):(e.setEncoding("utf8"),e.pipe(r,{end:!0}))),s.start(i)})).then((function(e){return s.wait()})).then((function(t){e([t,s])})).catch((function(e){t(e)}))}))},b.prototype.swarmInit=function(e,t){var r=this,n=y.processArgs(e,t),i={path:"/swarm/init",method:"POST",statusCodes:{200:!0,400:"bad parameter",406:"node is already part of a Swarm"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},b.prototype.swarmJoin=function(e,t){var r=this,n=y.processArgs(e,t),i={path:"/swarm/join",method:"POST",statusCodes:{200:!0,400:"bad parameter",406:"node is already part of a Swarm"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},b.prototype.swarmLeave=function(e,t){var r=this,n=y.processArgs(e,t),i={path:"/swarm/leave?",method:"POST",statusCodes:{200:!0,406:"node is not part of a Swarm"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},b.prototype.swarmUpdate=function(e,t){var r=this,n=y.processArgs(e,t),i={path:"/swarm/update?",method:"POST",statusCodes:{200:!0,400:"bad parameter",406:"node is already part of a Swarm"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},b.prototype.swarmInspect=function(e){var t=this,r={path:"/swarm",method:"GET",statusCodes:{200:!0,406:"This node is not a swarm manager",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},b.Container=a,b.Image=c,b.Volume=u,b.Network=l,b.Service=h,b.Plugin=f,b.Secret=p,b.Task=m,b.Node=g,b.Exec=v,e.exports=b},function(e,t,r){var n=r(242),i=r(243),o=r(3),s=r(1),a=r(32),c=r(244),u=r(261),l=r(270)("modem"),h=r(171),f=r(0),p=(a=r(32),r(188)),d="Windows_NT"===r(7).type(),m=function(e){var t=Object.assign({},function(){var e,t={};if(process.env.DOCKER_HOST)if(0===process.env.DOCKER_HOST.indexOf("unix://"))t.socketPath=process.env.DOCKER_HOST.substring(7)||"/var/run/docker.sock";else if(0===process.env.DOCKER_HOST.indexOf("npipe://"))t.socketPath=process.env.DOCKER_HOST.substring(8)||"//./pipe/docker_engine";else{var r=process.env.DOCKER_HOST;r.indexOf("//")<0&&(r="tcp://"+r);try{e=new a.URL(r)}catch(e){throw new Error("DOCKER_HOST env variable should be something like tcp://localhost:1234")}t.port=e.port,"1"===process.env.DOCKER_TLS_VERIFY||"2376"===t.port?t.protocol="https":"ssh:"===e.protocol?(t.protocol="ssh",t.username=e.username,t.sshAuthAgent=process.env.SSH_AUTH_SOCK):t.protocol="http",t.host=e.hostname,process.env.DOCKER_CERT_PATH&&(t.ca=p(s.join(process.env.DOCKER_CERT_PATH,"ca.pem")),t.cert=o.readFileSync(s.join(process.env.DOCKER_CERT_PATH,"cert.pem")),t.key=o.readFileSync(s.join(process.env.DOCKER_CERT_PATH,"key.pem"))),process.env.DOCKER_CLIENT_TIMEOUT&&(t.timeout=parseInt(process.env.DOCKER_CLIENT_TIMEOUT,10))}else t.socketPath=d?"//./pipe/docker_engine":"/var/run/docker.sock";return t}(),e);this.socketPath=t.socketPath,this.host=t.host,this.port=t.port,this.username=t.username,this.version=t.version,this.key=t.key,this.cert=t.cert,this.ca=t.ca,this.timeout=t.timeout,this.connectionTimeout=t.connectionTimeout,this.checkServerIdentity=t.checkServerIdentity,this.agent=t.agent,this.headers=t.headers||{},this.sshAuthAgent=t.sshAuthAgent,this.key&&this.cert&&this.ca&&(this.protocol="https"),this.protocol=t.protocol||this.protocol||"http"};m.prototype.dial=function(e,t){var r,n,i;if(e.options&&(r=e.options),r&&r.authconfig&&delete r.authconfig,this.version&&(e.path="/"+this.version+e.path),this.host){var c=a.parse(this.host);n=a.format({protocol:c.protocol||this.protocol,hostname:c.hostname||this.host,port:this.port}),n=a.resolve(n,e.path)}else n=e.path;-1!==e.path.indexOf("?")&&(r&&Object.keys(r).length>0?n+=this.buildQuerystring(r._query||r):n=n.substring(0,n.length-1));var u={path:n,method:e.method,headers:e.headers||Object.assign({},this.headers),key:this.key,cert:this.cert,ca:this.ca};if(this.checkServerIdentity&&(u.checkServerIdentity=this.checkServerIdentity),this.agent&&(u.agent=this.agent),e.authconfig&&(u.headers["X-Registry-Auth"]=e.authconfig.key||e.authconfig.base64||Buffer.from(JSON.stringify(e.authconfig)).toString("base64")),e.registryconfig&&(u.headers["X-Registry-Config"]=e.registryconfig.base64||Buffer.from(JSON.stringify(e.registryconfig)).toString("base64")),e.file?(i="string"==typeof e.file?o.createReadStream(s.resolve(e.file)):e.file,u.headers["Content-Type"]="application/tar"):r&&"POST"===e.method&&(i=JSON.stringify(r._body||r),e.allowEmpty?u.headers["Content-Type"]="application/json":"{}"!==i&&'""'!==i?u.headers["Content-Type"]="application/json":i=void 0),"string"==typeof i?u.headers["Content-Length"]=Buffer.byteLength(i):!0===Buffer.isBuffer(i)?u.headers["Content-Length"]=i.length:("PUT"===u.method||e.hijack||e.openStdin)&&(u.headers["Transfer-Encoding"]="chunked"),e.hijack&&(u.headers.Connection="Upgrade",u.headers.Upgrade="tcp"),this.socketPath)u.socketPath=this.socketPath;else{var l=a.parse(n);u.hostname=l.hostname,u.port=l.port,u.path=l.path}this.buildRequest(u,e,i,t)},m.prototype.buildRequest=function(e,t,r,n){var o,s=this,a="ssh"===s.protocol?Object.assign(e,{agent:c({host:s.host,port:s.port,username:s.username,agent:s.sshAuthAgent}),protocol:"http:"}):e,u=i["ssh"===s.protocol?"http":s.protocol].request(a,(function(){}));l("Sending: %s",f.inspect(e,{showHidden:!0,depth:null})),s.connectionTimeout&&(o=setTimeout((function(){l("Connection Timeout of %s ms exceeded",s.connectionTimeout),u.abort()}),s.connectionTimeout)),s.timeout&&u.on("socket",(function(e){e.setTimeout(s.timeout),e.on("timeout",(function(){l("Timeout of %s ms exceeded",s.timeout),u.abort()}))})),!0===t.hijack&&(clearTimeout(o),u.on("upgrade",(function(e,t,r){return n(null,t)}))),u.on("connect",(function(){clearTimeout(o)})),u.on("disconnect",(function(){clearTimeout(o)})),u.on("response",(function(e){if(clearTimeout(o),!0===t.isStream)s.buildPayload(null,t.isStream,t.statusCodes,t.openStdin,u,e,null,n);else{var r=[];e.on("data",(function(e){r.push(e)})),e.on("end",(function(){var i=Buffer.concat(r),o=i.toString();l("Received: %s",o);var a=h.parseJSON(o)||i;s.buildPayload(null,t.isStream,t.statusCodes,!1,u,e,a,n)}))}})),u.on("error",(function(e){clearTimeout(o),s.buildPayload(e,t.isStream,t.statusCodes,!1,{},{},null,n)})),"string"==typeof r||Buffer.isBuffer(r)?u.write(r):r&&r.pipe(u),t.hijack||t.openStdin||"string"!=typeof r&&void 0!==r&&!Buffer.isBuffer(r)||u.end()},m.prototype.buildPayload=function(e,t,r,n,i,o,s,a){if(e)return a(e,null);!0!==r[o.statusCode]?function(e,t,r,n){var i="";e?(t.on("data",(function(e){i+=e})),t.on("end",(function(){n(null,h.parseJSON(i)||i)}))):n(null,r)}(t,o,s,(function(e,t){var n=new Error("(HTTP code "+o.statusCode+") "+(r[o.statusCode]||"unexpected")+" - "+(t.message||t)+" ");n.reason=r[o.statusCode],n.statusCode=o.statusCode,n.json=s,a(n,null)})):a(null,n?new u(i,o):t?o:s)},m.prototype.demuxStream=function(e,t,r){var n=null,i=null,o=Buffer.from("");function s(e){var t=o.slice(0,e);return o=Buffer.from(o.slice(e,o.length)),t}e.on("data",(function e(a){if(a&&(o=Buffer.concat([o,a])),n){if(o.length>=i){var c=s(i);1===n?t.write(c):r.write(c),n=null,e()}}else if(o.length>=8){var u=s(8);n=u.readUInt8(0),i=u.readUInt32BE(4),e()}}))},m.prototype.followProgress=function(e,t,r){var n="",i=[],o=!1;function s(e){function t(e){if("\r"==e[e.length-1]&&(e=e.substr(0,e.length-1)),e.length>0){var t=JSON.parse(e);i.push(t),r&&r(t)}}n+=e.toString(),function(){var e;for(;(e=n.indexOf("\n"))>=0;)0!=e?(t(n.slice(0,e)),n=n.slice(e+1)):n=n.slice(1)}()}function a(){o||t(null,i),o=!0}e.on("data",s),e.on("error",(function r(n){o=!0;e.removeListener("data",s);e.removeListener("error",r);e.removeListener("end",a);e.removeListener("close",a);t(n,i)})),e.on("end",a),e.on("close",a)},m.prototype.buildQuerystring=function(e){var t={};return Object.keys(e).map((function(r,n){t[r]=e[r]&&"object"==typeof e[r]&&"t"!==r?JSON.stringify(e[r]):e[r]})),n.stringify(t)},e.exports=m},function(e,t){e.exports=require("querystring")},function(e,t,r){var n=r(37),i=r(10),o=r(32),s=r(171),a=(e.exports.maxRedirects=5,{https:n,http:i});for(var c in a){var u=function(){};u.prototype=a[c],(u=new u).request=function(r){return function(n,i,a){a=a||{};var u,l="object"==typeof n&&"maxRedirects"in n?n.maxRedirects:t.maxRedirects,h=s.extend({count:0,max:l,clientRequest:null,userCallback:i},a);if(h.count>h.max){var f=new Error("Max redirects exceeded. To allow more redirects, pass options.maxRedirects property.");return h.clientRequest.emit("error",f),h.clientRequest}h.count++,u="string"==typeof n?n:o.format(s.extend({protocol:c},n));var p=Object.getPrototypeOf(r).request(n,function t(r,n){return function(i){if(i.statusCode<300||i.statusCode>399)return n.userCallback(i);if(!("location"in i.headers))return n.userCallback(i);var s=o.resolve(r,i.headers.location),a=o.parse(s).protocol;return a=a.substr(0,a.length-1),e.exports[a].get(s,t(r,n),n)}}(u,h));return h.clientRequest||(h.clientRequest=p),p}}(u),u.get=function(e){return function(t,r,n){var i=e.request(t,r,n);return i.end(),i}}(u),e.exports[c]=u}},function(e,t,r){var n=r(172).Client,i=r(10);e.exports=function(e){var t=new n,r=new i.Agent;return r.createConnection=function(n,i){t.on("ready",(function(){t.exec("docker system dial-stdio",(function(e,n){if(e)return t.end(),void r.destroy();i(null,n),n.on("close",()=>{t.end(),r.destroy()})}))})).connect(e),t.on("end",()=>r.destroy())},r}},function(e,t,r){var n=r(11).Transform,i=r(11).Readable,o=r(11).Writable,s=r(3).constants||process.binding("constants"),a=r(0),c=a.inherits,u=a.isDate,l=r(6).EventEmitter.listenerCount,h=r(3),f=r(27).readString,p=r(27).readInt,d=r(38).readUInt32BE,m=r(38).writeUInt32BE,g={SIZE:1,UIDGID:2,PERMISSIONS:4,ACMODTIME:8,EXTENDED:2147483648},v={OK:0,EOF:1,NO_SUCH_FILE:2,PERMISSION_DENIED:3,FAILURE:4,BAD_MESSAGE:5,NO_CONNECTION:6,CONNECTION_LOST:7,OP_UNSUPPORTED:8};Object.keys(v).forEach((function(e){v[v[e]]=e}));var y={0:"No error",1:"End of file",2:"No such file or directory",3:"Permission denied",4:"Failure",5:"Bad message",6:"No connection",7:"Connection lost",8:"Operation unsupported"};A.STATUS_CODE=v;var w={INIT:1,OPEN:3,CLOSE:4,READ:5,WRITE:6,LSTAT:7,FSTAT:8,SETSTAT:9,FSETSTAT:10,OPENDIR:11,READDIR:12,REMOVE:13,MKDIR:14,RMDIR:15,REALPATH:16,STAT:17,RENAME:18,READLINK:19,SYMLINK:20,EXTENDED:200};Object.keys(w).forEach((function(e){w[w[e]]=e}));var b={VERSION:2,STATUS:101,HANDLE:102,DATA:103,NAME:104,ATTRS:105,EXTENDED:201};Object.keys(b).forEach((function(e){b[b[e]]=e}));var E={READ:1,WRITE:2,APPEND:4,CREAT:8,TRUNC:16,EXCL:32};A.OPEN_MODE=E;var _=Math.pow(2,32)-1,C=Buffer.from([0,0,0,5,w.INIT,0,0,0,3]),S=Buffer.from([0,0,0,5,b.VERSION,0,0,0,3]),k=/^SSH-2.0-(?:OpenSSH|dropbear)/,x=260096;function D(e){}function A(e,t){"string"!=typeof e||t||(t=e,e=void 0),"object"==typeof e&&e||(e={}),n.call(this,{highWaterMark:"number"==typeof e.highWaterMark?e.highWaterMark:32768}),this.debug="function"==typeof e.debug?e.debug:D,this.server=!!e.server,this._isOpenSSH=t&&k.test(t),this._needContinue=!1,this._state={status:"packet_header",writeReqid:-1,pktLeft:void 0,pktHdrBuf:Buffer.allocUnsafe(9),pktBuf:void 0,pktType:void 0,version:void 0,extensions:{},maxDataLen:this._isOpenSSH?x:32768,requests:{}};var r=this;function i(){r.writable=!1,r._cleanup(!1)}this.on("end",(function(){r.readable=!1})).on("finish",i).on("prefinish",i),this.server||this.push(C)}function T(e,t,r,n,i,o){var s,a,c,u,l=64,f=32768;"function"==typeof i?o=i:"object"==typeof i&&null!==i&&("number"==typeof i.concurrency&&i.concurrency>0&&!isNaN(i.concurrency)&&(l=i.concurrency),"number"==typeof i.chunkSize&&i.chunkSize>0&&!isNaN(i.chunkSize)&&(f=i.chunkSize),"number"==typeof i.fileSize&&i.fileSize>0&&!isNaN(i.fileSize)&&(c=i.fileSize),"function"==typeof i.step&&(s=i.step),"string"!=typeof i.mode&&"number"!=typeof i.mode||(a=N(i.mode)));var p,d,m,g=0,v=0,y=!1,w=f*l;function b(r){if(!y){y=!0;var n,i=0;p||d?(n=function(){0==--i&&o(r)},p&&(e===h||e.writable)&&++i,d&&(t===h||t.writable)&&++i,p&&(e===h||e.writable)&&e.close(p,n),d&&(t===h||t.writable)&&t.close(d,n)):o(r)}}e.open(r,"r",(function(i,y){if(i)return b(i);function E(i,c){if(i)return e!==h?void e.stat(r,(function(e,t){if(e)return b(i);E(null,t)})):b(i);u=c.size,t.open(n,"w",(function(r,i){if(r)return b(r);if(d=i,u<=0)return b();for(;w>u;){if(1===l){w=u;break}w-=f,--l}if((m=function(e){try{return Buffer.allocUnsafe(e)}catch(e){return e}}(w))instanceof Error)return b(m);function c(r,n,i,a,c,l){if(r)return b(r);function y(r){if(r)return b(r);if(v+=n,s&&s(v,n,u),n<l)return E(c,a+n,l-n);if(v!==u){if(!(g>=u)){var i=g+f>u?u-g:f;E(c,g,i),g+=i}}else t.close(d,(function(t){if(d=void 0,t)return b(t);e.close(p,(function(e){if(p=void 0,e)return b(e);o()}))}))}c=c||0,e===h?t.writeData(d,m,c,n,a,y):t.write(d,m,c,n,a,y)}function y(e,t,r){return function(n,i,o){c(n,i,0,t,e,r)}}function E(t,r,n){e===h?e.read(p,m,t,n,r,y(t,r,n)):e.readData(p,m,t,n,r,y(t,r,n))}function _(){for(var e=0,t=0;g<u&&e<l;){var r=g+f>u?u-g:f;E(t,g,r),t+=r,g+=r,++e}}void 0!==a?t.fchmod(d,a,(function e(r){r?t.chmod(n,a,(function(t){e()})):_()})):_()}))}p=y,void 0===c?e.fstat(p,E):E(null,{size:c})}))}function R(e,t,r,n,i,o,s){var a="function"==typeof s?s:void 0;e.writeData(t,r,n,i,o,(function(s,c){if(s)return e.close(t,(function(){a&&a(s)}));c===i?e.close(t,a):R(e,t,r,n+=c,i-=c,o+=c,a)}))}function I(e,t,r,n){var i=d(e,t),o=new U;if(t+=4,i&g.SIZE){var s=P(e,t,r,n);if(!1===s)return!1;o.size=s,t+=8}if(i&g.UIDGID){var a,c;if(!1===(a=p(e,t,this,n)))return!1;if(o.uid=a,!1===(c=p(e,t+=4,this,n)))return!1;o.gid=c,t+=4}if(i&g.PERMISSIONS){var u=p(e,t,this,n);if(!1===u)return!1;o.mode=u,o.permissions=u,t+=4}if(i&g.ACMODTIME){var l,h;if(!1===(l=p(e,t,this,n)))return!1;if(o.atime=l,!1===(h=p(e,t+=4,this,n)))return!1;o.mtime=h,t+=4}if(i&g.EXTENDED){var f=p(e,t,this,n);if(!1===f)return!1;t+=4;for(var m,v=0;v<f;++v){if(!1===(m=p(e,t,this,n)))return!1;t+=4+m}}return e._pos=t,o}function P(e,t,r,n){if(e.length-t<8)return r&&r._cleanup(n),!1;for(var i=0,o=t+8;t<o;++t)i*=256,i+=e[t];return e._pos=t,i}function O(e){var t=0,r=0,n=[],i=0;if("object"!=typeof e||null===e)return{flags:t,nbytes:r,bytes:n};if("number"==typeof e.size){t|=g.SIZE,r+=8;var o=new Array(8),s=e.size;for(i=7;i>=0;--i)o[i]=255&s,s/=256;n.push(o)}if("number"==typeof e.uid&&"number"==typeof e.gid&&(t|=g.UIDGID,r+=8,n.push([e.uid>>24&255,e.uid>>16&255,e.uid>>8&255,255&e.uid]),n.push([e.gid>>24&255,e.gid>>16&255,e.gid>>8&255,255&e.gid])),"number"==typeof e.permissions||"string"==typeof e.permissions||"number"==typeof e.mode||"string"==typeof e.mode){var a=N(e.mode||e.permissions);t|=g.PERMISSIONS,r+=4,n.push([a>>24&255,a>>16&255,a>>8&255,255&a])}if(("number"==typeof e.atime||u(e.atime))&&("number"==typeof e.mtime||u(e.mtime))){var c=F(e.atime),l=F(e.mtime);t|=g.ACMODTIME,r+=8,n.push([c>>24&255,c>>16&255,c>>8&255,255&c]),n.push([l>>24&255,l>>16&255,l>>8&255,255&l])}return{flags:t,nbytes:r,bytes:n}}function F(e){if("number"==typeof e&&!isNaN(e))return e;if(u(e))return parseInt(e.getTime()/1e3,10);throw new Error("Cannot parse time: "+e)}function N(e){if("number"==typeof e&&!isNaN(e))return e;if("string"==typeof e)return N(parseInt(e,8));throw new Error("Cannot parse mode: "+e)}c(A,n),A.prototype.__read=n.prototype._read,A.prototype._read=function(e){return this._needContinue&&(this._needContinue=!1,this.emit("continue")),this.__read(e)},A.prototype.__push=n.prototype.push,A.prototype.push=function(e,t){if(!this.readable)return!1;null===e&&(this.readable=!1);var r=this.__push(e,t);return this._needContinue=!1===r,r},A.prototype._cleanup=function(e){var t=this._state;t.pktBuf=void 0;var r=t.requests,n=Object.keys(r),i=n.length;if(i){if(this.readable)for(var o,s=new Error("SFTP session ended early"),a=0;a<i;++a)(o=r[n[a]].cb)&&o(s);t.requests={}}this.readable&&this.push(null),this._readableState.endEmitted||this._readableState.flowing||this.resume(),!1!==e&&(this.debug("DEBUG[SFTP]: Parser: Malformed packet"),e&&e(new Error("Malformed packet")))},A.prototype._transform=function(e,t,r){for(var n,i,o,s=this._state,a=this.server,c=s.status,u=s.pktType,h=s.pktBuf,g=s.pktLeft,E=s.version,_=s.pktHdrBuf,C=s.requests,k=this.debug,x=e.length,D=0;;){if("discard"===c){if(!(g<=(i=x-D))){g-=i;break}D+=g,g=0,c="packet_header",n=h=void 0}else{if(void 0!==h){if(g<=(i=x-D)){e.copy(h,h.length-g,D,D+g),D+=g,g=0,n=h,h=void 0;continue}e.copy(h,h.length-g,D),g-=i;break}if("packet_header"===c)if(n){if(g=d(n,4)-1,u=n[8],a){if(void 0===E&&u!==w.INIT)return k("DEBUG[SFTP]: Parser: Unexpected packet before init"),this._cleanup(!1),r(new Error("Unexpected packet before init"));if(void 0!==E&&u===w.INIT)k("DEBUG[SFTP]: Parser: Unexpected duplicate init"),c="bad_pkt";else{if(g>34e3)return k("DEBUG[SFTP]: Parser: "+(V="Packet length ("+g+") exceeds max length (34000)")),this._cleanup(!1),r(new Error(V));u===w.EXTENDED?c="bad_pkt":void 0===w[u]&&(k("DEBUG[SFTP]: Parser: Unsupported packet type: "+u),c="discard")}}else{if(void 0===E&&u!==b.VERSION)return k("DEBUG[SFTP]: Parser: Unexpected packet before version"),this._cleanup(!1),r(new Error("Unexpected packet before version"));void 0!==E&&u===b.VERSION?(k("DEBUG[SFTP]: Parser: Unexpected duplicate version"),c="bad_pkt"):void 0===b[u]&&(c="discard")}"bad_pkt"===c?(m(_,g+1,0),_[4]=u,g=4,h=_):(h=Buffer.allocUnsafe(g),c="payload")}else g=5,h=_;else if("payload"===c){if(u===b.VERSION||u===w.INIT){if(!1===(E=s.version=p(n,0,this,r)))return;if(E<3)return this._cleanup(!1),r(new Error("Incompatible SFTP version: "+E));a&&this.push(S);var A,T,R=n.length;for(n._pos=4;n._pos<R;){if(!1===(A=f(n,n._pos,"ascii",this,r)))return;if(!1===(T=f(n,n._pos,"ascii",this,r)))return;s.extensions[A]?s.extensions[A].push(T):s.extensions[A]=[T]}this.emit("ready")}else{if(!1===(o=p(n,0,this,r)))return;var O,F,N,L;if(a){var B,M,U=w[u];if(k("DEBUG[SFTP]: Parser: Request: "+U),l(this,U)){if(u===w.OPEN){if(!1===(O=f(n,4,"utf8",this,r)))return;var j=p(n,n._pos,this,r);if(!1===j)return;if(!1===(F=I(n,n._pos+4,this,r)))return;this.emit(U,o,O,j,F)}else if(u===w.CLOSE||u===w.FSTAT||u===w.READDIR){if(!1===(N=f(n,4,this,r)))return;this.emit(U,o,N)}else if(u===w.READ){if(!1===(N=f(n,4,this,r)))return;if(!1===(B=P(n,n._pos,this,r)))return;var H=p(n,n._pos,this,r);if(!1===H)return;this.emit(U,o,N,B,H)}else if(u===w.WRITE){if(!1===(N=f(n,4,this,r)))return;if(!1===(B=P(n,n._pos,this,r)))return;if(!1===(L=f(n,n._pos,this,r)))return;this.emit(U,o,N,B,L)}else if(u===w.LSTAT||u===w.STAT||u===w.OPENDIR||u===w.REMOVE||u===w.RMDIR||u===w.REALPATH||u===w.READLINK){if(!1===(M=f(n,4,"utf8",this,r)))return;this.emit(U,o,M)}else if(u===w.SETSTAT||u===w.MKDIR){if(!1===(M=f(n,4,"utf8",this,r)))return;if(!1===(F=I(n,n._pos,this,r)))return;this.emit(U,o,M,F)}else if(u===w.FSETSTAT){if(!1===(N=f(n,4,this,r)))return;if(!1===(F=I(n,n._pos,this,r)))return;this.emit(U,o,N,F)}else if(u===w.RENAME||u===w.SYMLINK){var q,$;if(!1===(q=f(n,4,"utf8",this,r)))return;if(!1===($=f(n,n._pos,"utf8",this,r)))return;u===w.SYMLINK&&this._isOpenSSH?this.emit(U,o,$,q):this.emit(U,o,q,$)}}else this.status(o,v.OP_UNSUPPORTED)}else{var G=C[o],W=G&&G.cb;if(k("DEBUG[SFTP]: Parser: Response: "+b[u]),G&&W)if(u===b.STATUS){var z=p(n,4,this,r);if(!1===z)return;if(z===v.OK)W();else{var V,K="";if(n.length>=12){if(!1===(V=f(n,8,"utf8",this,r)))return;if(n._pos+4<n.length&&!1===(K=f(n,n._pos,"ascii",this,r)))return}var X=new Error(V||y[z]||"Unknown status");X.code=z,X.lang=K,W(X)}}else if(u===b.HANDLE){if(!1===(N=f(n,4,this,r)))return;W(void 0,N)}else if(u===b.DATA)if(G.buffer){var Y=p(n,4,this,r);if(!1===Y)return;var J=G.buffer.length;if(Y>J&&m(n,J,4),!1===(L=f(n,4,G.buffer,this,r)))return;W(void 0,L,Y)}else{if(!1===(L=f(n,4,this,r)))return;W(void 0,L)}else if(u===b.NAME){var Q=p(n,4,this,r);if(!1===Q)return;var Z,ee=[];n._pos=8;for(var te=0;te<Q;++te){if(!1===(O=f(n,n._pos,"utf8",this,r)))return;if(!1===(Z=f(n,n._pos,"utf8",this,r)))return;if(!1===(F=I(n,n._pos,this,r)))return;ee.push({filename:O,longname:Z,attrs:F})}W(void 0,ee)}else if(u===b.ATTRS){if(!1===(F=I(n,4,this,r)))return;W(void 0,F)}else if(u===b.EXTENDED){if(G.extended)switch(G.extended){case"statvfs@openssh.com":case"fstatvfs@openssh.com":var re={f_bsize:void 0,f_frsize:void 0,f_blocks:void 0,f_bfree:void 0,f_bavail:void 0,f_files:void 0,f_ffree:void 0,f_favail:void 0,f_sid:void 0,f_flag:void 0,f_namemax:void 0};if(re.f_bsize=P(n,4,this,r),!1===re.f_bsize)return;if(re.f_frsize=P(n,12,this,r),!1===re.f_frsize)return;if(re.f_blocks=P(n,20,this,r),!1===re.f_blocks)return;if(re.f_bfree=P(n,28,this,r),!1===re.f_bfree)return;if(re.f_bavail=P(n,36,this,r),!1===re.f_bavail)return;if(re.f_files=P(n,44,this,r),!1===re.f_files)return;if(re.f_ffree=P(n,52,this,r),!1===re.f_ffree)return;if(re.f_favail=P(n,60,this,r),!1===re.f_favail)return;if(re.f_sid=P(n,68,this,r),!1===re.f_sid)return;if(re.f_flag=P(n,76,this,r),!1===re.f_flag)return;if(re.f_namemax=P(n,84,this,r),!1===re.f_namemax)return;W(void 0,re)}W()}G&&delete C[o]}}c="packet_header",n=h=void 0}else if("bad_pkt"===c){if(a&&n[4]!==w.INIT){var ne=n[4]===w.EXTENDED?v.OP_UNSUPPORTED:v.FAILURE;if(n[4]===w.INIT||n[4]===b.VERSION)return this._cleanup(r);if(!1===(o=p(n,5,this,r)))return;this.status(o,ne)}g=d(n,0)-5,c="discard"}}if(D>=x)break}s.status=c,s.pktType=u,s.pktBuf=h,s.pktLeft=g,s.version=E,r()},A.prototype.createReadStream=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");return new X(this,e,t)},A.prototype.createWriteStream=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");return new J(this,e,t)},A.prototype.open=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i=this._state;"function"==typeof r&&(n=r,r=void 0);var o="number"==typeof t?t:M(t);if(null===o)throw new Error("Unknown flags string: "+t);var s=0,a=0;"string"!=typeof r&&"number"!=typeof r||(r={mode:r}),"object"==typeof r&&null!==r&&(s=(r=O(r)).flags,a=r.nbytes,r=r.bytes);var c=Buffer.byteLength(e),u=9,l=Buffer.allocUnsafe(13+c+4+4+a);m(l,l.length-4,0),l[4]=w.OPEN;var h=i.writeReqid=(i.writeReqid+1)%_;if(m(l,h,5),m(l,c,u),l.write(e,u+=4,c,"utf8"),m(l,o,u+=c),m(l,s,u+=4),r&&s){u+=4;for(var f=0,p=r.length;f<p;++f)for(var d=0,g=r[f].length;d<g;++d)l[u++]=r[f][d]}return i.requests[h]={cb:n},this.debug("DEBUG[SFTP]: Outgoing: Writing OPEN"),this.push(l)},A.prototype.close=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var r=this._state,n=e.length,i=9,o=Buffer.allocUnsafe(13+n);m(o,o.length-4,0),o[4]=w.CLOSE;var s=r.writeReqid=(r.writeReqid+1)%_;return m(o,s,5),m(o,n,i),e.copy(o,i+=4),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing CLOSE"),this.push(o)},A.prototype.readData=function(e,t,r,n,i,o){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");if(!Buffer.isBuffer(t))throw new Error("buffer is not a Buffer");if(r>=t.length)throw new Error("offset is out of bounds");if(r+n>t.length)throw new Error("length extends beyond buffer");if(null===i)throw new Error("null position currently unsupported");var s=this._state,a=e.length,c=9,u=i,l=Buffer.allocUnsafe(13+a+8+4);m(l,l.length-4,0),l[4]=w.READ;var h=s.writeReqid=(s.writeReqid+1)%_;m(l,h,5),m(l,a,c),e.copy(l,c+=4),c+=a;for(var f=7;f>=0;--f)l[c+f]=255&u,u/=256;return m(l,n,c+=8),s.requests[h]={cb:function(e,t,r){if(e){if(o._wantEOFError||e.code!==v.EOF)return o(e)}else if(r>n)return o(new Error("Received more data than requested"));o(void 0,r||0,t,i)},buffer:t.slice(r,r+n)},this.debug("DEBUG[SFTP]: Outgoing: Writing READ"),this.push(l)},A.prototype.writeData=function(e,t,r,n,i,o){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");if(!Buffer.isBuffer(t))throw new Error("buffer is not a Buffer");if(r>t.length)throw new Error("offset is out of bounds");if(r+n>t.length)throw new Error("length extends beyond buffer");if(null===i)throw new Error("null position currently unsupported");var s=this,a=this._state;if(n){var c=n>a.maxDataLen?n-a.maxDataLen:0,u=i;c&&(n=a.maxDataLen);var l=e.length,h=9,f=Buffer.allocUnsafe(13+l+8+4+n);m(f,f.length-4,0),f[4]=w.WRITE;var p=a.writeReqid=(a.writeReqid+1)%_;m(f,p,5),m(f,l,h),e.copy(f,h+=4),h+=l;for(var d=7;d>=0;--d)f[h+d]=255&i,i/=256;return m(f,n,h+=8),t.copy(f,h+=4,r,r+n),a.requests[p]={cb:function(i){i?o&&o(i):c?s.writeData(e,t,r+n,c,u+n,o):o&&o(void 0,r+n)}},this.debug("DEBUG[SFTP]: Outgoing: Writing WRITE"),this.push(f)}o&&process.nextTick((function(){o(void 0,0)}))},A.prototype.fastGet=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");T(this,h,e,t,r,n)},A.prototype.fastPut=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");T(h,this,e,t,r,n)},A.prototype.readFile=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n;"function"==typeof r?n=r:"function"==typeof t&&(n=t,t=void 0);var i=this;if("string"==typeof t)t={encoding:t,flag:"r"};else if(t){if("object"!=typeof t)throw new TypeError("Bad arguments")}else t={encoding:null,flag:"r"};var o,s,a,c=t.encoding;if(c&&!Buffer.isEncoding(c))throw new Error("Unknown encoding: "+c);var u,l=0,h=0,f=t.flag||"r";function p(){0===o?(s=Buffer.allocUnsafe(8192),i.readData(u,s,0,8192,h,d)):i.readData(u,s,l,o-l,h,d)}function d(e,t){var r;if(e){if(!(r=e.code===v.EOF))return i.close(u,(function(){return n&&n(e)}))}else r=!1;if(r||0===o&&0===t)return m();h+=t,l+=t,0!==o?l===o?m():p():(a.push(s.slice(0,t)),p())}function m(){i.close(u,(function(e){return 0===o?s=Buffer.concat(a,l):l<o&&(s=s.slice(0,l)),c&&(s=s.toString(c)),n&&n(e,s)}))}this.open(e,f,438,(function(t,r){if(t)return n&&n(t);u=r,i.fstat(u,(function t(r,c){if(r)i.stat(e,(function(e,o){if(e)return i.close(u,(function(){n&&n(r)}));t(null,o)}));else{if(0===(o=c.size||0))return a=[],p();s=Buffer.allocUnsafe(o),p()}}))})),d._wantEOFError=!0},A.prototype.writeFile=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i;"function"==typeof n?i=n:"function"==typeof r&&(i=r,r=void 0);var o=this;if("string"==typeof r)r={encoding:r,mode:438,flag:"w"};else if(r){if("object"!=typeof r)throw new TypeError("Bad arguments")}else r={encoding:"utf8",mode:438,flag:"w"};if(r.encoding&&!Buffer.isEncoding(r.encoding))throw new Error("Unknown encoding: "+r.encoding);var s=r.flag||"w";this.open(e,s,r.mode,(function(n,a){if(n)i&&i(n);else{var c=Buffer.isBuffer(t)?t:Buffer.from(""+t,r.encoding||"utf8"),u=/a/.test(s)?null:0;if(null===u)return void o.fstat(a,(function t(r,n){r?o.stat(e,(function(e,n){if(e)return o.close(a,(function(){i&&i(r)}));t(null,n)})):R(o,a,c,0,c.length,n.size,i)}));R(o,a,c,0,c.length,u,i)}}))},A.prototype.appendFile=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i;if("function"==typeof n?i=n:"function"==typeof r&&(i=r,r=void 0),"string"==typeof r)r={encoding:r,mode:438,flag:"a"};else if(r){if("object"!=typeof r)throw new TypeError("Bad arguments")}else r={encoding:"utf8",mode:438,flag:"a"};r.flag||(r=a._extend({flag:"a"},r)),this.writeFile(e,t,r,i)},A.prototype.exists=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");this.stat(e,(function(e){t&&t(!e)}))},A.prototype.unlink=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,o=Buffer.allocUnsafe(13+n);m(o,o.length-4,0),o[4]=w.REMOVE;var s=r.writeReqid=(r.writeReqid+1)%_;return m(o,s,5),m(o,n,i),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing REMOVE"),this.push(o)},A.prototype.rename=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=this._state,i=Buffer.byteLength(e),o=Buffer.byteLength(t),s=9,a=Buffer.allocUnsafe(13+i+4+o);m(a,a.length-4,0),a[4]=w.RENAME;var c=n.writeReqid=(n.writeReqid+1)%_;return m(a,c,5),m(a,i,s),a.write(e,s+=4,i,"utf8"),m(a,o,s+=i),a.write(t,s+=4,o,"utf8"),n.requests[c]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing RENAME"),this.push(a)},A.prototype.mkdir=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=0,i=0,o=this._state;"function"==typeof t&&(r=t,t=void 0),"object"==typeof t&&null!==t&&(n=(t=O(t)).flags,i=t.nbytes,t=t.bytes);var s=Buffer.byteLength(e),a=9,c=Buffer.allocUnsafe(13+s+4+i);m(c,c.length-4,0),c[4]=w.MKDIR;var u=o.writeReqid=(o.writeReqid+1)%_;if(m(c,u,5),m(c,s,a),c.write(e,a+=4,s,"utf8"),m(c,n,a+=s),n){a+=4;for(var l=0,h=t.length;l<h;++l)for(var f=0,p=t[l].length;f<p;++f)c[a++]=t[l][f]}return o.requests[u]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing MKDIR"),this.push(c)},A.prototype.rmdir=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,o=Buffer.allocUnsafe(13+n);m(o,o.length-4,0),o[4]=w.RMDIR;var s=r.writeReqid=(r.writeReqid+1)%_;return m(o,s,5),m(o,n,i),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing RMDIR"),this.push(o)},A.prototype.readdir=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n,i=this._state;if("function"==typeof t&&(r=t,t={}),"object"==typeof t&&null!==t||(t={}),n=!t||!t.full,!Buffer.isBuffer(e)&&"string"!=typeof e)throw new Error("missing directory handle or path");if("string"==typeof e){var o=this,s=[],a=0;return this.opendir(e,(function e(n,i){if(n)return r(n);o.readdir(i,t,(function(t,n){var c=t&&t.code===v.EOF;if(t&&!c)return o.close(i,(function(){r(t)}));if(c)return o.close(i,(function(e){if(e)return r(e);r(void 0,s)}));for(var u=0,l=n.length;u<l;++u,++a)s[a]=n[u];e(void 0,i)}))}))}var c=e.length,u=9,l=Buffer.allocUnsafe(13+c);m(l,l.length-4,0),l[4]=w.READDIR;var h=i.writeReqid=(i.writeReqid+1)%_;return m(l,h,5),m(l,c,u),e.copy(l,u+=4),i.requests[h]={cb:n?function(e,t){if(e)return r(e);for(var n=t.length-1;n>=0;--n)"."!==t[n].filename&&".."!==t[n].filename||t.splice(n,1);r(void 0,t)}:r},this.debug("DEBUG[SFTP]: Outgoing: Writing READDIR"),this.push(l)},A.prototype.fstat=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var r=this._state,n=e.length,i=9,o=Buffer.allocUnsafe(13+n);m(o,o.length-4,0),o[4]=w.FSTAT;var s=r.writeReqid=(r.writeReqid+1)%_;return m(o,s,5),m(o,n,i),e.copy(o,i+=4),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing FSTAT"),this.push(o)},A.prototype.stat=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,o=Buffer.allocUnsafe(13+n);m(o,o.length-4,0),o[4]=w.STAT;var s=r.writeReqid=(r.writeReqid+1)%_;return m(o,s,5),m(o,n,i),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing STAT"),this.push(o)},A.prototype.lstat=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,o=Buffer.allocUnsafe(13+n);m(o,o.length-4,0),o[4]=w.LSTAT;var s=r.writeReqid=(r.writeReqid+1)%_;return m(o,s,5),m(o,n,i),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing LSTAT"),this.push(o)},A.prototype.opendir=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,o=Buffer.allocUnsafe(13+n);m(o,o.length-4,0),o[4]=w.OPENDIR;var s=r.writeReqid=(r.writeReqid+1)%_;return m(o,s,5),m(o,n,i),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing OPENDIR"),this.push(o)},A.prototype.setstat=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=0,i=0,o=this._state;"object"==typeof t&&null!==t?(n=(t=O(t)).flags,i=t.nbytes,t=t.bytes):"function"==typeof t&&(r=t);var s=Buffer.byteLength(e),a=9,c=Buffer.allocUnsafe(13+s+4+i);m(c,c.length-4,0),c[4]=w.SETSTAT;var u=o.writeReqid=(o.writeReqid+1)%_;if(m(c,u,5),m(c,s,a),c.write(e,a+=4,s,"utf8"),m(c,n,a+=s),n){a+=4;for(var l=0,h=t.length;l<h;++l)for(var f=0,p=t[l].length;f<p;++f)c[a++]=t[l][f]}return o.requests[u]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing SETSTAT"),this.push(c)},A.prototype.fsetstat=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var n=0,i=0,o=this._state;"object"==typeof t&&null!==t?(n=(t=O(t)).flags,i=t.nbytes,t=t.bytes):"function"==typeof t&&(r=t);var s=e.length,a=9,c=Buffer.allocUnsafe(13+s+4+i);m(c,c.length-4,0),c[4]=w.FSETSTAT;var u=o.writeReqid=(o.writeReqid+1)%_;if(m(c,u,5),m(c,s,a),e.copy(c,a+=4),m(c,n,a+=s),n){a+=4;for(var l=0,h=t.length;l<h;++l)for(var f=0,p=t[l].length;f<p;++f)c[a++]=t[l][f]}return o.requests[u]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing FSETSTAT"),this.push(c)},A.prototype.futimes=function(e,t,r,n){return this.fsetstat(e,{atime:F(t),mtime:F(r)},n)},A.prototype.utimes=function(e,t,r,n){return this.setstat(e,{atime:F(t),mtime:F(r)},n)},A.prototype.fchown=function(e,t,r,n){return this.fsetstat(e,{uid:t,gid:r},n)},A.prototype.chown=function(e,t,r,n){return this.setstat(e,{uid:t,gid:r},n)},A.prototype.fchmod=function(e,t,r){return this.fsetstat(e,{mode:t},r)},A.prototype.chmod=function(e,t,r){return this.setstat(e,{mode:t},r)},A.prototype.readlink=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,o=Buffer.allocUnsafe(13+n);m(o,o.length-4,0),o[4]=w.READLINK;var s=r.writeReqid=(r.writeReqid+1)%_;return m(o,s,5),m(o,n,i),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:function(e,r){return e?t(e):r&&r.length?void t(void 0,r[0].filename):t(new Error("Response missing link info"))}},this.debug("DEBUG[SFTP]: Outgoing: Writing READLINK"),this.push(o)},A.prototype.symlink=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=this._state,i=Buffer.byteLength(t),o=Buffer.byteLength(e),s=9,a=Buffer.allocUnsafe(13+i+4+o);m(a,a.length-4,0),a[4]=w.SYMLINK;var c=n.writeReqid=(n.writeReqid+1)%_;return m(a,c,5),this._isOpenSSH?(m(a,o,s),a.write(e,s+=4,o,"utf8"),m(a,i,s+=o),a.write(t,s+=4,i,"utf8")):(m(a,i,s),a.write(t,s+=4,i,"utf8"),m(a,o,s+=i),a.write(e,s+=4,o,"utf8")),n.requests[c]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing SYMLINK"),this.push(a)},A.prototype.realpath=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,o=Buffer.allocUnsafe(13+n);m(o,o.length-4,0),o[4]=w.REALPATH;var s=r.writeReqid=(r.writeReqid+1)%_;return m(o,s,5),m(o,n,i),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:function(e,r){return e?t(e):r&&r.length?void t(void 0,r[0].filename):t(new Error("Response missing path info"))}},this.debug("DEBUG[SFTP]: Outgoing: Writing REALPATH"),this.push(o)},A.prototype.ext_openssh_rename=function(e,t,r){var n=this._state;if(this.server)throw new Error("Client-only method called in server mode");if(!n.extensions["posix-rename@openssh.com"]||-1===n.extensions["posix-rename@openssh.com"].indexOf("1"))throw new Error("Server does not support this extended request");var i=Buffer.byteLength(e),o=Buffer.byteLength(t),s=9,a=Buffer.allocUnsafe(41+i+4+o);m(a,a.length-4,0),a[4]=w.EXTENDED;var c=n.writeReqid=(n.writeReqid+1)%_;return m(a,c,5),m(a,24,s),a.write("posix-rename@openssh.com",s+=4,24,"ascii"),m(a,i,s+=24),a.write(e,s+=4,i,"utf8"),m(a,o,s+=i),a.write(t,s+=4,o,"utf8"),n.requests[c]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing posix-rename@openssh.com"),this.push(a)},A.prototype.ext_openssh_statvfs=function(e,t){var r=this._state;if(this.server)throw new Error("Client-only method called in server mode");if(!r.extensions["statvfs@openssh.com"]||-1===r.extensions["statvfs@openssh.com"].indexOf("2"))throw new Error("Server does not support this extended request");var n=Buffer.byteLength(e),i=9,o=Buffer.allocUnsafe(36+n);m(o,o.length-4,0),o[4]=w.EXTENDED;var s=r.writeReqid=(r.writeReqid+1)%_;return m(o,s,5),m(o,19,i),o.write("statvfs@openssh.com",i+=4,19,"ascii"),m(o,n,i+=19),o.write(e,i+=4,n,"utf8"),r.requests[s]={extended:"statvfs@openssh.com",cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing statvfs@openssh.com"),this.push(o)},A.prototype.ext_openssh_fstatvfs=function(e,t){var r=this._state;if(this.server)throw new Error("Client-only method called in server mode");if(!r.extensions["fstatvfs@openssh.com"]||-1===r.extensions["fstatvfs@openssh.com"].indexOf("2"))throw new Error("Server does not support this extended request");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var n=e.length,i=9,o=Buffer.allocUnsafe(37+n);m(o,o.length-4,0),o[4]=w.EXTENDED;var s=r.writeReqid=(r.writeReqid+1)%_;return m(o,s,5),m(o,20,i),o.write("fstatvfs@openssh.com",i+=4,20,"ascii"),m(o,n,i+=20),o.write(e,i+=4,n,"utf8"),r.requests[s]={extended:"fstatvfs@openssh.com",cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing fstatvfs@openssh.com"),this.push(o)},A.prototype.ext_openssh_hardlink=function(e,t,r){var n=this._state;if(this.server)throw new Error("Client-only method called in server mode");if(!n.extensions["hardlink@openssh.com"]||-1===n.extensions["hardlink@openssh.com"].indexOf("1"))throw new Error("Server does not support this extended request");var i=Buffer.byteLength(e),o=Buffer.byteLength(t),s=9,a=Buffer.allocUnsafe(37+i+4+o);m(a,a.length-4,0),a[4]=w.EXTENDED;var c=n.writeReqid=(n.writeReqid+1)%_;return m(a,c,5),m(a,20,s),a.write("hardlink@openssh.com",s+=4,20,"ascii"),m(a,i,s+=20),a.write(e,s+=4,i,"utf8"),m(a,o,s+=i),a.write(t,s+=4,o,"utf8"),n.requests[c]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing hardlink@openssh.com"),this.push(a)},A.prototype.ext_openssh_fsync=function(e,t){var r=this._state;if(this.server)throw new Error("Client-only method called in server mode");if(!r.extensions["fsync@openssh.com"]||-1===r.extensions["fsync@openssh.com"].indexOf("1"))throw new Error("Server does not support this extended request");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var n=e.length,i=9,o=Buffer.allocUnsafe(34+n);m(o,o.length-4,0),o[4]=w.EXTENDED;var s=r.writeReqid=(r.writeReqid+1)%_;return m(o,s,5),m(o,17,i),o.write("fsync@openssh.com",i+=4,17,"ascii"),m(o,n,i+=17),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing fsync@openssh.com"),this.push(o)},A.prototype.status=function(e,t,r,n){if(!this.server)throw new Error("Server-only method called in client mode");if(!v[t]||"number"!=typeof t)throw new Error("Bad status code: "+t);r||(r=""),n||(n="");var i=Buffer.byteLength(r),o=Buffer.byteLength(n),s=Buffer.allocUnsafe(17+i+4+o);return m(s,s.length-4,0),s[4]=b.STATUS,m(s,e,5),m(s,t,9),m(s,i,13),i&&s.write(r,17,i,"utf8"),m(s,o,17+i),o&&s.write(n,17+i+4,o,"ascii"),this.debug("DEBUG[SFTP]: Outgoing: Writing STATUS"),this.push(s)},A.prototype.handle=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");if(!Buffer.isBuffer(t))throw new Error("handle is not a Buffer");var r=t.length;if(r>256)throw new Error("handle too large (> 256 bytes)");var n=Buffer.allocUnsafe(13+r);return m(n,n.length-4,0),n[4]=b.HANDLE,m(n,e,5),m(n,r,9),r&&t.copy(n,13),this.debug("DEBUG[SFTP]: Outgoing: Writing HANDLE"),this.push(n)},A.prototype.data=function(e,t,r){if(!this.server)throw new Error("Server-only method called in client mode");var n=Buffer.isBuffer(t);if(!n&&"string"!=typeof t)throw new Error("data is not a Buffer or string");n||r||(r="utf8");var i=n?t.length:Buffer.byteLength(t,r),o=Buffer.allocUnsafe(13+i);return m(o,o.length-4,0),o[4]=b.DATA,m(o,e,5),m(o,i,9),i&&(n?t.copy(o,13):o.write(t,13,i,r)),this.debug("DEBUG[SFTP]: Outgoing: Writing DATA"),this.push(o)},A.prototype.name=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");if(!Array.isArray(t)){if("object"!=typeof t||null===t)throw new Error("names is not an object or array");t=[t]}var r,n,i,o,s,a,c,u,l,h,f,p,d=t.length,g=0,v=[];for(h=0;h<d;++h)i=(n=t[h])&&n.filename&&"string"==typeof n.filename?n.filename:"",g+=4+Buffer.byteLength(i),o=n&&n.longname&&"string"==typeof n.longname?n.longname:"",g+=4+Buffer.byteLength(o),"object"==typeof n.attrs&&null!==n.attrs?(g+=4+(r=O(n.attrs)).nbytes,v.push(r)):(g+=4,v.push(null));for(u=Buffer.allocUnsafe(13+g),m(u,u.length-4,0),u[4]=b.NAME,m(u,e,5),m(u,d,9),l=13,h=0;h<d;++h)if(i=(n=t[h])&&n.filename&&"string"==typeof n.filename?n.filename:"",a=Buffer.byteLength(i),m(u,a,l),l+=4,a&&(u.write(i,l,a,"utf8"),l+=a),o=n&&n.longname&&"string"==typeof n.longname?n.longname:"",a=Buffer.byteLength(o),m(u,a,l),l+=4,a&&(u.write(o,l,a,"utf8"),l+=a),s=v[h]){if(m(u,s.flags,l),l+=4,s.flags&&s.bytes){var y=s.bytes;for(f=0,a=y.length;f<a;++f)for(p=0,c=y[f].length;p<c;++p)u[l++]=y[f][p]}}else m(u,0,l),l+=4;return this.debug("DEBUG[SFTP]: Outgoing: Writing NAME"),this.push(u)},A.prototype.attrs=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");if("object"!=typeof t||null===t)throw new Error("attrs is not an object");var r=O(t),n=Buffer.allocUnsafe(13+r.nbytes),i=13;if(m(n,n.length-4,0),n[4]=b.ATTRS,m(n,e,5),m(n,r.flags,9),r.flags&&r.bytes)for(var o=r.bytes,s=0,a=o.length;s<a;++s)for(var c=0,u=o[s].length;c<u;++c)n[i++]=o[s][c];return this.debug("DEBUG[SFTP]: Outgoing: Writing ATTRS"),this.push(n)};var L={r:E.READ,"r+":E.READ|E.WRITE,w:E.TRUNC|E.CREAT|E.WRITE,wx:E.TRUNC|E.CREAT|E.WRITE|E.EXCL,xw:E.TRUNC|E.CREAT|E.WRITE|E.EXCL,"w+":E.TRUNC|E.CREAT|E.READ|E.WRITE,"wx+":E.TRUNC|E.CREAT|E.READ|E.WRITE|E.EXCL,"xw+":E.TRUNC|E.CREAT|E.READ|E.WRITE|E.EXCL,a:E.APPEND|E.CREAT|E.WRITE,ax:E.APPEND|E.CREAT|E.WRITE|E.EXCL,xa:E.APPEND|E.CREAT|E.WRITE|E.EXCL,"a+":E.APPEND|E.CREAT|E.READ|E.WRITE,"ax+":E.APPEND|E.CREAT|E.READ|E.WRITE|E.EXCL,"xa+":E.APPEND|E.CREAT|E.READ|E.WRITE|E.EXCL},B=Object.keys(L);function M(e){var t=L[e];return void 0!==t?t:null}function U(e){this.mode=e&&e.mode,this.permissions=this.mode,this.uid=e&&e.uid,this.gid=e&&e.gid,this.size=e&&e.size,this.atime=e&&e.atime,this.mtime=e&&e.mtime}A.stringToFlags=M,A.flagsToString=function(e){for(var t=0;t<B.length;++t){var r=B[t];if(L[r]===e)return r}return null},U.prototype._checkModeProperty=function(e){return(this.mode&s.S_IFMT)===e},U.prototype.isDirectory=function(){return this._checkModeProperty(s.S_IFDIR)},U.prototype.isFile=function(){return this._checkModeProperty(s.S_IFREG)},U.prototype.isBlockDevice=function(){return this._checkModeProperty(s.S_IFBLK)},U.prototype.isCharacterDevice=function(){return this._checkModeProperty(s.S_IFCHR)},U.prototype.isSymbolicLink=function(){return this._checkModeProperty(s.S_IFLNK)},U.prototype.isFIFO=function(){return this._checkModeProperty(s.S_IFIFO)},U.prototype.isSocket=function(){return this._checkModeProperty(s.S_IFSOCK)},A.Stats=U;var j,H=r(252),q=H.validateNumber,$=H.destroyImpl,G=H.ERR_OUT_OF_RANGE,W=H.ERR_INVALID_ARG_TYPE,z=[];function V(e,t){if(!Number.isSafeInteger(e)){if(q(e,t),!Number.isInteger(e))throw new G(t,"an integer",e);throw new G(t,">= 0 and <= 2 ** 53 - 1",e)}if(e<0)throw new G(t,">= 0 and <= 2 ** 53 - 1",e)}function K(e){return e+7&-8}function X(e,t,r){if(void 0===r)r={};else if("string"==typeof r)r={encoding:r};else{if(null===r||"object"!=typeof r)throw new TypeError('"options" argument must be a string or an object');r=Object.create(r)}if(void 0===r.highWaterMark&&(r.highWaterMark=65536),r.emitClose=!1,i.call(this,r),this.path=t,this.flags=void 0===r.flags?"r":r.flags,this.mode=void 0===r.mode?438:r.mode,this.start=r.start,this.end=r.end,this.autoClose=void 0===r.autoClose||r.autoClose,this.pos=0,this.bytesRead=0,this.closed=!1,this.handle=void 0===r.handle?null:r.handle,this.sftp=e,this._opening=!1,void 0!==this.start&&(V(this.start,"start"),this.pos=this.start),void 0===this.end)this.end=1/0;else if(this.end!==1/0&&(V(this.end,"end"),void 0!==this.start&&this.start>this.end))throw new G("start",`<= "end" (here: ${this.end})`,this.start);this.on("end",(function(){this.autoClose&&this.destroy()})),Buffer.isBuffer(this.handle)||this.open()}function Y(e,t,r){if(!e.handle)return n();function n(n){t(n=n||r),e.closed=!0,n||e.emit("close")}e.sftp.close(e.handle,n)}function J(e,t,r){if(void 0===r)r={};else if("string"==typeof r)r={encoding:r};else{if(null===r||"object"!=typeof r)throw new TypeError('"options" argument must be a string or an object');r=Object.create(r)}r.emitClose=!1,o.call(this,r),this.path=t,this.flags=void 0===r.flags?"w":r.flags,this.mode=void 0===r.mode?438:r.mode,this.start=r.start,this.autoClose=void 0===r.autoClose||r.autoClose,this.pos=0,this.bytesWritten=0,this.closed=!1,this.handle=void 0===r.handle?null:r.handle,this.sftp=e,this._opening=!1,void 0!==this.start&&(V(this.start,"start"),this.pos=this.start),r.encoding&&this.setDefaultEncoding(r.encoding),this.on("finish",(function(){this._writableState.finalCalled||this.autoClose&&this.destroy()})),Buffer.isBuffer(this.handle)||this.open()}c(X,i),X.prototype.open=function(){this._opening||(this._opening=!0,this.sftp.open(this.path,this.flags,this.mode,(e,t)=>{if(this._opening=!1,e)return this.emit("error",e),void(this.autoClose&&this.destroy());this.handle=t,this.emit("open",t),this.emit("ready"),this.read()}))},X.prototype._read=function(e){if(!Buffer.isBuffer(this.handle))return this.once("open",(function(){this._read(e)}));if(!this.destroyed){var t;(!j||j.length-j.used<128)&&(t=this.readableHighWaterMark||this._readableState.highWaterMark,(j=z.length>0?z.pop():Buffer.allocUnsafe(t)).used=0);var r=j,n=Math.min(j.length-j.used,e),i=j.used;if(void 0!==this.end&&(n=Math.min(this.end-this.pos+1,n)),n<=0)return this.push(null);this.sftp.readData(this.handle,j,j.used,n,this.pos,(e,t)=>{if(e)return this.emit("error",e),void(this.autoClose&&this.destroy());var o=null;if(i+n===r.used&&r===j){var s=r.used+t-n;r.used=K(s)}else{var a=i+n&-8,c=K(i+t);a-c>=128&&z.push(r.slice(c,a))}t>0&&(this.bytesRead+=t,o=r.slice(i,i+t)),this.pos+=t,this.push(o)}),j.used=K(j.used+n)}},"function"!=typeof i.prototype.destroy&&(X.prototype.destroy=$),X.prototype._destroy=function(e,t){!this._opening||Buffer.isBuffer(this.handle)?(Y(this,t,e),this.handle=null,this._opening=!1):this.once("open",Y.bind(null,this,t,e))},X.prototype.close=function(e){this.destroy(null,e)},Object.defineProperty(X.prototype,"pending",{get(){return null===this.handle},configurable:!0}),c(J,o),J.prototype._final=function(e){this.autoClose&&this.destroy(),e()},J.prototype.open=function(){this._opening||(this._opening=!0,this.sftp.open(this.path,this.flags,this.mode,(e,t)=>{if(this._opening=!1,e)return this.emit("error",e),void(this.autoClose&&this.destroy());this.handle=t;var r=e=>{if(e)this.sftp.chmod(this.path,this.mode,e=>{r()});else if("a"!==this.flags[0])this.emit("open",t),this.emit("ready");else{var n=(e,r)=>{e?this.sftp.stat(this.path,(t,r)=>{if(t)return this.destroy(),void this.emit("error",e);n(null,r)}):(this.pos=r.size,this.emit("open",t),this.emit("ready"))};this.sftp.fstat(t,n)}};this.sftp.fchmod(t,this.mode,r)}))},J.prototype._write=function(e,t,r){if(!Buffer.isBuffer(e)){const t=new W("data","Buffer",e);return this.emit("error",t)}if(!Buffer.isBuffer(this.handle))return this.once("open",(function(){this._write(e,t,r)}));this.sftp.writeData(this.handle,e,0,e.length,this.pos,(e,t)=>{if(e)return this.autoClose&&this.destroy(),r(e);this.bytesWritten+=t,r()}),this.pos+=e.length},J.prototype._writev=function(e,t){if(!Buffer.isBuffer(this.handle))return this.once("open",(function(){this._writev(e,t)}));for(var r=this.sftp,n=this.handle,i=e.length,o=(e,r)=>{if(e)return this.destroy(),t(e);this.bytesWritten+=r,0==--i&&t()},s=0;s<e.length;++s){var a=e[s].chunk;r.writeData(n,a,0,a.length,this.pos,o),this.pos+=a.length}},"function"!=typeof o.prototype.destroy&&(J.prototype.destroy=X.prototype.destroy),J.prototype._destroy=X.prototype._destroy,J.prototype.close=function(e){if(e){if(this.closed)return void process.nextTick(e);this.on("close",e)}this.autoClose||this.on("finish",this.destroy.bind(this)),this.end()},J.prototype.destroySoon=J.prototype.end,Object.defineProperty(J.prototype,"pending",{get(){return null===this.handle},configurable:!0}),e.exports=A},function(e,t,r){var n=r(89),i=r(90),o=r(247),s=r(248);for(var a in e.exports={Reader:o,Writer:s},i)i.hasOwnProperty(a)&&(e.exports[a]=i[a]);for(var c in n)n.hasOwnProperty(c)&&(e.exports[c]=n[c])},function(e,t,r){var n=r(48),i=r(175).Buffer,o=r(90),s=r(89).newInvalidAsn1Error;function a(e){if(!e||!i.isBuffer(e))throw new TypeError("data must be a node Buffer");this._buf=e,this._size=e.length,this._len=0,this._offset=0}Object.defineProperty(a.prototype,"length",{enumerable:!0,get:function(){return this._len}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){return this._offset}}),Object.defineProperty(a.prototype,"remain",{get:function(){return this._size-this._offset}}),Object.defineProperty(a.prototype,"buffer",{get:function(){return this._buf.slice(this._offset)}}),a.prototype.readByte=function(e){if(this._size-this._offset<1)return null;var t=255&this._buf[this._offset];return e||(this._offset+=1),t},a.prototype.peek=function(){return this.readByte(!0)},a.prototype.readLength=function(e){if(void 0===e&&(e=this._offset),e>=this._size)return null;var t=255&this._buf[e++];if(null===t)return null;if(128==(128&t)){if(0===(t&=127))throw s("Indefinite length not supported");if(t>4)throw s("encoding too long");if(this._size-e<t)return null;this._len=0;for(var r=0;r<t;r++)this._len=(this._len<<8)+(255&this._buf[e++])}else this._len=t;return e},a.prototype.readSequence=function(e){var t=this.peek();if(null===t)return null;if(void 0!==e&&e!==t)throw s("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var r=this.readLength(this._offset+1);return null===r?null:(this._offset=r,t)},a.prototype.readInt=function(){return this._readTag(o.Integer)},a.prototype.readBoolean=function(){return 0!==this._readTag(o.Boolean)},a.prototype.readEnumeration=function(){return this._readTag(o.Enumeration)},a.prototype.readString=function(e,t){e||(e=o.OctetString);var r=this.peek();if(null===r)return null;if(r!==e)throw s("Expected 0x"+e.toString(16)+": got 0x"+r.toString(16));var n=this.readLength(this._offset+1);if(null===n)return null;if(this.length>this._size-n)return null;if(this._offset=n,0===this.length)return t?i.alloc(0):"";var a=this._buf.slice(this._offset,this._offset+this.length);return this._offset+=this.length,t?a:a.toString("utf8")},a.prototype.readOID=function(e){e||(e=o.OID);var t=this.readString(e,!0);if(null===t)return null;for(var r=[],n=0,i=0;i<t.length;i++){var s=255&t[i];n<<=7,n+=127&s,0==(128&s)&&(r.push(n),n=0)}return n=r.shift(),r.unshift(n%40),r.unshift(n/40>>0),r.join(".")},a.prototype._readTag=function(e){n.ok(void 0!==e);var t=this.peek();if(null===t)return null;if(t!==e)throw s("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var r=this.readLength(this._offset+1);if(null===r)return null;if(this.length>4)throw s("Integer too long: "+this.length);if(this.length>this._size-r)return null;this._offset=r;for(var i=this._buf[this._offset],o=0,a=0;a<this.length;a++)o<<=8,o|=255&this._buf[this._offset++];return 128==(128&i)&&4!==a&&(o-=1<<8*a),o>>0},e.exports=a},function(e,t,r){var n=r(48),i=r(175).Buffer,o=r(90),s=r(89).newInvalidAsn1Error,a={size:1024,growthFactor:8};function c(e){var t,r;t=a,r=e||{},n.ok(t),n.equal(typeof t,"object"),n.ok(r),n.equal(typeof r,"object"),Object.getOwnPropertyNames(t).forEach((function(e){if(!r[e]){var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,n)}})),e=r,this._buf=i.alloc(e.size||1024),this._size=this._buf.length,this._offset=0,this._options=e,this._seq=[]}Object.defineProperty(c.prototype,"buffer",{get:function(){if(this._seq.length)throw s(this._seq.length+" unended sequence(s)");return this._buf.slice(0,this._offset)}}),c.prototype.writeByte=function(e){if("number"!=typeof e)throw new TypeError("argument must be a Number");this._ensure(1),this._buf[this._offset++]=e},c.prototype.writeInt=function(e,t){if("number"!=typeof e)throw new TypeError("argument must be a Number");"number"!=typeof t&&(t=o.Integer);for(var r=4;(0==(4286578688&e)||-8388608==(4286578688&e))&&r>1;)r--,e<<=8;if(r>4)throw s("BER ints cannot be > 0xffffffff");for(this._ensure(2+r),this._buf[this._offset++]=t,this._buf[this._offset++]=r;r-- >0;)this._buf[this._offset++]=(4278190080&e)>>>24,e<<=8},c.prototype.writeNull=function(){this.writeByte(o.Null),this.writeByte(0)},c.prototype.writeEnumeration=function(e,t){if("number"!=typeof e)throw new TypeError("argument must be a Number");return"number"!=typeof t&&(t=o.Enumeration),this.writeInt(e,t)},c.prototype.writeBoolean=function(e,t){if("boolean"!=typeof e)throw new TypeError("argument must be a Boolean");"number"!=typeof t&&(t=o.Boolean),this._ensure(3),this._buf[this._offset++]=t,this._buf[this._offset++]=1,this._buf[this._offset++]=e?255:0},c.prototype.writeString=function(e,t){if("string"!=typeof e)throw new TypeError("argument must be a string (was: "+typeof e+")");"number"!=typeof t&&(t=o.OctetString);var r=i.byteLength(e);this.writeByte(t),this.writeLength(r),r&&(this._ensure(r),this._buf.write(e,this._offset),this._offset+=r)},c.prototype.writeBuffer=function(e,t){if("number"!=typeof t)throw new TypeError("tag must be a number");if(!i.isBuffer(e))throw new TypeError("argument must be a buffer");this.writeByte(t),this.writeLength(e.length),this._ensure(e.length),e.copy(this._buf,this._offset,0,e.length),this._offset+=e.length},c.prototype.writeStringArray=function(e){if(!e instanceof Array)throw new TypeError("argument must be an Array[String]");var t=this;e.forEach((function(e){t.writeString(e)}))},c.prototype.writeOID=function(e,t){if("string"!=typeof e)throw new TypeError("argument must be a string");if("number"!=typeof t&&(t=o.OID),!/^([0-9]+\.){3,}[0-9]+$/.test(e))throw new Error("argument is not a valid OID string");var r=e.split("."),n=[];n.push(40*parseInt(r[0],10)+parseInt(r[1],10)),r.slice(2).forEach((function(e){!function(e,t){t<128?e.push(t):t<16384?(e.push(t>>>7|128),e.push(127&t)):t<2097152?(e.push(t>>>14|128),e.push(255&(t>>>7|128)),e.push(127&t)):t<268435456?(e.push(t>>>21|128),e.push(255&(t>>>14|128)),e.push(255&(t>>>7|128)),e.push(127&t)):(e.push(255&(t>>>28|128)),e.push(255&(t>>>21|128)),e.push(255&(t>>>14|128)),e.push(255&(t>>>7|128)),e.push(127&t))}(n,parseInt(e,10))}));var i=this;this._ensure(2+n.length),this.writeByte(t),this.writeLength(n.length),n.forEach((function(e){i.writeByte(e)}))},c.prototype.writeLength=function(e){if("number"!=typeof e)throw new TypeError("argument must be a Number");if(this._ensure(4),e<=127)this._buf[this._offset++]=e;else if(e<=255)this._buf[this._offset++]=129,this._buf[this._offset++]=e;else if(e<=65535)this._buf[this._offset++]=130,this._buf[this._offset++]=e>>8,this._buf[this._offset++]=e;else{if(!(e<=16777215))throw s("Length too long (> 4 bytes)");this._buf[this._offset++]=131,this._buf[this._offset++]=e>>16,this._buf[this._offset++]=e>>8,this._buf[this._offset++]=e}},c.prototype.startSequence=function(e){"number"!=typeof e&&(e=o.Sequence|o.Constructor),this.writeByte(e),this._seq.push(this._offset),this._ensure(3),this._offset+=3},c.prototype.endSequence=function(){var e=this._seq.pop(),t=e+3,r=this._offset-t;if(r<=127)this._shift(t,r,-2),this._buf[e]=r;else if(r<=255)this._shift(t,r,-1),this._buf[e]=129,this._buf[e+1]=r;else if(r<=65535)this._buf[e]=130,this._buf[e+1]=r>>8,this._buf[e+2]=r;else{if(!(r<=16777215))throw s("Sequence too long");this._shift(t,r,1),this._buf[e]=131,this._buf[e+1]=r>>16,this._buf[e+2]=r>>8,this._buf[e+3]=r}},c.prototype._shift=function(e,t,r){n.ok(void 0!==e),n.ok(void 0!==t),n.ok(r),this._buf.copy(this._buf,e+r,e,e+t),this._offset+=r},c.prototype._ensure=function(e){if(n.ok(e),this._size-this._offset<e){var t=this._size*this._options.growthFactor;t-this._offset<e&&(t+=e);var r=i.alloc(t);this._buf.copy(r,0,0,this._offset),this._buf=r,this._size=t}},e.exports=c},function(e,t,r){"use strict";var n=r(250).lowlevel.crypto_hash,i=0,o=function(){this.S=[new Uint32Array([3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946]),new Uint32Array([1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055]),new Uint32Array([3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504]),new Uint32Array([976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462])],this.P=new Uint32Array([608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731])};function s(e,t,r){return(e[0][t[r+3]]+e[1][t[r+2]]^e[2][t[r+1]])+e[3][t[r]]}function a(e,t){var r,n=0;for(r=0;r<4;r++,i++)i>=t&&(i=0),n=n<<8|e[i];return n}o.prototype.encipher=function(e,t){void 0===t&&(t=new Uint8Array(e.buffer),0!==e.byteOffset&&(t=t.subarray(e.byteOffset))),e[0]^=this.P[0];for(var r=1;r<16;r+=2)e[1]^=s(this.S,t,0)^this.P[r],e[0]^=s(this.S,t,4)^this.P[r+1];var n=e[0];e[0]=e[1]^this.P[17],e[1]=n},o.prototype.decipher=function(e){var t=new Uint8Array(e.buffer);0!==e.byteOffset&&(t=t.subarray(e.byteOffset)),e[0]^=this.P[17];for(var r=16;r>0;r-=2)e[1]^=s(this.S,t,0)^this.P[r],e[0]^=s(this.S,t,4)^this.P[r-1];var n=e[0];e[0]=e[1]^this.P[0],e[1]=n},o.prototype.expand0state=function(e,t){var r,n,o=new Uint32Array(2),s=new Uint8Array(o.buffer);for(r=0,i=0;r<18;r++)this.P[r]^=a(e,t);for(i=0,r=0;r<18;r+=2)this.encipher(o,s),this.P[r]=o[0],this.P[r+1]=o[1];for(r=0;r<4;r++)for(n=0;n<256;n+=2)this.encipher(o,s),this.S[r][n]=o[0],this.S[r][n+1]=o[1]},o.prototype.expandstate=function(e,t,r,n){var o,s,c=new Uint32Array(2);for(o=0,i=0;o<18;o++)this.P[o]^=a(r,n);for(o=0,i=0;o<18;o+=2)c[0]^=a(e,t),c[1]^=a(e,t),this.encipher(c),this.P[o]=c[0],this.P[o+1]=c[1];for(o=0;o<4;o++)for(s=0;s<256;s+=2)c[0]^=a(e,t),c[1]^=a(e,t),this.encipher(c),this.S[o][s]=c[0],this.S[o][s+1]=c[1];i=0},o.prototype.enc=function(e,t){for(var r=0;r<t;r++)this.encipher(e.subarray(2*r))},o.prototype.dec=function(e,t){for(var r=0;r<t;r++)this.decipher(e.subarray(2*r))};var c=8,u=32;function l(e,t,r){var n,i=new o,s=new Uint32Array(c),u=new Uint8Array([79,120,121,99,104,114,111,109,97,116,105,99,66,108,111,119,102,105,115,104,83,119,97,116,68,121,110,97,109,105,116,101]);for(i.expandstate(t,64,e,64),n=0;n<64;n++)i.expand0state(t,64),i.expand0state(e,64);for(n=0;n<c;n++)s[n]=a(u,u.byteLength);for(n=0;n<64;n++)i.enc(s,s.byteLength/8);for(n=0;n<c;n++)r[4*n+3]=s[n]>>>24,r[4*n+2]=s[n]>>>16,r[4*n+1]=s[n]>>>8,r[4*n+0]=s[n]}e.exports={BLOCKS:c,HASHSIZE:u,hash:l,pbkdf:function(e,t,r,i,o,s,a){var c,h,f,p,d,m,g=new Uint8Array(64),v=new Uint8Array(64),y=new Uint8Array(u),w=new Uint8Array(u),b=new Uint8Array(i+4),E=s;if(a<1)return-1;if(0===t||0===i||0===s||s>y.byteLength*y.byteLength||i>1<<20)return-1;for(p=Math.floor((s+y.byteLength-1)/y.byteLength),f=Math.floor((s+p-1)/p),c=0;c<i;c++)b[c]=r[c];for(n(g,e,t),m=1;s>0;m++){for(b[i+0]=m>>>24,b[i+1]=m>>>16,b[i+2]=m>>>8,b[i+3]=m,n(v,b,i+4),l(g,v,w),c=y.byteLength;c--;)y[c]=w[c];for(c=1;c<a;c++)for(n(v,w,w.byteLength),l(g,v,w),h=0;h<y.byteLength;h++)y[h]^=w[h];for(f=Math.min(f,s),c=0;c<f&&!((d=c*p+(m-1))>=E);c++)o[d]=y[c];s-=c}return 0}}},function(e,t,r){!function(e){"use strict";var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var s=t(),a=t([1]),c=t([56129,1]),u=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function m(e,t,r,n,i){var o,s=0;for(o=0;o<i;o++)s|=e[t+o]^r[n+o];return(1&s-1>>>8)-1}function g(e,t,r,n){return m(e,t,r,n,16)}function v(e,t,r,n){return m(e,t,r,n,32)}function y(e,t,r,n){!function(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,p=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,d=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,v=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,E=o,_=s,C=a,S=c,k=u,x=l,D=h,A=f,T=p,R=d,I=m,P=g,O=v,F=y,N=w,L=b,B=0;B<20;B+=2)E^=(i=(O^=(i=(T^=(i=(k^=(i=E+O|0)<<7|i>>>25)+E|0)<<9|i>>>23)+k|0)<<13|i>>>19)+T|0)<<18|i>>>14,x^=(i=(_^=(i=(F^=(i=(R^=(i=x+_|0)<<7|i>>>25)+x|0)<<9|i>>>23)+R|0)<<13|i>>>19)+F|0)<<18|i>>>14,I^=(i=(D^=(i=(C^=(i=(N^=(i=I+D|0)<<7|i>>>25)+I|0)<<9|i>>>23)+N|0)<<13|i>>>19)+C|0)<<18|i>>>14,L^=(i=(P^=(i=(A^=(i=(S^=(i=L+P|0)<<7|i>>>25)+L|0)<<9|i>>>23)+S|0)<<13|i>>>19)+A|0)<<18|i>>>14,E^=(i=(S^=(i=(C^=(i=(_^=(i=E+S|0)<<7|i>>>25)+E|0)<<9|i>>>23)+_|0)<<13|i>>>19)+C|0)<<18|i>>>14,x^=(i=(k^=(i=(A^=(i=(D^=(i=x+k|0)<<7|i>>>25)+x|0)<<9|i>>>23)+D|0)<<13|i>>>19)+A|0)<<18|i>>>14,I^=(i=(R^=(i=(T^=(i=(P^=(i=I+R|0)<<7|i>>>25)+I|0)<<9|i>>>23)+P|0)<<13|i>>>19)+T|0)<<18|i>>>14,L^=(i=(N^=(i=(F^=(i=(O^=(i=L+N|0)<<7|i>>>25)+L|0)<<9|i>>>23)+O|0)<<13|i>>>19)+F|0)<<18|i>>>14;E=E+o|0,_=_+s|0,C=C+a|0,S=S+c|0,k=k+u|0,x=x+l|0,D=D+h|0,A=A+f|0,T=T+p|0,R=R+d|0,I=I+m|0,P=P+g|0,O=O+v|0,F=F+y|0,N=N+w|0,L=L+b|0,e[0]=E>>>0&255,e[1]=E>>>8&255,e[2]=E>>>16&255,e[3]=E>>>24&255,e[4]=_>>>0&255,e[5]=_>>>8&255,e[6]=_>>>16&255,e[7]=_>>>24&255,e[8]=C>>>0&255,e[9]=C>>>8&255,e[10]=C>>>16&255,e[11]=C>>>24&255,e[12]=S>>>0&255,e[13]=S>>>8&255,e[14]=S>>>16&255,e[15]=S>>>24&255,e[16]=k>>>0&255,e[17]=k>>>8&255,e[18]=k>>>16&255,e[19]=k>>>24&255,e[20]=x>>>0&255,e[21]=x>>>8&255,e[22]=x>>>16&255,e[23]=x>>>24&255,e[24]=D>>>0&255,e[25]=D>>>8&255,e[26]=D>>>16&255,e[27]=D>>>24&255,e[28]=A>>>0&255,e[29]=A>>>8&255,e[30]=A>>>16&255,e[31]=A>>>24&255,e[32]=T>>>0&255,e[33]=T>>>8&255,e[34]=T>>>16&255,e[35]=T>>>24&255,e[36]=R>>>0&255,e[37]=R>>>8&255,e[38]=R>>>16&255,e[39]=R>>>24&255,e[40]=I>>>0&255,e[41]=I>>>8&255,e[42]=I>>>16&255,e[43]=I>>>24&255,e[44]=P>>>0&255,e[45]=P>>>8&255,e[46]=P>>>16&255,e[47]=P>>>24&255,e[48]=O>>>0&255,e[49]=O>>>8&255,e[50]=O>>>16&255,e[51]=O>>>24&255,e[52]=F>>>0&255,e[53]=F>>>8&255,e[54]=F>>>16&255,e[55]=F>>>24&255,e[56]=N>>>0&255,e[57]=N>>>8&255,e[58]=N>>>16&255,e[59]=N>>>24&255,e[60]=L>>>0&255,e[61]=L>>>8&255,e[62]=L>>>16&255,e[63]=L>>>24&255}(e,t,r,n)}function w(e,t,r,n){!function(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,p=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,d=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,v=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,E=0;E<20;E+=2)o^=(i=(v^=(i=(p^=(i=(u^=(i=o+v|0)<<7|i>>>25)+o|0)<<9|i>>>23)+u|0)<<13|i>>>19)+p|0)<<18|i>>>14,l^=(i=(s^=(i=(y^=(i=(d^=(i=l+s|0)<<7|i>>>25)+l|0)<<9|i>>>23)+d|0)<<13|i>>>19)+y|0)<<18|i>>>14,m^=(i=(h^=(i=(a^=(i=(w^=(i=m+h|0)<<7|i>>>25)+m|0)<<9|i>>>23)+w|0)<<13|i>>>19)+a|0)<<18|i>>>14,b^=(i=(g^=(i=(f^=(i=(c^=(i=b+g|0)<<7|i>>>25)+b|0)<<9|i>>>23)+c|0)<<13|i>>>19)+f|0)<<18|i>>>14,o^=(i=(c^=(i=(a^=(i=(s^=(i=o+c|0)<<7|i>>>25)+o|0)<<9|i>>>23)+s|0)<<13|i>>>19)+a|0)<<18|i>>>14,l^=(i=(u^=(i=(f^=(i=(h^=(i=l+u|0)<<7|i>>>25)+l|0)<<9|i>>>23)+h|0)<<13|i>>>19)+f|0)<<18|i>>>14,m^=(i=(d^=(i=(p^=(i=(g^=(i=m+d|0)<<7|i>>>25)+m|0)<<9|i>>>23)+g|0)<<13|i>>>19)+p|0)<<18|i>>>14,b^=(i=(w^=(i=(y^=(i=(v^=(i=b+w|0)<<7|i>>>25)+b|0)<<9|i>>>23)+v|0)<<13|i>>>19)+y|0)<<18|i>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=l>>>0&255,e[5]=l>>>8&255,e[6]=l>>>16&255,e[7]=l>>>24&255,e[8]=m>>>0&255,e[9]=m>>>8&255,e[10]=m>>>16&255,e[11]=m>>>24&255,e[12]=b>>>0&255,e[13]=b>>>8&255,e[14]=b>>>16&255,e[15]=b>>>24&255,e[16]=h>>>0&255,e[17]=h>>>8&255,e[18]=h>>>16&255,e[19]=h>>>24&255,e[20]=f>>>0&255,e[21]=f>>>8&255,e[22]=f>>>16&255,e[23]=f>>>24&255,e[24]=p>>>0&255,e[25]=p>>>8&255,e[26]=p>>>16&255,e[27]=p>>>24&255,e[28]=d>>>0&255,e[29]=d>>>8&255,e[30]=d>>>16&255,e[31]=d>>>24&255}(e,t,r,n)}var b=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function E(e,t,r,n,i,o,s){var a,c,u=new Uint8Array(16),l=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=o[c];for(;i>=64;){for(y(l,u,s,b),c=0;c<64;c++)e[t+c]=r[n+c]^l[c];for(a=1,c=8;c<16;c++)a=a+(255&u[c])|0,u[c]=255&a,a>>>=8;i-=64,t+=64,n+=64}if(i>0)for(y(l,u,s,b),c=0;c<i;c++)e[t+c]=r[n+c]^l[c];return 0}function _(e,t,r,n,i){var o,s,a=new Uint8Array(16),c=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=n[s];for(;r>=64;){for(y(c,a,i,b),s=0;s<64;s++)e[t+s]=c[s];for(o=1,s=8;s<16;s++)o=o+(255&a[s])|0,a[s]=255&o,o>>>=8;r-=64,t+=64}if(r>0)for(y(c,a,i,b),s=0;s<r;s++)e[t+s]=c[s];return 0}function C(e,t,r,n,i){var o=new Uint8Array(32);w(o,n,i,b);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=n[a+16];return _(e,t,r,s,o)}function S(e,t,r,n,i,o,s){var a=new Uint8Array(32);w(a,o,s,b);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=o[u+16];return E(e,t,r,n,i,c,a)}var k=function(e){var t,r,n,i,o,s,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|i<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,s=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|s<<2),a=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(s>>>11|a<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function x(e,t,r,n,i,o){var s=new k(o);return s.update(r,n,i),s.finish(e,t),0}function D(e,t,r,n,i,o){var s=new Uint8Array(16);return x(s,0,r,n,i,o),g(e,t,s,0)}function A(e,t,r,n,i){var o;if(r<32)return-1;for(S(e,0,t,0,r,n,i),x(e,16,e,32,r-32,e),o=0;o<16;o++)e[o]=0;return 0}function T(e,t,r,n,i){var o,s=new Uint8Array(32);if(r<32)return-1;if(C(s,0,32,n,i),0!==D(t,16,t,32,r-32,s))return-1;for(S(e,0,t,0,r,n,i),o=0;o<32;o++)e[o]=0;return 0}function R(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function I(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function P(e,t,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(e[o]^t[o]),e[o]^=n,t[o]^=n}function O(e,r){var n,i,o,s=t(),a=t();for(n=0;n<16;n++)a[n]=r[n];for(I(a),I(a),I(a),i=0;i<2;i++){for(s[0]=a[0]-65517,n=1;n<15;n++)s[n]=a[n]-65535-(s[n-1]>>16&1),s[n-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),o=s[15]>>16&1,s[14]&=65535,P(a,s,1-o)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function F(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return O(r,e),O(n,t),v(r,0,n,0)}function N(e){var t=new Uint8Array(32);return O(t,e),1&t[0]}function L(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function B(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function M(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function U(e,t,r){var n,i,o=0,s=0,a=0,c=0,u=0,l=0,h=0,f=0,p=0,d=0,m=0,g=0,v=0,y=0,w=0,b=0,E=0,_=0,C=0,S=0,k=0,x=0,D=0,A=0,T=0,R=0,I=0,P=0,O=0,F=0,N=0,L=r[0],B=r[1],M=r[2],U=r[3],j=r[4],H=r[5],q=r[6],$=r[7],G=r[8],W=r[9],z=r[10],V=r[11],K=r[12],X=r[13],Y=r[14],J=r[15];o+=(n=t[0])*L,s+=n*B,a+=n*M,c+=n*U,u+=n*j,l+=n*H,h+=n*q,f+=n*$,p+=n*G,d+=n*W,m+=n*z,g+=n*V,v+=n*K,y+=n*X,w+=n*Y,b+=n*J,s+=(n=t[1])*L,a+=n*B,c+=n*M,u+=n*U,l+=n*j,h+=n*H,f+=n*q,p+=n*$,d+=n*G,m+=n*W,g+=n*z,v+=n*V,y+=n*K,w+=n*X,b+=n*Y,E+=n*J,a+=(n=t[2])*L,c+=n*B,u+=n*M,l+=n*U,h+=n*j,f+=n*H,p+=n*q,d+=n*$,m+=n*G,g+=n*W,v+=n*z,y+=n*V,w+=n*K,b+=n*X,E+=n*Y,_+=n*J,c+=(n=t[3])*L,u+=n*B,l+=n*M,h+=n*U,f+=n*j,p+=n*H,d+=n*q,m+=n*$,g+=n*G,v+=n*W,y+=n*z,w+=n*V,b+=n*K,E+=n*X,_+=n*Y,C+=n*J,u+=(n=t[4])*L,l+=n*B,h+=n*M,f+=n*U,p+=n*j,d+=n*H,m+=n*q,g+=n*$,v+=n*G,y+=n*W,w+=n*z,b+=n*V,E+=n*K,_+=n*X,C+=n*Y,S+=n*J,l+=(n=t[5])*L,h+=n*B,f+=n*M,p+=n*U,d+=n*j,m+=n*H,g+=n*q,v+=n*$,y+=n*G,w+=n*W,b+=n*z,E+=n*V,_+=n*K,C+=n*X,S+=n*Y,k+=n*J,h+=(n=t[6])*L,f+=n*B,p+=n*M,d+=n*U,m+=n*j,g+=n*H,v+=n*q,y+=n*$,w+=n*G,b+=n*W,E+=n*z,_+=n*V,C+=n*K,S+=n*X,k+=n*Y,x+=n*J,f+=(n=t[7])*L,p+=n*B,d+=n*M,m+=n*U,g+=n*j,v+=n*H,y+=n*q,w+=n*$,b+=n*G,E+=n*W,_+=n*z,C+=n*V,S+=n*K,k+=n*X,x+=n*Y,D+=n*J,p+=(n=t[8])*L,d+=n*B,m+=n*M,g+=n*U,v+=n*j,y+=n*H,w+=n*q,b+=n*$,E+=n*G,_+=n*W,C+=n*z,S+=n*V,k+=n*K,x+=n*X,D+=n*Y,A+=n*J,d+=(n=t[9])*L,m+=n*B,g+=n*M,v+=n*U,y+=n*j,w+=n*H,b+=n*q,E+=n*$,_+=n*G,C+=n*W,S+=n*z,k+=n*V,x+=n*K,D+=n*X,A+=n*Y,T+=n*J,m+=(n=t[10])*L,g+=n*B,v+=n*M,y+=n*U,w+=n*j,b+=n*H,E+=n*q,_+=n*$,C+=n*G,S+=n*W,k+=n*z,x+=n*V,D+=n*K,A+=n*X,T+=n*Y,R+=n*J,g+=(n=t[11])*L,v+=n*B,y+=n*M,w+=n*U,b+=n*j,E+=n*H,_+=n*q,C+=n*$,S+=n*G,k+=n*W,x+=n*z,D+=n*V,A+=n*K,T+=n*X,R+=n*Y,I+=n*J,v+=(n=t[12])*L,y+=n*B,w+=n*M,b+=n*U,E+=n*j,_+=n*H,C+=n*q,S+=n*$,k+=n*G,x+=n*W,D+=n*z,A+=n*V,T+=n*K,R+=n*X,I+=n*Y,P+=n*J,y+=(n=t[13])*L,w+=n*B,b+=n*M,E+=n*U,_+=n*j,C+=n*H,S+=n*q,k+=n*$,x+=n*G,D+=n*W,A+=n*z,T+=n*V,R+=n*K,I+=n*X,P+=n*Y,O+=n*J,w+=(n=t[14])*L,b+=n*B,E+=n*M,_+=n*U,C+=n*j,S+=n*H,k+=n*q,x+=n*$,D+=n*G,A+=n*W,T+=n*z,R+=n*V,I+=n*K,P+=n*X,O+=n*Y,F+=n*J,b+=(n=t[15])*L,s+=38*(_+=n*M),a+=38*(C+=n*U),c+=38*(S+=n*j),u+=38*(k+=n*H),l+=38*(x+=n*q),h+=38*(D+=n*$),f+=38*(A+=n*G),p+=38*(T+=n*W),d+=38*(R+=n*z),m+=38*(I+=n*V),g+=38*(P+=n*K),v+=38*(O+=n*X),y+=38*(F+=n*Y),w+=38*(N+=n*J),o=(n=(o+=38*(E+=n*B))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=s,e[2]=a,e[3]=c,e[4]=u,e[5]=l,e[6]=h,e[7]=f,e[8]=p,e[9]=d,e[10]=m,e[11]=g,e[12]=v,e[13]=y,e[14]=w,e[15]=b}function j(e,t){U(e,t,t)}function H(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)j(i,i),2!==n&&4!==n&&U(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function q(e,r,n){var i,o,s=new Uint8Array(32),a=new Float64Array(80),u=t(),l=t(),h=t(),f=t(),p=t(),d=t();for(o=0;o<31;o++)s[o]=r[o];for(s[31]=127&r[31]|64,s[0]&=248,L(a,n),o=0;o<16;o++)l[o]=a[o],f[o]=u[o]=h[o]=0;for(u[0]=f[0]=1,o=254;o>=0;--o)P(u,l,i=s[o>>>3]>>>(7&o)&1),P(h,f,i),B(p,u,h),M(u,u,h),B(h,l,f),M(l,l,f),j(f,p),j(d,u),U(u,h,u),U(h,l,p),B(p,u,h),M(u,u,h),j(l,u),M(h,f,d),U(u,h,c),B(u,u,f),U(h,h,u),U(u,f,d),U(f,l,a),j(l,p),P(u,l,i),P(h,f,i);for(o=0;o<16;o++)a[o+16]=u[o],a[o+32]=h[o],a[o+48]=l[o],a[o+64]=f[o];var m=a.subarray(32),g=a.subarray(16);return H(m,m),U(g,g,m),O(e,g),0}function $(e,t){return q(e,t,o)}function G(e,t){return n(t,32),$(e,t)}function W(e,t,r){var n=new Uint8Array(32);return q(n,r,t),w(e,i,n,b)}k.prototype.blocks=function(e,t,r){for(var n,i,o,s,a,c,u,l,h,f,p,d,m,g,v,y,w,b,E,_=this.fin?0:2048,C=this.h[0],S=this.h[1],k=this.h[2],x=this.h[3],D=this.h[4],A=this.h[5],T=this.h[6],R=this.h[7],I=this.h[8],P=this.h[9],O=this.r[0],F=this.r[1],N=this.r[2],L=this.r[3],B=this.r[4],M=this.r[5],U=this.r[6],j=this.r[7],H=this.r[8],q=this.r[9];r>=16;)f=h=0,f+=(C+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*O,f+=(S+=8191&(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*q),f+=(k+=8191&(i>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*H),f+=(x+=8191&(o>>>7|(s=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*j),h=(f+=(D+=8191&(s>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*U))>>>13,f&=8191,f+=(A+=a>>>1&8191)*(5*M),f+=(T+=8191&(a>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*B),f+=(R+=8191&(c>>>11|(u=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*L),f+=(I+=8191&(u>>>8|(l=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*N),p=h+=(f+=(P+=l>>>5|_)*(5*F))>>>13,p+=C*F,p+=S*O,p+=k*(5*q),p+=x*(5*H),h=(p+=D*(5*j))>>>13,p&=8191,p+=A*(5*U),p+=T*(5*M),p+=R*(5*B),p+=I*(5*L),h+=(p+=P*(5*N))>>>13,p&=8191,d=h,d+=C*N,d+=S*F,d+=k*O,d+=x*(5*q),h=(d+=D*(5*H))>>>13,d&=8191,d+=A*(5*j),d+=T*(5*U),d+=R*(5*M),d+=I*(5*B),m=h+=(d+=P*(5*L))>>>13,m+=C*L,m+=S*N,m+=k*F,m+=x*O,h=(m+=D*(5*q))>>>13,m&=8191,m+=A*(5*H),m+=T*(5*j),m+=R*(5*U),m+=I*(5*M),g=h+=(m+=P*(5*B))>>>13,g+=C*B,g+=S*L,g+=k*N,g+=x*F,h=(g+=D*O)>>>13,g&=8191,g+=A*(5*q),g+=T*(5*H),g+=R*(5*j),g+=I*(5*U),v=h+=(g+=P*(5*M))>>>13,v+=C*M,v+=S*B,v+=k*L,v+=x*N,h=(v+=D*F)>>>13,v&=8191,v+=A*O,v+=T*(5*q),v+=R*(5*H),v+=I*(5*j),y=h+=(v+=P*(5*U))>>>13,y+=C*U,y+=S*M,y+=k*B,y+=x*L,h=(y+=D*N)>>>13,y&=8191,y+=A*F,y+=T*O,y+=R*(5*q),y+=I*(5*H),w=h+=(y+=P*(5*j))>>>13,w+=C*j,w+=S*U,w+=k*M,w+=x*B,h=(w+=D*L)>>>13,w&=8191,w+=A*N,w+=T*F,w+=R*O,w+=I*(5*q),b=h+=(w+=P*(5*H))>>>13,b+=C*H,b+=S*j,b+=k*U,b+=x*M,h=(b+=D*B)>>>13,b&=8191,b+=A*L,b+=T*N,b+=R*F,b+=I*O,E=h+=(b+=P*(5*q))>>>13,E+=C*q,E+=S*H,E+=k*j,E+=x*U,h=(E+=D*M)>>>13,E&=8191,E+=A*B,E+=T*L,E+=R*N,E+=I*F,C=f=8191&(h=(h=((h+=(E+=P*O)>>>13)<<2)+h|0)+(f&=8191)|0),S=p+=h>>>=13,k=d&=8191,x=m&=8191,D=g&=8191,A=v&=8191,T=y&=8191,R=w&=8191,I=b&=8191,P=E&=8191,t+=16,r-=16;this.h[0]=C,this.h[1]=S,this.h[2]=k,this.h[3]=x,this.h[4]=D,this.h[5]=A,this.h[6]=T,this.h[7]=R,this.h[8]=I,this.h[9]=P},k.prototype.finish=function(e,t){var r,n,i,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,s[0]=this.h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,n=(1^r)-1,o=0;o<10;o++)s[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|s[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},k.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var z=A,V=T;var K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function X(e,t,r,n){for(var i,o,s,a,c,u,l,h,f,p,d,m,g,v,y,w,b,E,_,C,S,k,x,D,A,T,R=new Int32Array(16),I=new Int32Array(16),P=e[0],O=e[1],F=e[2],N=e[3],L=e[4],B=e[5],M=e[6],U=e[7],j=t[0],H=t[1],q=t[2],$=t[3],G=t[4],W=t[5],z=t[6],V=t[7],X=0;n>=128;){for(_=0;_<16;_++)C=8*_+X,R[_]=r[C+0]<<24|r[C+1]<<16|r[C+2]<<8|r[C+3],I[_]=r[C+4]<<24|r[C+5]<<16|r[C+6]<<8|r[C+7];for(_=0;_<80;_++)if(i=P,o=O,s=F,a=N,c=L,u=B,l=M,U,f=j,p=H,d=q,m=$,g=G,v=W,y=z,V,x=65535&(k=V),D=k>>>16,A=65535&(S=U),T=S>>>16,x+=65535&(k=(G>>>14|L<<18)^(G>>>18|L<<14)^(L>>>9|G<<23)),D+=k>>>16,A+=65535&(S=(L>>>14|G<<18)^(L>>>18|G<<14)^(G>>>9|L<<23)),T+=S>>>16,x+=65535&(k=G&W^~G&z),D+=k>>>16,A+=65535&(S=L&B^~L&M),T+=S>>>16,S=K[2*_],x+=65535&(k=K[2*_+1]),D+=k>>>16,A+=65535&S,T+=S>>>16,S=R[_%16],D+=(k=I[_%16])>>>16,A+=65535&S,T+=S>>>16,A+=(D+=(x+=65535&k)>>>16)>>>16,x=65535&(k=E=65535&x|D<<16),D=k>>>16,A=65535&(S=b=65535&A|(T+=A>>>16)<<16),T=S>>>16,x+=65535&(k=(j>>>28|P<<4)^(P>>>2|j<<30)^(P>>>7|j<<25)),D+=k>>>16,A+=65535&(S=(P>>>28|j<<4)^(j>>>2|P<<30)^(j>>>7|P<<25)),T+=S>>>16,D+=(k=j&H^j&q^H&q)>>>16,A+=65535&(S=P&O^P&F^O&F),T+=S>>>16,h=65535&(A+=(D+=(x+=65535&k)>>>16)>>>16)|(T+=A>>>16)<<16,w=65535&x|D<<16,x=65535&(k=m),D=k>>>16,A=65535&(S=a),T=S>>>16,D+=(k=E)>>>16,A+=65535&(S=b),T+=S>>>16,O=i,F=o,N=s,L=a=65535&(A+=(D+=(x+=65535&k)>>>16)>>>16)|(T+=A>>>16)<<16,B=c,M=u,U=l,P=h,H=f,q=p,$=d,G=m=65535&x|D<<16,W=g,z=v,V=y,j=w,_%16==15)for(C=0;C<16;C++)S=R[C],x=65535&(k=I[C]),D=k>>>16,A=65535&S,T=S>>>16,S=R[(C+9)%16],x+=65535&(k=I[(C+9)%16]),D+=k>>>16,A+=65535&S,T+=S>>>16,b=R[(C+1)%16],x+=65535&(k=((E=I[(C+1)%16])>>>1|b<<31)^(E>>>8|b<<24)^(E>>>7|b<<25)),D+=k>>>16,A+=65535&(S=(b>>>1|E<<31)^(b>>>8|E<<24)^b>>>7),T+=S>>>16,b=R[(C+14)%16],D+=(k=((E=I[(C+14)%16])>>>19|b<<13)^(b>>>29|E<<3)^(E>>>6|b<<26))>>>16,A+=65535&(S=(b>>>19|E<<13)^(E>>>29|b<<3)^b>>>6),T+=S>>>16,T+=(A+=(D+=(x+=65535&k)>>>16)>>>16)>>>16,R[C]=65535&A|T<<16,I[C]=65535&x|D<<16;x=65535&(k=j),D=k>>>16,A=65535&(S=P),T=S>>>16,S=e[0],D+=(k=t[0])>>>16,A+=65535&S,T+=S>>>16,T+=(A+=(D+=(x+=65535&k)>>>16)>>>16)>>>16,e[0]=P=65535&A|T<<16,t[0]=j=65535&x|D<<16,x=65535&(k=H),D=k>>>16,A=65535&(S=O),T=S>>>16,S=e[1],D+=(k=t[1])>>>16,A+=65535&S,T+=S>>>16,T+=(A+=(D+=(x+=65535&k)>>>16)>>>16)>>>16,e[1]=O=65535&A|T<<16,t[1]=H=65535&x|D<<16,x=65535&(k=q),D=k>>>16,A=65535&(S=F),T=S>>>16,S=e[2],D+=(k=t[2])>>>16,A+=65535&S,T+=S>>>16,T+=(A+=(D+=(x+=65535&k)>>>16)>>>16)>>>16,e[2]=F=65535&A|T<<16,t[2]=q=65535&x|D<<16,x=65535&(k=$),D=k>>>16,A=65535&(S=N),T=S>>>16,S=e[3],D+=(k=t[3])>>>16,A+=65535&S,T+=S>>>16,T+=(A+=(D+=(x+=65535&k)>>>16)>>>16)>>>16,e[3]=N=65535&A|T<<16,t[3]=$=65535&x|D<<16,x=65535&(k=G),D=k>>>16,A=65535&(S=L),T=S>>>16,S=e[4],D+=(k=t[4])>>>16,A+=65535&S,T+=S>>>16,T+=(A+=(D+=(x+=65535&k)>>>16)>>>16)>>>16,e[4]=L=65535&A|T<<16,t[4]=G=65535&x|D<<16,x=65535&(k=W),D=k>>>16,A=65535&(S=B),T=S>>>16,S=e[5],D+=(k=t[5])>>>16,A+=65535&S,T+=S>>>16,T+=(A+=(D+=(x+=65535&k)>>>16)>>>16)>>>16,e[5]=B=65535&A|T<<16,t[5]=W=65535&x|D<<16,x=65535&(k=z),D=k>>>16,A=65535&(S=M),T=S>>>16,S=e[6],D+=(k=t[6])>>>16,A+=65535&S,T+=S>>>16,T+=(A+=(D+=(x+=65535&k)>>>16)>>>16)>>>16,e[6]=M=65535&A|T<<16,t[6]=z=65535&x|D<<16,x=65535&(k=V),D=k>>>16,A=65535&(S=U),T=S>>>16,S=e[7],D+=(k=t[7])>>>16,A+=65535&S,T+=S>>>16,T+=(A+=(D+=(x+=65535&k)>>>16)>>>16)>>>16,e[7]=U=65535&A|T<<16,t[7]=V=65535&x|D<<16,X+=128,n-=128}return n}function Y(e,t,r){var n,i=new Int32Array(8),o=new Int32Array(8),s=new Uint8Array(256),a=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,X(i,o,t,r),r%=128,n=0;n<r;n++)s[n]=t[a-r+n];for(s[r]=128,s[(r=256-128*(r<112?1:0))-9]=0,d(s,r-8,a/536870912|0,a<<3),X(i,o,s,r),n=0;n<8;n++)d(e,8*n,i[n],o[n]);return 0}function J(e,r){var n=t(),i=t(),o=t(),s=t(),a=t(),c=t(),u=t(),h=t(),f=t();M(n,e[1],e[0]),M(f,r[1],r[0]),U(n,n,f),B(i,e[0],e[1]),B(f,r[0],r[1]),U(i,i,f),U(o,e[3],r[3]),U(o,o,l),U(s,e[2],r[2]),B(s,s,s),M(a,i,n),M(c,s,o),B(u,s,o),B(h,i,n),U(e[0],a,c),U(e[1],h,u),U(e[2],u,c),U(e[3],a,h)}function Q(e,t,r){var n;for(n=0;n<4;n++)P(e[n],t[n],r)}function Z(e,r){var n=t(),i=t(),o=t();H(o,r[2]),U(n,r[0],o),U(i,r[1],o),O(e,i),e[31]^=N(n)<<7}function ee(e,t,r){var n,i;for(R(e[0],s),R(e[1],a),R(e[2],a),R(e[3],s),i=255;i>=0;--i)Q(e,t,n=r[i/8|0]>>(7&i)&1),J(t,e),J(e,e),Q(e,t,n)}function te(e,r){var n=[t(),t(),t(),t()];R(n[0],h),R(n[1],f),R(n[2],a),U(n[3],h,f),ee(e,n,r)}function re(e,r,i){var o,s=new Uint8Array(64),a=[t(),t(),t(),t()];for(i||n(r,32),Y(s,r,32),s[0]&=248,s[31]&=127,s[31]|=64,te(a,s),Z(e,a),o=0;o<32;o++)r[o+32]=e[o];return 0}var ne=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ie(e,t){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)t[i]+=r-16*t[n]*ne[i-(n-32)],r=t[i]+128>>8,t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*ne[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*ne[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function oe(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;ie(e,r)}function se(e,r,n,i){var o,s,a=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),l=new Float64Array(64),h=[t(),t(),t(),t()];Y(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64;var f=n+64;for(o=0;o<n;o++)e[64+o]=r[o];for(o=0;o<32;o++)e[32+o]=a[32+o];for(Y(u,e.subarray(32),n+32),oe(u),te(h,u),Z(e,h),o=32;o<64;o++)e[o]=i[o];for(Y(c,e,n+64),oe(c),o=0;o<64;o++)l[o]=0;for(o=0;o<32;o++)l[o]=u[o];for(o=0;o<32;o++)for(s=0;s<32;s++)l[o+s]+=c[o]*a[s];return ie(e.subarray(32),l),f}function ae(e,r){var n=t(),i=t(),o=t(),c=t(),l=t(),h=t(),f=t();return R(e[2],a),L(e[1],r),j(o,e[1]),U(c,o,u),M(o,o,e[2]),B(c,e[2],c),j(l,c),j(h,l),U(f,h,l),U(n,f,o),U(n,n,c),function(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)j(i,i),1!==n&&U(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}(n,n),U(n,n,o),U(n,n,c),U(n,n,c),U(e[0],n,c),j(i,e[0]),U(i,i,c),F(i,o)&&U(e[0],e[0],p),j(i,e[0]),U(i,i,c),F(i,o)?-1:(N(e[0])===r[31]>>7&&M(e[0],s,e[0]),U(e[3],e[0],e[1]),0)}function ce(e,r,n,i){var o,s=new Uint8Array(32),a=new Uint8Array(64),c=[t(),t(),t(),t()],u=[t(),t(),t(),t()];if(-1,n<64)return-1;if(ae(u,i))return-1;for(o=0;o<n;o++)e[o]=r[o];for(o=0;o<32;o++)e[o+32]=i[o];if(Y(a,e,n),oe(a),ee(c,u,a),te(u,r.subarray(32)),J(c,u),Z(s,c),n-=64,v(r,0,s,0)){for(o=0;o<n;o++)e[o]=0;return-1}for(o=0;o<n;o++)e[o]=r[o+64];return n}var ue=32,le=24,he=32,fe=32,pe=le;function de(e,t){if(e.length!==ue)throw new Error("bad key size");if(t.length!==le)throw new Error("bad nonce size")}function me(){var e,t;for(t=0;t<arguments.length;t++)if("[object Uint8Array]"!==(e=Object.prototype.toString.call(arguments[t])))throw new TypeError("unexpected type "+e+", use Uint8Array")}function ge(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:w,crypto_stream_xor:S,crypto_stream:C,crypto_stream_salsa20_xor:E,crypto_stream_salsa20:_,crypto_onetimeauth:x,crypto_onetimeauth_verify:D,crypto_verify_16:g,crypto_verify_32:v,crypto_secretbox:A,crypto_secretbox_open:T,crypto_scalarmult:q,crypto_scalarmult_base:$,crypto_box_beforenm:W,crypto_box_afternm:z,crypto_box:function(e,t,r,n,i,o){var s=new Uint8Array(32);return W(s,i,o),z(e,t,r,n,s)},crypto_box_open:function(e,t,r,n,i,o){var s=new Uint8Array(32);return W(s,i,o),V(e,t,r,n,s)},crypto_box_keypair:G,crypto_hash:Y,crypto_sign:se,crypto_sign_keypair:re,crypto_sign_open:ce,crypto_secretbox_KEYBYTES:ue,crypto_secretbox_NONCEBYTES:le,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:he,crypto_box_SECRETKEYBYTES:fe,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:pe,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64},e.util||(e.util={},e.util.decodeUTF8=e.util.encodeUTF8=e.util.encodeBase64=e.util.decodeBase64=function(){throw new Error("nacl.util moved into separate package: https://github.com/dchest/tweetnacl-util-js")}),e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,r){me(e,t,r),de(r,t);for(var n=new Uint8Array(32+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+32]=e[o];return A(i,n,n.length,t,r),i.subarray(16)},e.secretbox.open=function(e,t,r){me(e,t,r),de(r,t);for(var n=new Uint8Array(16+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+16]=e[o];return!(n.length<32)&&(0===T(i,n,n.length,t,r)&&i.subarray(32))},e.secretbox.keyLength=ue,e.secretbox.nonceLength=le,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(me(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return q(r,e,t),r},e.scalarMult.base=function(e){if(me(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return $(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox(t,r,o)},e.box.before=function(e,t){me(e,t),function(e,t){if(e.length!==he)throw new Error("bad public key size");if(t.length!==fe)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return W(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox.open(t,r,o)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(he),t=new Uint8Array(fe);return G(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(me(e),e.length!==fe)throw new Error("bad secret key size");var t=new Uint8Array(he);return $(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=he,e.box.secretKeyLength=fe,e.box.sharedKeyLength=32,e.box.nonceLength=pe,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(me(e,t),64!==t.length)throw new Error("bad secret key size");var r=new Uint8Array(64+e.length);return se(r,e,e.length,t),r},e.sign.open=function(e,t){if(2!==arguments.length)throw new Error("nacl.sign.open accepts 2 arguments; did you mean to use nacl.sign.detached.verify?");if(me(e,t),32!==t.length)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=ce(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),o=0;o<i.length;o++)i[o]=r[o];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(64),o=0;o<i.length;o++)i[o]=n[o];return i},e.sign.detached.verify=function(e,t,r){if(me(e,t,r),64!==t.length)throw new Error("bad signature size");if(32!==r.length)throw new Error("bad public key size");var n,i=new Uint8Array(64+e.length),o=new Uint8Array(64+e.length);for(n=0;n<64;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+64]=e[n];return ce(o,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return re(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(me(e),64!==e.length)throw new Error("bad secret key size");for(var t=new Uint8Array(32),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(me(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=e[n];return re(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=32,e.sign.secretKeyLength=64,e.sign.seedLength=32,e.sign.signatureLength=64,e.hash=function(e){me(e);var t=new Uint8Array(64);return Y(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return me(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===m(e,0,t,0,e.length))},e.setPRNG=function(e){n=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=i[n];ge(i)}))}else(t=r(15))&&t.randomBytes&&e.setPRNG((function(e,r){var n,i=t.randomBytes(r);for(n=0;n<r;n++)e[n]=i[n];ge(i)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})},function(e,t){function r(e,t,r){null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function n(){return new r(null)}r.prototype.am=function(e,t,r,n,i,o){for(var s=16383&t,a=t>>14;--o>=0;){var c=16383&this[e],u=this[e++]>>14,l=a*c+u*s;i=((c=s*c+((16383&l)<<14)+r[n]+i)>>28)+(l>>14)+a*u,r[n++]=268435455&c}return i},r.prototype.DB=28,r.prototype.DM=268435455,r.prototype.DV=1<<28;r.prototype.FV=Math.pow(2,52),r.prototype.F1=24,r.prototype.F2=4;var i,o,s="0123456789abcdefghijklmnopqrstuvwxyz",a=new Array;for(i="0".charCodeAt(0),o=0;o<=9;++o)a[i++]=o;for(i="a".charCodeAt(0),o=10;o<36;++o)a[i++]=o;for(i="A".charCodeAt(0),o=10;o<36;++o)a[i++]=o;function c(e){return s.charAt(e)}function u(e,t){var r=a[e.charCodeAt(t)];return null==r?-1:r}function l(e){var t=n();return t.fromInt(e),t}function h(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function f(e){this.m=e}function p(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function d(e,t){return e&t}function m(e,t){return e|t}function g(e,t){return e^t}function v(e,t){return e&~t}function y(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function w(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function b(){}function E(e){return e}function _(e){this.r2=n(),this.q3=n(),r.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}f.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},f.prototype.revert=function(e){return e},f.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},f.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},f.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},p.prototype.convert=function(e){var t=n();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(r.ZERO)>0&&this.m.subTo(t,t),t},p.prototype.revert=function(e){var t=n();return e.copyTo(t),this.reduce(t),t},p.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[r=t+this.m.t]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},p.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},p.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},r.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},r.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},r.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var i=e.length,o=!1,s=0;--i>=0;){var a=8==n?255&e[i]:u(e,i);a<0?"-"==e.charAt(i)&&(o=!0):(o=!1,0==s?this[this.t++]=a:s+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,(s+=n)>=this.DB&&(s-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),o&&r.ZERO.subTo(this,this)},r.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},r.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s},r.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},r.prototype.lShiftTo=function(e,t){var r,n=e%this.DB,i=this.DB-n,o=(1<<i)-1,s=Math.floor(e/this.DB),a=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t[r+s+1]=this[r]>>i|a,a=(this[r]&o)<<n;for(r=s-1;r>=0;--r)t[r]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},r.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t[0]=this[r]>>n;for(var s=r+1;s<this.t;++s)t[s-r-1]|=(this[s]&o)<<i,t[s-r]=this[s]>>n;n>0&&(t[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}},r.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()},r.prototype.multiplyTo=function(e,t){var n=this.abs(),i=e.abs(),o=n.t;for(t.t=o+i.t;--o>=0;)t[o]=0;for(o=0;o<i.t;++o)t[o+n.t]=n.am(0,i[o],t,o,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&r.ZERO.subTo(t,t)},r.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},r.prototype.divRemTo=function(e,t,i){var o=e.abs();if(!(o.t<=0)){var s=this.abs();if(s.t<o.t)return null!=t&&t.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=n());var a=n(),c=this.s,u=e.s,l=this.DB-h(o[o.t-1]);l>0?(o.lShiftTo(l,a),s.lShiftTo(l,i)):(o.copyTo(a),s.copyTo(i));var f=a.t,p=a[f-1];if(0!=p){var d=p*(1<<this.F1)+(f>1?a[f-2]>>this.F2:0),m=this.FV/d,g=(1<<this.F1)/d,v=1<<this.F2,y=i.t,w=y-f,b=null==t?n():t;for(a.dlShiftTo(w,b),i.compareTo(b)>=0&&(i[i.t++]=1,i.subTo(b,i)),r.ONE.dlShiftTo(f,b),b.subTo(a,a);a.t<f;)a[a.t++]=0;for(;--w>=0;){var E=i[--y]==p?this.DM:Math.floor(i[y]*m+(i[y-1]+v)*g);if((i[y]+=a.am(0,E,i,w,0,f))<E)for(a.dlShiftTo(w,b),i.subTo(b,i);i[y]<--E;)i.subTo(b,i)}null!=t&&(i.drShiftTo(f,t),c!=u&&r.ZERO.subTo(t,t)),i.t=f,i.clamp(),l>0&&i.rShiftTo(l,i),c<0&&r.ZERO.subTo(i,i)}}},r.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},r.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},r.prototype.exp=function(e,t){if(e>4294967295||e<1)return r.ONE;var i=n(),o=n(),s=t.convert(this),a=h(e)-1;for(s.copyTo(i);--a>=0;)if(t.sqrTo(i,o),(e&1<<a)>0)t.mulTo(o,s,i);else{var c=i;i=o,o=c}return t.revert(i)},r.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(r=this[s]>>a)>0&&(i=!0,o=c(r));s>=0;)a<t?(r=(this[s]&(1<<a)-1)<<t-a,r|=this[--s]>>(a+=this.DB-t)):(r=this[s]>>(a-=t)&n,a<=0&&(a+=this.DB,--s)),r>0&&(i=!0),i&&(o+=c(r));return i?o:"0"},r.prototype.negate=function(){var e=n();return r.ZERO.subTo(this,e),e},r.prototype.abs=function(){return this.s<0?this.negate():this},r.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0},r.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+h(this[this.t-1]^this.s&this.DM)},r.prototype.mod=function(e){var t=n();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(r.ZERO)>0&&e.subTo(t,t),t},r.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new f(t):new p(t),this.exp(e,r)},r.ZERO=l(0),r.ONE=l(1),b.prototype.convert=E,b.prototype.revert=E,b.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},b.prototype.sqrTo=function(e,t){e.squareTo(t)},_.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=n();return e.copyTo(t),this.reduce(t),t},_.prototype.revert=function(e){return e},_.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},_.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},_.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var C=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],S=(1<<26)/C[C.length-1];r.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},r.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),i=l(r),o=n(),s=n(),a="";for(this.divRemTo(i,o,s);o.signum()>0;)a=(r+s.intValue()).toString(e).substr(1)+a,o.divRemTo(i,o,s);return s.intValue().toString(e)+a},r.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),i=Math.pow(t,n),o=!1,s=0,a=0,c=0;c<e.length;++c){var l=u(e,c);l<0?"-"==e.charAt(c)&&0==this.signum()&&(o=!0):(a=t*a+l,++s>=n&&(this.dMultiply(i),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(a,0)),o&&r.ZERO.subTo(this,this)},r.prototype.fromNumber=function(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(r.ONE.shiftLeft(e-1),m,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(r.ONE.shiftLeft(e-1),this);else{var i=new Array,o=7&e;i.length=1+(e>>3),t.nextBytes(i),o>0?i[0]&=(1<<o)-1:i[0]=0,this.fromString(i,256)}},r.prototype.bitwiseTo=function(e,t,r){var n,i,o=Math.min(e.t,this.t);for(n=0;n<o;++n)r[n]=t(this[n],e[n]);if(e.t<this.t){for(i=e.s&this.DM,n=o;n<this.t;++n)r[n]=t(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<e.t;++n)r[n]=t(i,e[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},r.prototype.changeBit=function(e,t){var n=r.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n},r.prototype.addTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]+e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e[r],t[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[r++]=n:n<-1&&(t[r++]=this.DV+n),t.t=r,t.clamp()},r.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},r.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},r.prototype.multiplyLowerTo=function(e,t,r){var n,i=Math.min(this.t+e.t,t);for(r.s=0,r.t=i;i>0;)r[--i]=0;for(n=r.t-this.t;i<n;++i)r[i+this.t]=this.am(0,e[i],r,i,0,this.t);for(n=Math.min(e.t,t);i<n;++i)this.am(0,e[i],r,i,0,t-i);r.clamp()},r.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r[this.t+n-t]=this.am(t-n,e[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},r.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this[n])%e;return r},r.prototype.millerRabin=function(e){var t=this.subtract(r.ONE),i=t.getLowestSetBit();if(i<=0)return!1;var o=t.shiftRight(i);(e=e+1>>1)>C.length&&(e=C.length);for(var s=n(),a=0;a<e;++a){s.fromInt(C[Math.floor(Math.random()*C.length)]);var c=s.modPow(o,this);if(0!=c.compareTo(r.ONE)&&0!=c.compareTo(t)){for(var u=1;u++<i&&0!=c.compareTo(t);)if(0==(c=c.modPowInt(2,this)).compareTo(r.ONE))return!1;if(0!=c.compareTo(t))return!1}}return!0},r.prototype.clone=function(){var e=n();return this.copyTo(e),e},r.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},r.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},r.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},r.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},r.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var r,n=this.DB-e*this.DB%8,i=0;if(e-- >0)for(n<this.DB&&(r=this[e]>>n)!=(this.s&this.DM)>>n&&(t[i++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this[e]&(1<<n)-1)<<8-n,r|=this[--e]>>(n+=this.DB-8)):(r=this[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(t[i++]=r);return t},r.prototype.equals=function(e){return 0==this.compareTo(e)},r.prototype.min=function(e){return this.compareTo(e)<0?this:e},r.prototype.max=function(e){return this.compareTo(e)>0?this:e},r.prototype.and=function(e){var t=n();return this.bitwiseTo(e,d,t),t},r.prototype.or=function(e){var t=n();return this.bitwiseTo(e,m,t),t},r.prototype.xor=function(e){var t=n();return this.bitwiseTo(e,g,t),t},r.prototype.andNot=function(e){var t=n();return this.bitwiseTo(e,v,t),t},r.prototype.not=function(){for(var e=n(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},r.prototype.shiftLeft=function(e){var t=n();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},r.prototype.shiftRight=function(e){var t=n();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},r.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+y(this[e]);return this.s<0?this.t*this.DB:-1},r.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=w(this[r]^t);return e},r.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},r.prototype.setBit=function(e){return this.changeBit(e,m)},r.prototype.clearBit=function(e){return this.changeBit(e,v)},r.prototype.flipBit=function(e){return this.changeBit(e,g)},r.prototype.add=function(e){var t=n();return this.addTo(e,t),t},r.prototype.subtract=function(e){var t=n();return this.subTo(e,t),t},r.prototype.multiply=function(e){var t=n();return this.multiplyTo(e,t),t},r.prototype.divide=function(e){var t=n();return this.divRemTo(e,t,null),t},r.prototype.remainder=function(e){var t=n();return this.divRemTo(e,null,t),t},r.prototype.divideAndRemainder=function(e){var t=n(),r=n();return this.divRemTo(e,t,r),new Array(t,r)},r.prototype.modPow=function(e,t){var r,i,o=e.bitLength(),s=l(1);if(o<=0)return s;r=o<18?1:o<48?3:o<144?4:o<768?5:6,i=o<8?new f(t):t.isEven()?new _(t):new p(t);var a=new Array,c=3,u=r-1,d=(1<<r)-1;if(a[1]=i.convert(this),r>1){var m=n();for(i.sqrTo(a[1],m);c<=d;)a[c]=n(),i.mulTo(m,a[c-2],a[c]),c+=2}var g,v,y=e.t-1,w=!0,b=n();for(o=h(e[y])-1;y>=0;){for(o>=u?g=e[y]>>o-u&d:(g=(e[y]&(1<<o+1)-1)<<u-o,y>0&&(g|=e[y-1]>>this.DB+o-u)),c=r;0==(1&g);)g>>=1,--c;if((o-=c)<0&&(o+=this.DB,--y),w)a[g].copyTo(s),w=!1;else{for(;c>1;)i.sqrTo(s,b),i.sqrTo(b,s),c-=2;c>0?i.sqrTo(s,b):(v=s,s=b,b=v),i.mulTo(b,a[g],s)}for(;y>=0&&0==(e[y]&1<<o);)i.sqrTo(s,b),v=s,s=b,b=v,--o<0&&(o=this.DB-1,--y)}return i.revert(s)},r.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return r.ZERO;for(var n=e.clone(),i=this.clone(),o=l(1),s=l(0),a=l(0),c=l(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(o.isEven()&&s.isEven()||(o.addTo(this,o),s.subTo(e,s)),o.rShiftTo(1,o)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;i.isEven();)i.rShiftTo(1,i),t?(a.isEven()&&c.isEven()||(a.addTo(this,a),c.subTo(e,c)),a.rShiftTo(1,a)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);n.compareTo(i)>=0?(n.subTo(i,n),t&&o.subTo(a,o),s.subTo(c,s)):(i.subTo(n,i),t&&a.subTo(o,a),c.subTo(s,c))}return 0!=i.compareTo(r.ONE)?r.ZERO:c.compareTo(e)>=0?c.subtract(e):c.signum()<0?(c.addTo(e,c),c.signum()<0?c.add(e):c):c},r.prototype.pow=function(e){return this.exp(e,new b)},r.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),r.rShiftTo(o,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r},r.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r[0]<=C[C.length-1]){for(t=0;t<C.length;++t)if(r[0]==C[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<C.length;){for(var n=C[t],i=t+1;i<C.length&&n<S;)n*=C[i++];for(n=r.modInt(n);t<i;)if(n%C[t++]==0)return!1}return r.millerRabin(e)},r.prototype.square=function(){var e=n();return this.squareTo(e),e},r.prototype.Barrett=_,e.exports=r},function(e,t,r){"use strict";var n=r(0).inspect;function i(e,t){if(!e)throw new ERR_INTERNAL_ASSERTION(t)}function o(e){for(var t="",r=e.length,n="-"===e[0]?1:0;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function s(e,t){if(i("string"==typeof t,"`thing` has to be of type string"),Array.isArray(e)){var r=e.length;return i(r>0,"At least one expected value needs to be specified"),e=e.map(e=>String(e)),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}i.fail=function(e){throw new ERR_INTERNAL_ASSERTION(e)},t.ERR_INTERNAL_ASSERTION=class e extends Error{constructor(t){super(),Error.captureStackTrace(this,e);var r="This is caused by either a bug in ssh2-streams or incorrect usage of ssh2-streams internals.\nPlease open an issue with this stack trace at https://github.com/mscdex/ssh2-streams/issues\n";this.message=void 0===t?r:`${t}\n${r}`}};var a=Math.pow(2,32),c=function(){try{return new Function("return 2n ** 32n")()}catch(e){}}();function u(e,t){emitErrorNT(e,t),l(e)}function l(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}t.ERR_OUT_OF_RANGE=class e extends RangeError{constructor(t,r,s,u){super(),Error.captureStackTrace(this,e),i(r,'Missing "range" argument');var l,h=u?t:`The value of "${t}" is out of range.`;Number.isInteger(s)&&Math.abs(s)>a?l=o(String(s)):"bigint"==typeof s?(l=String(s),(s>c||s<-c)&&(l=o(l)),l+="n"):l=n(s),h+=` It must be ${r}. Received ${l}`,this.message=h}},t.ERR_INVALID_ARG_TYPE=class e extends TypeError{constructor(t,r,n){var o,a;if(super(),Error.captureStackTrace(this,e),i("string"==typeof t,"'name' must be a string"),"string"==typeof r&&r.startsWith("not ")?(o="must not be",r=r.replace(/^not /,"")):o="must be",t.endsWith(" argument"))a=`The ${t} ${o} ${s(r,"type")}`;else{var c=t.includes(".")?"property":"argument";a=`The "${t}" ${c} ${o} ${s(r,"type")}`}a+=`. Received type ${typeof n}`,this.message=a}},t.validateNumber=function(e,t){if("number"!=typeof e)throw new ERR_INVALID_ARG_TYPE(t,"number",e)},t.destroyImpl=function(e,t){const r=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return r||n?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(emitErrorNT,this,e)):process.nextTick(emitErrorNT,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,e=>{!t&&e?this._writableState?this._writableState.errorEmitted?process.nextTick(l,this):(this._writableState.errorEmitted=!0,process.nextTick(u,this,e)):process.nextTick(u,this,e):t?(process.nextTick(l,this),t(e)):process.nextTick(l,this)}),this)}},function(e,t,r){var n=r(15),i=r(81),o=r(11).Transform,s=r(0).inherits,a=r(0).inspect,c=r(254),u=r(38).readUInt32BE,l=r(38).writeUInt32BE,h=r(91),f=r(27),p=f.iv_inc,d=f.readString,m=f.readInt,g=f.DSASigBERToBare,v=f.ECDSASigASN1ToSSH,y=f.sigSSHToASN1,w=r(176).parseDERKey,b=h.CIPHER_INFO,E=h.HMAC_INFO,_=h.MESSAGE,C=h.DYNAMIC_KEXDH_MESSAGE,S=h.KEXDH_MESSAGE,k=h.ALGORITHMS,x=h.DISCONNECT_REASON,D=h.CHANNEL_OPEN_FAILURE,A=h.SSH_TO_OPENSSL,T=h.TERMINAL_MODE,R=h.SIGNALS,I=(h.EDDSA_SUPPORTED,h.BUGS),P=h.BUGGY_IMPLS,O=P.length,F=r(255).version,N=0,L=N++,B=N++,M=N++,U=N++,j=N++,H=N++,q=N++,$=N++,G=N++,W=N++,z=N++,V=4294967295,K=35e3,X=2,Y=i.Z_PARTIAL_FLUSH,J={flush:Y},Q=/-(.+)$/,Z=/^gex-/,ee=/\x00/g,te=Buffer.from("SSH-"),re=Buffer.allocUnsafe(0),ne=Buffer.allocUnsafe(9),ie=Buffer.from([_.GLOBAL_REQUEST,0,0,0,21,107,101,101,112,97,108,105,118,101,64,111,112,101,110,115,115,104,46,99,111,109,1]),oe=Buffer.from([_.NEWKEYS]),se=Buffer.from([_.USERAUTH_SUCCESS]),ae=Buffer.from([_.REQUEST_SUCCESS]),ce=Buffer.from([_.REQUEST_FAILURE]),ue=Buffer.from([T.TTY_OP_END]),le=Buffer.from([_.KEXDH_GEX_REQUEST,0,0,4,0,0,0,16,0,0,0,32,0]);function he(e){}function fe(e){"object"==typeof e&&null!==e||(e={}),o.call(this,{highWaterMark:"number"==typeof e.highWaterMark?e.highWaterMark:32768}),this._needContinue=!1,this.bytesSent=this.bytesReceived=0,this.debug="function"==typeof e.debug?e.debug:he,this.server=!0===e.server,this.maxPacketSize="number"==typeof e.maxPacketSize?e.maxPacketSize:K,this.remoteBugs=0,this.server&&(this.remoteBugs=I.BAD_DHGEX),this.readable=!0;var t=this,r=e.hostKeys;if(this.server&&("object"!=typeof r||null===r))throw new Error("hostKeys must be an object keyed on host key type");if(this.config={hostKeys:r,ident:"SSH-2.0-"+(e.ident||"ssh2js"+F+(this.server?"srv":"")),algorithms:{kex:k.KEX,kexBuf:k.KEX_BUF,serverHostKey:k.SERVER_HOST_KEY,serverHostKeyBuf:k.SERVER_HOST_KEY_BUF,cipher:k.CIPHER,cipherBuf:k.CIPHER_BUF,hmac:k.HMAC,hmacBuf:k.HMAC_BUF,compress:k.COMPRESS,compressBuf:k.COMPRESS_BUF}},this.config.ident.replace(ee,""),this.config.ident.length+2>255)throw new Error("ident too long");if("object"==typeof e.algorithms&&null!==e.algorithms){var i=e.algorithms;Array.isArray(i.kex)&&i.kex.length>0&&(this.config.algorithms.kex=i.kex,Buffer.isBuffer(i.kexBuf)||(i.kexBuf=Buffer.from(i.kex.join(","),"ascii")),this.config.algorithms.kexBuf=i.kexBuf),Array.isArray(i.serverHostKey)&&i.serverHostKey.length>0&&(this.config.algorithms.serverHostKey=i.serverHostKey,Buffer.isBuffer(i.serverHostKeyBuf)||(i.serverHostKeyBuf=Buffer.from(i.serverHostKey.join(","),"ascii")),this.config.algorithms.serverHostKeyBuf=i.serverHostKeyBuf),Array.isArray(i.cipher)&&i.cipher.length>0&&(this.config.algorithms.cipher=i.cipher,Buffer.isBuffer(i.cipherBuf)||(i.cipherBuf=Buffer.from(i.cipher.join(","),"ascii")),this.config.algorithms.cipherBuf=i.cipherBuf),Array.isArray(i.hmac)&&i.hmac.length>0&&(this.config.algorithms.hmac=i.hmac,Buffer.isBuffer(i.hmacBuf)||(i.hmacBuf=Buffer.from(i.hmac.join(","),"ascii")),this.config.algorithms.hmacBuf=i.hmacBuf),Array.isArray(i.compress)&&i.compress.length>0&&(this.config.algorithms.compress=i.compress,Buffer.isBuffer(i.compressBuf)||(i.compressBuf=Buffer.from(i.compress.join(","),"ascii")),this.config.algorithms.compressBuf=i.compressBuf)}this.reset(!0),this.on("end",(function(){t.readable=!1,t._state=void 0,t.reset(),t._state.outgoing.bufSeqno=void 0})),this.on("DISCONNECT",(function(e,r,n,i){!function(e,t,r,n,i){if(r!==x.BY_APPLICATION){var o=new Error(n||t);o.code=r,e.emit("error",o)}e.reset()}(t,e,r,n)})),this.on("KEXINIT",(function(e,r){!function(e,t,r){var i=e._state,o=i.outgoing;o.status===W?(e.debug("DEBUG: Received re-key request"),o.status=z,o.kexinit=void 0,be(e,s)):s();function s(){if(!0===function(e,t,r){var i,o,s,a,c,u=e._state,l=u.incoming,h=u.outgoing,f=e.debug;f("DEBUG: Comparing KEXINITs ...");var p=e.config.algorithms,d=p.kex;if(e.remoteBugs&I.BAD_DHGEX)for(var m=!1,g=d.length-1;g>=0;--g)-1!==d[g].indexOf("group-exchange")&&(m||(d=d.slice(),m=!0),d.splice(g,1));f("DEBUG: (local) KEX algorithms: "+d),f("DEBUG: (remote) KEX algorithms: "+t.algorithms.kex),e.server?(i=d,o=t.algorithms.kex):(i=t.algorithms.kex,o=d);for(c=0,a=o.length;c<a&&-1===i.indexOf(o[c]);++c);if(c===a){return f("DEBUG: No matching key exchange algorithm"),(y=new Error("Handshake failed: no matching key exchange algorithm")).level="handshake",e.emit("error",y),e.disconnect(x.KEY_EXCHANGE_FAILED),!1}var v=o[c];f("DEBUG: KEX algorithm: "+v),!r||t.algorithms.kex.length&&v===t.algorithms.kex[0]||(l.ignoreNext=!0);f("DEBUG: (local) Host key formats: "+p.serverHostKey),f("DEBUG: (remote) Host key formats: "+t.algorithms.srvHostKey),e.server?(i=p.serverHostKey,o=t.algorithms.srvHostKey):(i=t.algorithms.srvHostKey,o=p.serverHostKey);for(c=0,a=o.length;c<a&&-1===i.indexOf(o[c]);++c);if(c===a){return f("DEBUG: No matching host key format"),(y=new Error("Handshake failed: no matching host key format")).level="handshake",e.emit("error",y),e.disconnect(x.KEY_EXCHANGE_FAILED),!1}u.hostkeyFormat=o[c],f("DEBUG: Host key format: "+u.hostkeyFormat),f("DEBUG: (local) Client->Server ciphers: "+p.cipher),f("DEBUG: (remote) Client->Server ciphers: "+t.algorithms.cs.encrypt),e.server?(i=p.cipher,o=t.algorithms.cs.encrypt):(i=t.algorithms.cs.encrypt,o=p.cipher);for(c=0,a=o.length;c<a&&-1===i.indexOf(o[c]);++c);if(c===a){return f("DEBUG: No matching Client->Server cipher"),(y=new Error("Handshake failed: no matching client->server cipher")).level="handshake",e.emit("error",y),e.disconnect(x.KEY_EXCHANGE_FAILED),!1}s=e.server?l.decrypt.type=o[c]:h.encrypt.type=o[c];f("DEBUG: Client->Server Cipher: "+s),f("DEBUG: (local) Server->Client ciphers: "+p.cipher),f("DEBUG: (remote) Server->Client ciphers: "+t.algorithms.sc.encrypt),e.server?(i=p.cipher,o=t.algorithms.sc.encrypt):(i=t.algorithms.sc.encrypt,o=p.cipher);for(c=0,a=o.length;c<a&&-1===i.indexOf(o[c]);++c);if(c===a){return f("DEBUG: No matching Server->Client cipher"),(y=new Error("Handshake failed: no matching server->client cipher")).level="handshake",e.emit("error",y),e.disconnect(x.KEY_EXCHANGE_FAILED),!1}s=e.server?h.encrypt.type=o[c]:l.decrypt.type=o[c];f("DEBUG: Server->Client Cipher: "+s),f("DEBUG: (local) Client->Server HMAC algorithms: "+p.hmac),f("DEBUG: (remote) Client->Server HMAC algorithms: "+t.algorithms.cs.mac),e.server?(i=p.hmac,o=t.algorithms.cs.mac):(i=t.algorithms.cs.mac,o=p.hmac);for(c=0,a=o.length;c<a&&-1===i.indexOf(o[c]);++c);if(c===a){return f("DEBUG: No matching Client->Server HMAC algorithm"),(y=new Error("Handshake failed: no matching client->server HMAC")).level="handshake",e.emit("error",y),e.disconnect(x.KEY_EXCHANGE_FAILED),!1}s=e.server?l.hmac.type=o[c]:h.hmac.type=o[c];f("DEBUG: Client->Server HMAC algorithm: "+s),f("DEBUG: (local) Server->Client HMAC algorithms: "+p.hmac),f("DEBUG: (remote) Server->Client HMAC algorithms: "+t.algorithms.sc.mac),e.server?(i=p.hmac,o=t.algorithms.sc.mac):(i=t.algorithms.sc.mac,o=p.hmac);for(c=0,a=o.length;c<a&&-1===i.indexOf(o[c]);++c);if(c===a){return f("DEBUG: No matching Server->Client HMAC algorithm"),(y=new Error("Handshake failed: no matching server->client HMAC")).level="handshake",e.emit("error",y),e.disconnect(x.KEY_EXCHANGE_FAILED),!1}s=e.server?h.hmac.type=o[c]:l.hmac.type=o[c];f("DEBUG: Server->Client HMAC algorithm: "+s),f("DEBUG: (local) Client->Server compression algorithms: "+p.compress),f("DEBUG: (remote) Client->Server compression algorithms: "+t.algorithms.cs.compress),e.server?(i=p.compress,o=t.algorithms.cs.compress):(i=t.algorithms.cs.compress,o=p.compress);for(c=0,a=o.length;c<a&&-1===i.indexOf(o[c]);++c);if(c===a){return f("DEBUG: No matching Client->Server compression algorithm"),(y=new Error("Handshake failed: no matching client->server compression algorithm")).level="handshake",e.emit("error",y),e.disconnect(x.KEY_EXCHANGE_FAILED),!1}s=e.server?l.decompress.type=o[c]:h.compress.type=o[c];f("DEBUG: Client->Server compression algorithm: "+s),f("DEBUG: (local) Server->Client compression algorithms: "+p.compress),f("DEBUG: (remote) Server->Client compression algorithms: "+t.algorithms.sc.compress),e.server?(i=p.compress,o=t.algorithms.sc.compress):(i=t.algorithms.sc.compress,o=p.compress);for(c=0,a=o.length;c<a&&-1===i.indexOf(o[c]);++c);if(c===a){var y;return f("DEBUG: No matching Server->Client compression algorithm"),(y=new Error("Handshake failed: no matching server->client compression algorithm")).level="handshake",e.emit("error",y),e.disconnect(x.KEY_EXCHANGE_FAILED),!1}s=e.server?h.compress.type=o[c]:l.decompress.type=o[c];switch(f("DEBUG: Server->Client compression algorithm: "+s),v){case"diffie-hellman-group1-sha1":u.kexdh="group",u.kex=n.getDiffieHellman("modp2");break;case"diffie-hellman-group14-sha1":u.kexdh="group",u.kex=n.getDiffieHellman("modp14");break;case"ecdh-sha2-nistp256":u.kexdh="ec-sha256",u.kex=n.createECDH(A[v]);break;case"ecdh-sha2-nistp384":u.kexdh="ec-sha384",u.kex=n.createECDH(A[v]);break;case"ecdh-sha2-nistp521":u.kexdh="ec-sha512",u.kex=n.createECDH(A[v]);break;default:"diffie-hellman-group-exchange-sha1"===v?u.kexdh="gex-sha1":"diffie-hellman-group-exchange-sha256"===v&&(u.kexdh="gex-sha256"),u.kex=void 0}if(u.kex){h.pubkey=u.kex.generateKeys();var w=0;for(a=h.pubkey.length;0===h.pubkey[w];)++w,--a;if(128&h.pubkey[w]){var b=Buffer.allocUnsafe(a+1);b[0]=0,h.pubkey.copy(b,1,w),h.pubkey=b}}return!0}(e,t,r)){var o=Z.test(i.kexdh);e.server?i.incoming.expectedPacket=o?"KEXDH_GEX_REQ":"KEXDH_INIT":o?function(e){e._state.incoming.expectedPacket="KEXDH_GEX_GROUP",e.debug("DEBUG: Outgoing: Writing KEXDH_GEX_REQUEST"),Se(e,le,void 0,!0)}(e):Ee(e)}}}(t,e,r)})),this.on("NEWKEYS",(function(){pe(t)})),this.server?this.on("KEXDH_INIT",(function(e){!function(e,t){!function(e,t){var r=e._state,i=r.outgoing,o=r.incoming,s=e.config.hostKeys[r.hostkeyFormat];Array.isArray(s)&&(s=s[0]);for(var a=s.getPublicSSH(),c=s.type,u=-1,h=0,f=t.length;h<f&&0===t[h];++h)++u;u>-1&&(t=t.slice(u+1));var p,d=De(r.kex,t);if(d instanceof Error)return d.message="Error while computing DH secret ("+r.kexdh+"): "+d.message,d.level="handshake",e.emit("error",d),e.disconnect(x.KEY_EXCHANGE_FAILED),!1;p="group"===r.kexdh?"sha1":Q.exec(r.kexdh)[1];var m=n.createHash(p),g=Buffer.byteLength(o.identRaw),v=Buffer.byteLength(e.config.ident),y=o.kexinit.length,w=i.kexinit.length,b=a.length,E=t.length,C=i.pubkey.length,S=d.length,k=0,D=0;for(;0===i.pubkey[k];)++k,--C;for(;0===d[D];)++D,--S;128&t[0]&&++E;128&i.pubkey[k]&&++C;128&d[D]&&++S;var A,T,R=g+v+y+w+b+E+C+S+32,I=Z.test(r.kexdh),P=0,O=0,F=0,N=0;if(I){for(A=r.kex.getPrime(),T=r.kex.getGenerator(),P=A.length,O=T.length;0===A[F];)++F,--P;for(;0===T[N];)++N,--O;128&A[F]&&++P,128&T[N]&&++O,R+=12,R+=8,R+=P,R+=O}var L=0,B=Buffer.allocUnsafe(R);l(B,g,L),L+=4,B.write(o.identRaw,L,"utf8"),l(B,v,L+=g),L+=4,B.write(e.config.ident,L,"utf8"),l(B,y,L+=v),L+=4,o.kexinit.copy(B,L),L+=y,o.kexinit=void 0,l(B,w,L),L+=4,i.kexinit.copy(B,L),L+=w,i.kexinit=void 0,l(B,b,L),L+=4,a.copy(B,L),L+=b,I&&(le.slice(1).copy(B,L),l(B,P,L+=12),L+=4,128&A[F]&&(B[L++]=0),A.copy(B,L,F),L+=P-(128&A[F]?1:0),l(B,O,L),L+=4,128&T[N]&&(B[L++]=0),T.copy(B,L,N),L+=O-(128&T[N]?1:0));l(B,E,L),L+=4,128&t[0]&&(B[L++]=0);t.copy(B,L),L+=E-(128&t[0]?1:0),l(B,C,L),L+=4,128&i.pubkey[k]&&(B[L++]=0);i.pubkey.copy(B,L,k),L+=C-(128&i.pubkey[k]?1:0),l(B,S,L),L+=4,128&d[D]&&(B[L++]=0);d.copy(B,L,D),i.exchangeHash=m.update(B).digest(),void 0===i.sessionId&&(i.sessionId=i.exchangeHash);i.kexsecret=d;var M=s.sign(i.exchangeHash);if(M instanceof Error)return M.message="Error while signing data with host key ("+c+"): "+M.message,M.level="handshake",e.emit("error",M),e.disconnect(x.KEY_EXCHANGE_FAILED),!1;if(!1===(M=Ae(M,c)))return M.message="Error while converting handshake signature",M.level="handshake",e.emit("error",M),e.disconnect(x.KEY_EXCHANGE_FAILED),!1;var U=4+c.length+4+M.length,j=Buffer.allocUnsafe(5+b+4+C+4+U);j[L=0]=I?_.KEXDH_GEX_REPLY:_.KEXDH_REPLY,l(j,b,++L),L+=4,a.copy(j,L),l(j,C,L+=b),L+=4,128&i.pubkey[k]&&(j[L++]=0);i.pubkey.copy(j,L,k),L+=C-(128&i.pubkey[k]?1:0),l(j,U,L),L+=4,l(j,c.length,L),L+=4,j.write(c,L,c.length,"ascii"),L+=c.length,l(j,M.length,L),L+=4,M.copy(j,L),r.incoming.expectedPacket="NEWKEYS",I?e.debug("DEBUG: Outgoing: Writing KEXDH_GEX_REPLY"):"group"!==r.kexdh?e.debug("DEBUG: Outgoing: Writing KEXECDH_REPLY"):e.debug("DEBUG: Outgoing: Writing KEXDH_REPLY");Se(e,j,void 0,!0),i.sentNEWKEYS=!0,e.debug("DEBUG: Outgoing: Writing NEWKEYS"),Se(e,oe,void 0,!0)}(e,t)}(t,e)})):this.on("KEXDH_REPLY",(function(e){!function e(t,r,i){var o=t._state;var s=o.incoming;var a=o.outgoing;var c=t.debug;var u;var h;if(void 0===i){s.expectedPacket="NEWKEYS",a.sentNEWKEYS=!1,c("DEBUG: Checking host key format");var f=d(r.hostkey,0,"ascii",t);if(!1===f)return!1;if(r.hostkey_format!==o.hostkeyFormat||r.hostkey_format!==f)return c("DEBUG: Host key format mismatch"),t.disconnect(x.KEY_EXCHANGE_FAILED),t.reset(),(K=new Error("Handshake failed: host key format mismatch")).level="handshake",t.emit("error",K),!1;c("DEBUG: Checking signature format");var p=d(r.sig,0,"ascii",t);if(!1===p)return!1;if(r.sig_format!==p)return c("DEBUG: Signature format mismatch"),t.disconnect(x.KEY_EXCHANGE_FAILED),t.reset(),(K=new Error("Handshake failed: signature format mismatch")).level="handshake",t.emit("error",K),!1}if(a.status===G){if(void 0===i){c("DEBUG: Verifying host fingerprint");var m=!0,g=t.emit("fingerprint",r.hostkey,(function(n){void 0===i&&(i=!!n,m||e(t,r,i))}));if(m=!1,g&&void 0===i)return}if(void 0===i)c("DEBUG: Host accepted by default (no verification)");else{if(!0!==i)return c("DEBUG: Host denied via fingerprint verification"),t.disconnect(x.KEY_EXCHANGE_FAILED),t.reset(),(K=new Error("Handshake failed: host fingerprint verification failed")).level="handshake",t.emit("error",K),!1;c("DEBUG: Host accepted (verified)")}}var v=-1;for(h=0,u=r.pubkey.length;h<u&&0===r.pubkey[h];++h)++v;v>-1&&(r.pubkey=r.pubkey.slice(v+1));r.secret=De(o.kex,r.pubkey);if(r.secret instanceof Error)return r.secret.message="Error while computing DH secret ("+o.kexdh+"): "+r.secret.message,r.secret.level="handshake",t.emit("error",r.secret),t.disconnect(x.KEY_EXCHANGE_FAILED),!1;var b;b="group"===o.kexdh?"sha1":Q.exec(o.kexdh)[1];var E=n.createHash(b);var _=Buffer.byteLength(t.config.ident);var C=Buffer.byteLength(s.identRaw);var S=a.kexinit.length;var k=s.kexinit.length;var D=r.hostkey.length;var A=a.pubkey.length;var T=r.pubkey.length;var R=r.secret.length;var I=0;var P=0;var O=0;for(;0===a.pubkey[I];)++I,--A;for(;0===r.pubkey[P];)++P,--T;for(;0===r.secret[O];)++O,--R;128&a.pubkey[I]&&++A;128&r.pubkey[P]&&++T;128&r.secret[O]&&++R;var F=_+C+S+k+D+A+T+R+32;var N=Z.test(o.kexdh);var L=0;var B=0;var M=0;var U=0;var j;var H;if(N){for(j=o.kex.getPrime(),H=o.kex.getGenerator(),L=j.length,B=H.length;0===j[M];)++M,--L;for(;0===H[U];)++U,--B;128&j[M]&&++L,128&H[U]&&++B,F+=12,F+=8,F+=L,F+=B}var q=0;var $=Buffer.allocUnsafe(F);l($,_,q);q+=4;$.write(t.config.ident,q,"utf8");q+=_;l($,C,q);q+=4;$.write(s.identRaw,q,"utf8");q+=C;l($,S,q);q+=4;a.kexinit.copy($,q);q+=S;a.kexinit=void 0;l($,k,q);q+=4;s.kexinit.copy($,q);q+=k;s.kexinit=void 0;l($,D,q);q+=4;r.hostkey.copy($,q);q+=D;N&&(le.slice(1).copy($,q),l($,L,q+=12),q+=4,128&j[M]&&($[q++]=0),j.copy($,q,M),q+=L-(128&j[M]?1:0),l($,B,q),q+=4,128&H[U]&&($[q++]=0),H.copy($,q,U),q+=B-(128&H[U]?1:0));l($,A,q);q+=4;128&a.pubkey[I]&&($[q++]=0);a.pubkey.copy($,q,I);q+=A-(128&a.pubkey[I]?1:0);l($,T,q);q+=4;128&r.pubkey[P]&&($[q++]=0);r.pubkey.copy($,q,P);q+=T-(128&r.pubkey[P]?1:0);l($,R,q);q+=4;128&r.secret[O]&&($[q++]=0);r.secret.copy($,q,O);a.exchangeHash=E.update($).digest();var W=d(r.sig,r.sig._pos,t);if(!1===W||!(W=y(W,r.sig_format,t)))return!1;var V=w(r.hostkey,r.sig_format);if(V instanceof Error)return!1;c("DEBUG: Verifying signature");if(!0!==V.verify(a.exchangeHash,W)){var K;return c("DEBUG: Signature verification failed"),t.disconnect(x.KEY_EXCHANGE_FAILED),t.reset(),(K=new Error("Handshake failed: signature verification failed")).level="handshake",t.emit("error",K),!1}void 0===a.sessionId&&(a.sessionId=a.exchangeHash);a.kexsecret=r.secret;c("DEBUG: Outgoing: Writing NEWKEYS");a.status===z?Se(t,oe,void 0,!0):Se(t,oe);a.sentNEWKEYS=!0;void 0!==i&&void 0===s.expectedPacket&&pe(t)}(t,e)})).on("KEXDH_GEX_GROUP",(function(e,r){!function(e,t,r){var i=e._state,o=i.outgoing;i.kex=n.createDiffieHellman(t,r),o.pubkey=i.kex.generateKeys();var s=0,a=o.pubkey.length;for(;0===o.pubkey[s];)++s,--a;if(128&o.pubkey[s]){var c=Buffer.allocUnsafe(a+1);c[0]=0,o.pubkey.copy(c,1,s),o.pubkey=c}Ee(e)}(t,e,r)})),this.server&&("string"==typeof e.greeting&&e.greeting.length&&("\r\n"===e.greeting.slice(-2)?this.push(e.greeting):this.push(e.greeting+"\r\n")),"string"==typeof e.banner&&e.banner.length&&("\r\n"===e.banner.slice(-2)?this.banner=e.banner:this.banner=e.banner+"\r\n")),this.debug("DEBUG: Local ident: "+a(this.config.ident)),this.push(this.config.ident+"\r\n"),this._state.incoming.expectedPacket="KEXINIT"}function pe(e){var t=e._state,r=t.outgoing,o=t.incoming;if(o.expectedPacket=void 0,r.sentNEWKEYS){for(var s=0,a=r.kexsecret.length;0===r.kexsecret[s];)++s,--a;var c,u=r.encrypt.info=b[r.encrypt.type],h=0;c="group"===t.kexdh?"sha1":Q.exec(t.kexdh)[1];var f,p,d=(128&r.kexsecret[s]?1:0)+a,m=Buffer.allocUnsafe(4+d);if(t.authsQueue=[],l(m,d,h),h+=4,128&r.kexsecret[s]&&(m[h++]=0),r.kexsecret.copy(m,h,s),r.kexsecret=void 0,u.stream)f=re;else{for(f=n.createHash(c).update(m).update(r.exchangeHash).update(e.server?"B":"A","ascii").update(r.sessionId).digest();f.length<u.ivLen;)f=Buffer.concat([f,n.createHash(c).update(m).update(r.exchangeHash).update(f).digest()]);f.length>u.ivLen&&(f=f.slice(0,u.ivLen))}for(p=n.createHash(c).update(m).update(r.exchangeHash).update(e.server?"D":"C","ascii").update(r.sessionId).digest();p.length<u.keyLen;)p=Buffer.concat([p,n.createHash(c).update(m).update(r.exchangeHash).update(p).digest()]);if(p.length>u.keyLen&&(p=p.slice(0,u.keyLen)),u.authLen>0)r.encrypt.iv=f,r.encrypt.key=p,r.encrypt.instance=!0;else{var g=A[r.encrypt.type];r.encrypt.instance=n.createCipheriv(g,p,f),r.encrypt.instance.setAutoPadding(!1)}var v=o.decrypt.info=b[o.decrypt.type];if(v.stream)f=re;else{for(f=n.createHash(c).update(m).update(r.exchangeHash).update(e.server?"A":"B","ascii").update(r.sessionId).digest();f.length<v.ivLen;)f=Buffer.concat([f,n.createHash(c).update(m).update(r.exchangeHash).update(f).digest()]);f.length>v.ivLen&&(f=f.slice(0,v.ivLen))}for(o.decrypt.buf=Buffer.allocUnsafe(v.blockLen),p=n.createHash(c).update(m).update(r.exchangeHash).update(e.server?"C":"D","ascii").update(r.sessionId).digest();p.length<v.keyLen;)p=Buffer.concat([p,n.createHash(c).update(m).update(r.exchangeHash).update(p).digest()]);p.length>v.keyLen&&(p=p.slice(0,v.keyLen));var y,w=A[o.decrypt.type];o.decrypt.instance=n.createDecipheriv(w,p,f),o.decrypt.instance.setAutoPadding(!1),o.decrypt.iv=f,o.decrypt.key=p,u.discardLen>0&&(y=Buffer.alloc(u.discardLen),r.encrypt.instance.update(y)),v.discardLen>0&&(y&&y.length===v.discardLen||(y=Buffer.alloc(u.discardLen)),o.decrypt.instance.update(y));var _=r.hmac.info=E[r.hmac.type],C=o.hmac.info=E[o.hmac.type];if(0===u.authLen){for(p=n.createHash(c).update(m).update(r.exchangeHash).update(e.server?"F":"E","ascii").update(r.sessionId).digest();p.length<_.len;)p=Buffer.concat([p,n.createHash(c).update(m).update(r.exchangeHash).update(p).digest()]);p.length>_.len&&(p=p.slice(0,_.len)),r.hmac.key=p}else r.hmac.key=void 0;if(0===v.authLen){for(p=n.createHash(c).update(m).update(r.exchangeHash).update(e.server?"E":"F","ascii").update(r.sessionId).digest();p.length<C.len;)p=Buffer.concat([p,n.createHash(c).update(m).update(r.exchangeHash).update(p).digest()]);p.length>C.len&&(p=p.slice(0,C.len)),o.hmac.key=p}else o.hmac.key=void 0;var S=v.authLen||o.hmac.info.actualLen;if(o.hmac.buf&&o.hmac.buf.length===S||(o.hmac.buf=Buffer.allocUnsafe(S)),r.exchangeHash=void 0,"zlib"===r.compress.type?(r.compress.instance=i.createDeflate(J),r.compress.queue=[]):"none"===r.compress.type&&(r.compress.instance=!1,r.compress.queue=null),"zlib"===o.decompress.type?o.decompress.instance=i.createInflate(J):"none"===o.decompress.type&&(o.decompress.instance=!1),e.bytesSent=e.bytesReceived=0,r.status===z){r.status=W;var k=r.rekeyQueue,x=k.length,D=0;for(r.rekeyQueue=[];D<x;++D)Buffer.isBuffer(k[D])?Se(e,k[D]):Se(e,k[D][0],k[D][1]);x=(k=o.rekeyQueue).length,D=0,o.rekeyQueue=[];for(var T=o.seqno;D<x;++D){if(o.seqno=k[D][0],o.payload=k[D][1],!1===de(e))return;if(o.status===L)return}o.seqno=T}else r.status=W,o.status===j&&(e.debug("DEBUG: Parser: IN_PACKETBEFORE (update) (expecting "+v.blockLen+")"),ye(e,X,v.blockLen,o.decrypt.buf)),e.emit("ready")}}function de(e,t){var r,n,o,s,a,c,h,f,p,g,v,w,b,E,k=e._state.incoming,A=e._state.outgoing,R=k.payload,P=k.seqno;if(++k.seqno>V&&(k.seqno=0),k.ignoreNext)return e.debug("DEBUG: Parser: Packet ignored"),void(k.ignoreNext=!1);var O=R[0];if(void 0===O)return!1;if(A.status!==W&&_[O]!==k.expectedPacket&&O<1&&O>4){e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, expected: "+k.expectedPacket+" but got: "+_[O]),e.disconnect(x.PROTOCOL_ERROR);var F=new Error("Received unexpected packet");return F.level="protocol",e.emit("error",F),!1}if(O===_.CHANNEL_DATA){if(!1===(a=m(R,1,e,t)))return!1;if(!1===(c=d(R,5,e,t,32768)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_DATA ("+a+")"),e.emit("CHANNEL_DATA:"+a,c)}else if(O===_.CHANNEL_EXTENDED_DATA){if(!1===(a=m(R,1,e,t)))return!1;var N=m(R,5,e,t);if(!1===N)return!1;if(!1===(c=d(R,9,e,t)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_EXTENDED_DATA ("+a+")"),e.emit("CHANNEL_EXTENDED_DATA:"+a,N,c)}else if(O===_.CHANNEL_WINDOW_ADJUST){if(!1===(a=m(R,1,e,t)))return!1;var L=m(R,5,e,t);if(!1===L)return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_WINDOW_ADJUST ("+a+", "+L+")"),e.emit("CHANNEL_WINDOW_ADJUST:"+a,L)}else if(O===_.CHANNEL_SUCCESS){if(!1===(a=m(R,1,e,t)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_SUCCESS ("+a+")"),e.emit("CHANNEL_SUCCESS:"+a)}else if(O===_.CHANNEL_FAILURE){if(!1===(a=m(R,1,e,t)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_FAILURE ("+a+")"),e.emit("CHANNEL_FAILURE:"+a)}else if(O===_.CHANNEL_EOF){if(!1===(a=m(R,1,e,t)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_EOF ("+a+")"),e.emit("CHANNEL_EOF:"+a)}else if(O===_.CHANNEL_OPEN){var B,M=d(R,1,"ascii",e,t);if(!1===M)return!1;if(!1===(p=m(R,R._pos,e,t)))return!1;if(!1===(g=m(R,R._pos+=4,e,t)))return!1;if(!1===(v=m(R,R._pos+=4,e,t)))return!1;if(e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_OPEN ("+p+", "+M+")"),"forwarded-tcpip"===M||"direct-tcpip"===M){var U=d(R,R._pos+=4,"ascii",e,t);if(!1===U)return!1;var j=m(R,R._pos,e,t);if(!1===j)return!1;if(!1===(h=d(R,R._pos+=4,"ascii",e,t)))return!1;if(!1===(f=m(R,R._pos,e,t)))return!1;B={type:M,sender:p,window:g,packetSize:v,data:{destIP:U,destPort:j,srcIP:h,srcPort:f}}}else if("forwarded-streamlocal@openssh.com"===M||"direct-streamlocal@openssh.com"===M){if(!1===(E=d(R,R._pos+=4,"utf8",e,t)))return!1;B={type:M,sender:p,window:g,packetSize:v,data:{socketPath:E}}}else if("x11"===M){if(!1===(h=d(R,R._pos+=4,"ascii",e,t)))return!1;if(!1===(f=m(R,R._pos,e,t)))return!1;B={type:M,sender:p,window:g,packetSize:v,data:{srcIP:h,srcPort:f}}}else B={type:M,sender:p,window:g,packetSize:v,data:{}};e.emit("CHANNEL_OPEN",B)}else if(O===_.CHANNEL_OPEN_CONFIRMATION){if(!1===(w=m(R,1,e,t)))return!1;if(!1===(p=m(R,5,e,t)))return!1;if(!1===(g=m(R,9,e,t)))return!1;if(!1===(v=m(R,13,e,t)))return!1;s={recipient:w,sender:p,window:g,packetSize:v},R.length>17&&(s.data=R.slice(17)),e.emit("CHANNEL_OPEN_CONFIRMATION:"+s.recipient,s)}else if(O===_.CHANNEL_OPEN_FAILURE){if(!1===(w=m(R,1,e,t)))return!1;var H=m(R,5,e,t);if(!1===H)return!1;if(!1===(b=d(R,9,"utf8",e,t)))return!1;if(!1===(n=d(R,R._pos,"utf8",e,t)))return!1;R._pos=9,s={recipient:w,reasonCode:H,reason:D[H],description:b,lang:n},e.emit("CHANNEL_OPEN_FAILURE:"+s.recipient,s)}else if(O===_.CHANNEL_CLOSE){if(!1===(a=m(R,1,e,t)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_CLOSE ("+a+")"),e.emit("CHANNEL_CLOSE:"+a)}else if(O===_.IGNORE);else if(O===_.DISCONNECT){var q=m(R,1,e,t);if(!1===q)return!1;var $=x[q];if(!1===(b=d(R,5,"utf8",e,t)))return!1;R._pos<R.length&&(n=d(R,R._pos,"ascii",e,t)),e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: DISCONNECT ("+$+")"),e.emit("DISCONNECT",$,q,b,n)}else if(O===_.DEBUG){if(!1===(o=d(R,2,"utf8",e,t)))return!1;if(!1===(n=d(R,R._pos,"ascii",e,t)))return!1;e.emit("DEBUG",o,n)}else if(O===_.NEWKEYS)e.emit("NEWKEYS");else if(O===_.SERVICE_REQUEST){if(!1===(r=d(R,1,"ascii",e,t)))return!1;e.emit("SERVICE_REQUEST",r)}else if(O===_.SERVICE_ACCEPT){if(!1===(r=d(R,1,"ascii",e,t)))return!1;e.emit("SERVICE_ACCEPT",r)}else if(O===_.USERAUTH_REQUEST){var G=d(R,1,"utf8",e,t);if(!1===G)return!1;var z=d(R,R._pos,"ascii",e,t);if(!1===z)return!1;var K,X,Y=d(R,R._pos,"ascii",e,t);if(!1===Y)return!1;if("password"===Y){if(!1===(K=d(R,R._pos+1,"utf8",e,t)))return!1}else if("publickey"===Y||"hostbased"===Y){var Q,ee,te,re,ne,ie,oe;if("publickey"===Y){if(void 0===(Q=R[R._pos++]))return!1;Q=0!==Q}if(!1===(ee=d(R,R._pos,"ascii",e,t)))return!1;if(!1===(te=d(R,R._pos,e,t)))return!1;if(Q||"hostbased"===Y){if("hostbased"===Y){if(!1===(ie=d(R,R._pos,"ascii",e,t)))return!1;if(!1===(oe=d(R,R._pos,"utf8",e,t)))return!1}var se=R._pos;if(!1===(re=d(R,se,e,t)))return!1;if(re.length>4+ee.length+4&&re.toString("ascii",4,4+ee.length)===ee&&(re=re.slice(4+ee.length+4)),!1===(re=y(re,ee,e,t)))return!1;ne=Buffer.allocUnsafe(4+A.sessionId.length+se),l(ne,A.sessionId.length,0),A.sessionId.copy(ne,4),R.copy(ne,4+A.sessionId.length,0,se)}else X="publickey -- check";K={keyAlgo:ee,key:te,signature:re,blob:ne,localHostname:ie,localUsername:oe}}else if("keyboard-interactive"===Y){var ae=m(R,R._pos,e,t);if(!1===ae)return!1;if(!1===(K=d(R,R._pos+4+ae,"utf8",e,t)))return!1}else"none"!==Y&&(K=R.slice(R._pos));void 0===X&&(X=Y),e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: USERAUTH_REQUEST ("+X+")"),e._state.authsQueue.push(Y),e.emit("USERAUTH_REQUEST",G,z,Y,K)}else if(O===_.USERAUTH_SUCCESS)"zlib@openssh.com"===A.compress.type&&(A.compress.instance=i.createDeflate(J),A.compress.queue=[]),"zlib@openssh.com"===k.decompress.type&&(k.decompress.instance=i.createInflate(J)),e._state.authsQueue.shift(),e.emit("USERAUTH_SUCCESS");else if(O===_.USERAUTH_FAILURE){var ce=d(R,1,"ascii",e,t);if(!1===ce)return!1;var ue=R[R._pos];if(void 0===ue)return!1;ue=0!==ue,ce=ce.split(","),e._state.authsQueue.shift(),e.emit("USERAUTH_FAILURE",ce,ue)}else if(O===_.USERAUTH_BANNER){if(!1===(o=d(R,1,"utf8",e,t)))return!1;if(!1===(n=d(R,R._pos,"utf8",e,t)))return!1;e.emit("USERAUTH_BANNER",o,n)}else if(O===_.GLOBAL_REQUEST){var le=d(R,1,"ascii",e,t);if(!1===le)return e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: GLOBAL_REQUEST"),!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: GLOBAL_REQUEST ("+le+")");var he,fe=R[R._pos++];if(void 0===fe)return!1;if(fe=0!==fe,"tcpip-forward"===le||"cancel-tcpip-forward"===le){var pe=d(R,R._pos,"ascii",e,t);if(!1===pe)return!1;var de=m(R,R._pos,e,t);if(!1===de)return!1;he={bindAddr:pe,bindPort:de}}else if("streamlocal-forward@openssh.com"===le||"cancel-streamlocal-forward@openssh.com"===le){if(!1===(E=d(R,R._pos,"utf8",e,t)))return!1;he={socketPath:E}}else"no-more-sessions@openssh.com"===le||(he=R.slice(R._pos));e.emit("GLOBAL_REQUEST",le,fe,he)}else if(O===_.REQUEST_SUCCESS)R.length>1?e.emit("REQUEST_SUCCESS",R.slice(1)):e.emit("REQUEST_SUCCESS");else if(O===_.REQUEST_FAILURE)e.emit("REQUEST_FAILURE");else if(O===_.UNIMPLEMENTED);else{if(O===_.KEXINIT)return function(e,t){var r,n=e._state.incoming,i=n.payload,o={algorithms:{kex:void 0,srvHostKey:void 0,cs:{encrypt:void 0,mac:void 0,compress:void 0},sc:{encrypt:void 0,mac:void 0,compress:void 0}},languages:{cs:void 0,sc:void 0}};if(!1===(r=we(i,17,e,t)))return!1;if(o.algorithms.kex=r,!1===(r=we(i,i._pos,e,t)))return!1;if(o.algorithms.srvHostKey=r,!1===(r=we(i,i._pos,e,t)))return!1;if(o.algorithms.cs.encrypt=r,!1===(r=we(i,i._pos,e,t)))return!1;if(o.algorithms.sc.encrypt=r,!1===(r=we(i,i._pos,e,t)))return!1;if(o.algorithms.cs.mac=r,!1===(r=we(i,i._pos,e,t)))return!1;if(o.algorithms.sc.mac=r,!1===(r=we(i,i._pos,e,t)))return!1;if(o.algorithms.cs.compress=r,!1===(r=we(i,i._pos,e,t)))return!1;if(o.algorithms.sc.compress=r,!1===(r=we(i,i._pos,e,t)))return!1;if(o.languages.cs=r,!1===(r=we(i,i._pos,e,t)))return!1;o.languages.sc=r;var s=i._pos<i.length&&1===i[i._pos];n.kexinit=i,e.emit("KEXINIT",o,s)}(e,t);if(O===_.CHANNEL_REQUEST)return function(e,t){var r,n,i,o,s,a,c,l=e._state.incoming.payload,h=m(l,1,e,t);if(!1===h)return!1;var f=d(l,5,"ascii",e,t);if(!1===f)return!1;if("exit-status"===f){var p=m(l,++l._pos,e,t);if(!1===p)return!1;r={recipient:h,request:f,wantReply:!1,code:p}}else if("exit-signal"===f){var g;if(e.remoteBugs&I.OLD_EXIT){if(!1===(c=m(l,++l._pos,e,t)))return!1;switch(c){case 1:c="HUP";break;case 2:c="INT";break;case 3:c="QUIT";break;case 6:c="ABRT";break;case 9:c="KILL";break;case 14:c="ALRM";break;case 15:c="TERM";break;default:c="UNKNOWN ("+c+")"}g=!1}else{if(!1===(c=d(l,++l._pos,"ascii",e,t)))return!1;if(void 0===(g=l[l._pos++]))return!1;g=0!==g}var v=d(l,l._pos,"utf8",e,t);if(!1===v)return!1;var y=d(l,l._pos,"utf8",e,t);if(!1===y)return!1;r={recipient:h,request:f,wantReply:!1,signal:c,coredump:g,description:v,lang:y}}else if("pty-req"===f){if(void 0===(a=l[l._pos++]))return!1;a=0!==a;var w=d(l,l._pos,"ascii",e,t);if(!1===w)return!1;if(!1===(n=m(l,l._pos,e,t)))return!1;if(!1===(i=m(l,l._pos+=4,e,t)))return!1;if(!1===(o=m(l,l._pos+=4,e,t)))return!1;if(!1===(s=m(l,l._pos+=4,e,t)))return!1;var b=d(l,l._pos+=4,e,t);if(!1===b)return!1;b=function(e){for(var t,r={},n=0,i=e.length;n<i&&!((t=e[n])===T.TTY_OP_END||void 0===T[t]||n+5>i);n+=5)r[T[t]]=u(e,n+1);return r}(b),r={recipient:h,request:f,wantReply:a,term:w,cols:n,rows:i,width:o,height:s,modes:b}}else if("window-change"===f){if(!1===(n=m(l,++l._pos,e,t)))return!1;if(!1===(i=m(l,l._pos+=4,e,t)))return!1;if(!1===(o=m(l,l._pos+=4,e,t)))return!1;if(!1===(s=m(l,l._pos+=4,e,t)))return!1;r={recipient:h,request:f,wantReply:!1,cols:n,rows:i,width:o,height:s}}else if("x11-req"===f){if(void 0===(a=l[l._pos++]))return!1;a=0!==a;var E=l[l._pos++];if(void 0===E)return!1;E=0!==E;var _=d(l,l._pos,"ascii",e,t);if(!1===_)return!1;var C=d(l,l._pos,"binary",e,t);if(!1===C)return!1;var S=m(l,l._pos,e,t);if(!1===S)return!1;r={recipient:h,request:f,wantReply:a,single:E,protocol:_,cookie:C,screen:S}}else if("env"===f){if(void 0===(a=l[l._pos++]))return!1;a=0!==a;var k=d(l,l._pos,"utf8",e,t);if(!1===k)return!1;var x=d(l,l._pos,"utf8",e,t);if(!1===x)return!1;r={recipient:h,request:f,wantReply:a,key:k,val:x}}else if("shell"===f){if(void 0===(a=l[l._pos]))return!1;r={recipient:h,request:f,wantReply:a=0!==a}}else if("exec"===f){if(void 0===(a=l[l._pos++]))return!1;a=0!==a;var D=d(l,l._pos,"utf8",e,t);if(!1===D)return!1;r={recipient:h,request:f,wantReply:a,command:D}}else if("subsystem"===f){if(void 0===(a=l[l._pos++]))return!1;a=0!==a;var A=d(l,l._pos,"utf8",e,t);if(!1===A)return!1;r={recipient:h,request:f,wantReply:a,subsystem:A}}else if("signal"===f){if(!1===(c=d(l,++l._pos,"ascii",e,t)))return!1;r={recipient:h,request:f,wantReply:!1,signal:"SIG"+c}}else if("xon-xoff"===f){var R=l[++l._pos];if(void 0===R)return!1;r={recipient:h,request:f,wantReply:!1,clientControl:R=0!==R}}else if("auth-agent-req@openssh.com"===f){if(void 0===(a=l[l._pos]))return!1;r={recipient:h,request:f,wantReply:a=0!==a}}else{if(void 0===(a=l[l._pos]))return!1;r={recipient:h,request:f,wantReply:a=0!==a}}e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_REQUEST ("+h+", "+f+")"),e.emit("CHANNEL_REQUEST:"+h,r)}(e,t);if(O>=30&&O<=49)return function(e,t,r){var n=e._state,i=n.incoming,o=i.payload,s=Z.test(n.kexdh)?C[t]:S[t];if(n.outgoing.status===W||i.expectedPacket!==s){return e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, expected: "+i.expectedPacket+" but got: "+s),e.disconnect(x.PROTOCOL_ERROR),(a=new Error("Received unexpected packet")).level="protocol",e.emit("error",a),!1}if(Z.test(n.kexdh)){var a;if(e.server)return e.disconnect(x.PROTOCOL_ERROR),(a=new Error("DH group exchange not supported by server")).level="handshake",e.emit("error",a),!1;if(t===_.KEXDH_GEX_GROUP){var c=d(o,1,e,r);if(!1===c)return!1;var u=d(o,o._pos,e,r);if(!1===u)return!1;e.emit("KEXDH_GEX_GROUP",c,u)}else if(t===_.KEXDH_GEX_REPLY)return me(e,r)}else if(t===_.KEXDH_INIT){var l=d(o,1,e,r);if(!1===l)return!1;e.emit("KEXDH_INIT",l)}else if(t===_.KEXDH_REPLY)return me(e,r)}(e,O,t);if(O>=60&&O<=70)return function(e,t,r){var n,i,o,s=e._state,a=s.authsQueue[0],c=s.incoming.payload;if("password"===a){if(t===_.USERAUTH_PASSWD_CHANGEREQ){if(!1===(n=d(c,1,"utf8",e,r)))return!1;if(!1===(i=d(c,c._pos,"utf8",e,r)))return!1;e.emit("USERAUTH_PASSWD_CHANGEREQ",n,i)}}else if("keyboard-interactive"===a){if(t===_.USERAUTH_INFO_REQUEST){var u,l,h;if(!1===(u=d(c,1,"utf8",e,r)))return!1;if(!1===(l=d(c,c._pos,"utf8",e,r)))return!1;if(!1===(i=d(c,c._pos,"utf8",e,r)))return!1;if(!1===(h=m(c,c._pos,e,r)))return!1;c._pos+=4;for(var f=[],p=0;p<h;++p){if(!1===(o=d(c,c._pos,"utf8",e,r)))return!1;var g=c[c._pos++];if(void 0===g)return!1;g=0!==g,f.push({prompt:o,echo:g})}e.emit("USERAUTH_INFO_REQUEST",u,l,i,f)}else if(t===_.USERAUTH_INFO_RESPONSE){var v=m(c,1,e,r);if(!1===v)return!1;c._pos=5;for(var y=[],w=0;w<v;++w){if(!1===(o=d(c,c._pos,"utf8",e,r)))return!1;y.push(o)}e.emit("USERAUTH_INFO_RESPONSE",y)}}else if("publickey"===a){if(t===_.USERAUTH_PK_OK){var b=e._state.authsQueue;if(!b.length||"publickey"!==b[0])return;b.shift(),e.emit("USERAUTH_PK_OK")}}else if(void 0!==a){e.disconnect(x.PROTOCOL_ERROR);var E=new Error("Invalid authentication method: "+a);E.level="protocol",e.emit("error",E)}}(e,O,t);var ge=Buffer.allocUnsafe(5);ge[0]=_.UNIMPLEMENTED,l(ge,P,1),Se(e,ge)}}function me(e,t){var r=e._state.incoming.payload,n=d(r,1,e,t);if(!1===n)return!1;var i=d(r,r._pos,e,t);if(!1===i)return!1;var o=d(r,r._pos,e,t);if(!1===o)return!1;var s={hostkey:n,hostkey_format:void 0,pubkey:i,sig:o,sig_format:void 0},a=d(n,0,"ascii",e,t);if(!1===a)return!1;s.hostkey_format=a;var c=d(o,0,"ascii",e,t);if(!1===c)return!1;s.sig_format=c,e.emit("KEXDH_REPLY",s)}function ge(e,t){var r=e._state.incoming,i=r.hmac;if(e.debug("DEBUG: Parser: Verifying MAC"),r.decrypt.info.authLen>0){var o=r.decrypt,s=o.instance;s.setAuthTag(t);var a=s.update(r.packet);return r.payload=a.slice(1,r.packet.length-a[0]),p(o.iv),o.instance=n.createDecipheriv(A[o.type],o.key,o.iv),o.instance.setAutoPadding(!1),!0}var c=n.createHmac(A[i.type],i.key);l(ne,r.seqno,0),l(ne,r.pktLen,4),ne[8]=r.padLen,c.update(ne),c.update(r.packet);var u=c.digest();return u.length>r.hmac.info.actualLen&&(u=u.slice(0,r.hmac.info.actualLen)),Te(u,t)}function ve(e,t){var r=e._state.incoming.decrypt.instance;return e.debug("DEBUG: Parser: Decrypting"),r.update(t)}function ye(e,t,r,n){var i=e._state.incoming.expect;i.amount=r,i.type=t,i.ptr=0,n?i.buf=n:r&&(i.buf=Buffer.allocUnsafe(r))}function we(e,t,r,n){var i=d(e,t,"ascii",r,n);return!1!==i&&(i.length?i.split(","):[])}function be(e,t){return function(e,t){n.randomBytes(e,(function r(i,o){if(i)return n.randomBytes(e,r);t&&t(o)}))}(16,(function(r){var n=e.config.algorithms,i=n.kexBuf;if(e.remoteBugs&I.BAD_DHGEX){for(var o=!1,s=n.kex,a=s.length-1;a>=0;--a)-1!==s[a].indexOf("group-exchange")&&(o||(s=s.slice(),o=!0),s.splice(a,1));o&&(i=Buffer.from(s.join(",")))}var c=n.serverHostKeyBuf,u=21+i.length+4+c.length+2*(4+n.cipherBuf.length)+2*(4+n.hmacBuf.length)+2*(4+n.compressBuf.length)+8+1+4,h=Buffer.allocUnsafe(u),f=17;h[0]=_.KEXINIT,!1!==r&&r.copy(h,1),l(h,i.length,f),f+=4,i.copy(h,f),f+=i.length,l(h,c.length,f),f+=4,c.copy(h,f),f+=c.length,l(h,n.cipherBuf.length,f),f+=4,n.cipherBuf.copy(h,f),f+=n.cipherBuf.length,l(h,n.cipherBuf.length,f),f+=4,n.cipherBuf.copy(h,f),f+=n.cipherBuf.length,l(h,n.hmacBuf.length,f),f+=4,n.hmacBuf.copy(h,f),f+=n.hmacBuf.length,l(h,n.hmacBuf.length,f),f+=4,n.hmacBuf.copy(h,f),f+=n.hmacBuf.length,l(h,n.compressBuf.length,f),f+=4,n.compressBuf.copy(h,f),f+=n.compressBuf.length,l(h,n.compressBuf.length,f),f+=4,n.compressBuf.copy(h,f),f+=n.compressBuf.length,h.fill(0,h.length-13),e.debug("DEBUG: Outgoing: Writing KEXINIT"),e._state.incoming.expectedPacket="KEXINIT";var p=e._state.outgoing;p.kexinit=h,p.status===W&&(p.status=z),Se(e,h,t,!0)})),!0}function Ee(e){var t=e._state,r=t.outgoing,n=Buffer.allocUnsafe(5+r.pubkey.length);return Z.test(t.kexdh)?(t.incoming.expectedPacket="KEXDH_GEX_REPLY",n[0]=_.KEXDH_GEX_INIT,e.debug("DEBUG: Outgoing: Writing KEXDH_GEX_INIT")):(t.incoming.expectedPacket="KEXDH_REPLY",n[0]=_.KEXDH_INIT,"group"!==t.kexdh?e.debug("DEBUG: Outgoing: Writing KEXECDH_INIT"):e.debug("DEBUG: Outgoing: Writing KEXDH_INIT")),l(n,r.pubkey.length,1),r.pubkey.copy(n,5),Se(e,n,void 0,!0)}function _e(e,t,r){var n=e._state.outgoing.compress.instance;n.write(t),n.flush(Y,Ce.bind(e,r))}function Ce(e){if(!this._readableState.ended&&!this._writableState.ended){ke(this,this._state.outgoing.compress.instance.read(),e);var t=this._state.outgoing.compress.queue;t.shift(),t.length>0&&_e(this,t[0][0],t[0][1])}}function Se(e,t,r,n){var i=e._state;if(!i)return!1;var o=i.outgoing;if(o.status===z&&!n)return"function"==typeof r?o.rekeyQueue.push([t,r]):o.rekeyQueue.push(t),!1;if(e._readableState.ended||e._writableState.ended)return!1;if(o.compress.instance){var s=o.compress.queue;return s.push([t,r]),1===s.length&&_e(e,s[0][0],s[0][1]),!0}return ke(e,t,r)}function ke(e,t,r){var i,o,s,a,c,u=e._state.outgoing,h=u.encrypt,f=u.hmac;if(i=t.length+9,!1!==h.instance)if(h.info.authLen>0){for(var d=1+t.length+4;d%h.info.blockLen!=0;)++d;o=d-1-t.length,i=4+d}else{var m=h.info.blockLen;o=(i+=(m-1)*i%m)-t.length-5}else o=(i+=7*i%8)-t.length-5;s=Buffer.allocUnsafe(i),l(s,i-4,0),s[4]=o,t.copy(s,5),xe(s,5+t.length,o),!1!==f.type&&f.key&&(a=n.createHmac(A[f.type],f.key),l(u.bufSeqno,u.seqno,0),a.update(u.bufSeqno),a.update(s),(a=a.digest()).length>f.info.actualLen&&(a=a.slice(0,f.info.actualLen)));var g,v=0;if(!1!==h.instance)if(h.info.authLen>0){var y=n.createCipheriv(A[h.type],h.key,h.iv);y.setAutoPadding(!1);var w=s.slice(0,4);y.setAAD(w),e.push(w),v+=w,g=y.update(s.slice(4)),e.push(g),v+=g.length;var b=y.final();b.length&&(e.push(b),v+=b.length);var E=y.getAuthTag();c=e.push(E),v+=E.length,p(h.iv)}else g=h.instance.update(s),e.push(g),v+=g.length,c=e.push(a),v+=a.length;else c=e.push(s),v=s.length;return e.bytesSent+=v,++u.seqno>V&&(u.seqno=0),r&&r(),c}s(fe,o),fe.prototype.__read=o.prototype._read,fe.prototype._read=function(e){return this._needContinue&&(this._needContinue=!1,this.emit("continue")),this.__read(e)},fe.prototype.__push=o.prototype.push,fe.prototype.push=function(e,t){var r=this.__push(e,t);return this._needContinue=!1===r,r},fe.prototype._cleanup=function(e){this.reset(),this.debug("DEBUG: Parser: Malformed packet"),e&&e(new Error("Malformed packet"))},fe.prototype._transform=function(e,t,r,n){var i,o,s,u,l=!1,h=!1,f=this._state,p=f.incoming,d=f.outgoing,g=p.expect,v=p.decrypt,y=p.decompress,w=e.length,b=0,E=this.debug,C=this,S=0,k=S;for(this.bytesReceived+=w;;){if(void 0!==g.type){if(S>=w)break;if(g.type===X){b=w-S;var D=g.buf.length-g.ptr;D<=b?(e.copy(g.buf,g.ptr,S,S+D),S+=D,o=g.buf,g.buf=void 0,g.ptr=0,g.type=void 0):(e.copy(g.buf,g.ptr,S),g.ptr+=b,S+=b);continue}if(0===g.type){if(S+=p.search.push(e),void 0!==g.type)continue}else if(1===g.type){if(++g.ptr+4>255)return this.reset(),E("DEBUG: Parser: Identification string exceeded 255 characters"),r(new Error("Max identification string size exceeded"));if(10!==e[S]){++S===w&&k<S&&(void 0===g.buf?g.buf=e.toString("ascii",k,S):g.buf+=e.toString("ascii",k,S));continue}g.type=void 0,k<S&&(void 0===g.buf?g.buf=e.toString("ascii",k,S):g.buf+=e.toString("ascii",k,S)),o=g.buf,g.buf=void 0,++S}}if(p.status===L){if(!this.readable)return r();if(this.server)if(o){if(83!==o[0]||83!==o[1]||72!==o[2]||45!==o[3])return this.reset(),E("DEBUG: Parser: Bad identification start"),r(new Error("Bad identification start"));p.status=B,E("DEBUG: Parser: IN_INIT (waiting for rest of identification)")}else E("DEBUG: Parser: IN_INIT (waiting for identification begin)"),ye(this,X,4);else{E("DEBUG: Parser: IN_INIT");var A=p.search=new c(te);A.on("info",(function e(t,r,n,i){r&&(void 0===p.greeting?p.greeting=r.toString("binary",n,i):p.greeting+=r.toString("binary",n,i)),t&&(g.type=void 0,p.search.removeListener("info",e))})),A.maxMatches=1,ye(this,0),p.status=B}}else if(p.status===B)E("DEBUG: Parser: IN_GREETING"),p.search=void 0,k=S,ye(this,1),p.status=M;else{if(p.status===M){E("DEBUG: Parser: IN_HEADER"),13===o.charCodeAt(o.length-1)&&(o=o.slice(0,-1));var T=o.indexOf("-"),R=o.indexOf(" "),I={greeting:p.greeting,identRaw:"SSH-"+o,versions:{protocol:o.substr(0,T),software:-1===R?o.substring(T+1):o.substring(T+1,R)},comments:R>-1?o.substring(R+1):void 0};if(p.greeting=void 0,"1.99"!==I.versions.protocol&&"2.0"!==I.versions.protocol)return this.reset(),E("DEBUG: Parser: protocol version not supported: "+I.versions.protocol),r(new Error("Protocol version not supported"));if(this.emit("header",I),p.status===L)return;var F=I.identRaw,N=I.versions.software;this.debug("DEBUG: Remote ident: "+a(F));for(var G,K=0;K<O;++K)"string"==typeof(G=P[K])[0]?N===G[0]&&(this.remoteBugs|=G[1]):G[0].test(N)&&(this.remoteBugs|=G[1]);return p.identRaw=F,this.bytesReceived-=w-S,be(this,(function(){S===w?r():C._transform(e.slice(S),t,r)})),void(p.status=U)}if(p.status===U)E("DEBUG: Parser: IN_PACKETBEFORE (expecting "+(i=v.instance?v.info.blockLen:8)+")"),ye(this,X,i,v.buf),p.status=j;else if(p.status===j){if(E("DEBUG: Parser: IN_PACKET"),v.instance?((h=v.info.authLen>0)||(o=ve(this,o)),i=v.info.blockLen):(h=!1,i=8),!1===(u=m(o,0,this,r)))return;var J,Q=p.hmac.info,Z=u+4+(J=Q?Q.actualLen:0),ee=this.maxPacketSize;if(y.instance&&(ee+=5*(this.maxPacketSize/16384+1)+6),u>ee||Z<16+J||(u+(h?0:4))%i!=0)return this.disconnect(x.PROTOCOL_ERROR),E("DEBUG: Parser: Bad packet length ("+Z+")"),r(new Error("Bad packet length"));p.pktLen=u;var ne=p.pktLen+4-i;if(h?(v.instance.setAAD(o.slice(0,4)),E("DEBUG: Parser: pktLen:"+p.pktLen+",remainLen:"+ne)):(p.padLen=o[4],E("DEBUG: Parser: pktLen:"+p.pktLen+",padLen:"+p.padLen+",remainLen:"+ne)),ne>0)p.pktExtra=h?o.slice(4):o.slice(5),ye(this,X,ne),p.status=H;else{if(!(ne<0)){l=!0,p.status=H;continue}p.status=U}}else if(p.status===H){E("DEBUG: Parser: IN_PACKETDATA"),v.instance?(h=v.info.authLen>0,l?l=!1:h||(o=ve(this,o))):(h=!1,l=!1);var ie=p.pktLen-p.padLen-1;if(p.pktExtra?(s=Buffer.allocUnsafe(p.pktExtra.length+o.length),p.pktExtra.copy(s),o.copy(s,p.pktExtra.length),p.payload=s.slice(0,ie)):(s=h?o.slice(4):o.slice(5),p.payload=o.slice(5,5+ie)),void 0!==p.hmac.info){var oe=v.info.authLen||p.hmac.info.actualLen;E("DEBUG: Parser: HMAC size:"+oe),ye(this,X,oe,p.hmac.buf),p.status=q,p.packet=s}else p.status=$;p.pktExtra=void 0,s=void 0}else if(p.status===q){if(E("DEBUG: Parser: IN_PACKETDATAVERIFY"),!ge(this,o))return this.reset(),E("DEBUG: Parser: IN_PACKETDATAVERIFY (Invalid HMAC)"),r(new Error("Invalid HMAC"));E("DEBUG: Parser: IN_PACKETDATAVERIFY (Valid HMAC)"),p.status=$,p.packet=void 0}else if(p.status===$){if(y.instance){if(!n){E("DEBUG: Parser: Decompressing"),y.instance.write(p.payload);var se=[],ae=0;return void y.instance.on("readable",(function(){for(var e;e=this.read();)se.push(e),ae+=e.length})).flush(Y,(function(){var n;y.instance.removeAllListeners("readable"),1===se.length?p.payload=se[0]:p.payload=Buffer.concat(se,ae),se=null,n=S===w?re:e.slice(S),C._transform(n,t,r,!0)}))}n=!1}this.emit("packet");var ce=p.payload[0];if(E!==he){var ue="DEBUG: Parser: IN_PACKETDATAAFTER, packet: ",le=f.kexdh,fe=f.authsQueue[0],pe=null;d.status!==z||ce<=4||ce>=20&&ce<=49||(ue+="(enqueued) "),ce===_.KEXDH_INIT?pe="group"===le?"KEXDH_INIT":"e"===le[0]?"KEXECDH_INIT":"KEXDH_GEX_REQUEST":ce===_.KEXDH_REPLY?pe="group"===le?"KEXDH_REPLY":"e"===le[0]?"KEXECDH_REPLY":"KEXDH_GEX_GROUP":ce===_.KEXDH_GEX_GROUP?pe="KEXDH_GEX_GROUP":ce===_.KEXDH_GEX_REPLY?pe="KEXDH_GEX_REPLY":60===ce?pe="password"===fe?"USERAUTH_PASSWD_CHANGEREQ":"keyboard-interactive"===fe?"USERAUTH_INFO_REQUEST":"publickey"===fe?"USERAUTH_PK_OK":"UNKNOWN PACKET 60":61===ce&&(pe="keyboard-interactive"===fe?"USERAUTH_INFO_RESPONSE":"UNKNOWN PACKET 61"),null===pe&&(pe=_[ce]),ce!==_.CHANNEL_OPEN&&ce!==_.CHANNEL_REQUEST&&ce!==_.CHANNEL_SUCCESS&&ce!==_.CHANNEL_FAILURE&&ce!==_.CHANNEL_EOF&&ce!==_.CHANNEL_CLOSE&&ce!==_.CHANNEL_DATA&&ce!==_.CHANNEL_EXTENDED_DATA&&ce!==_.CHANNEL_WINDOW_ADJUST&&ce!==_.DISCONNECT&&ce!==_.USERAUTH_REQUEST&&ce!==_.GLOBAL_REQUEST&&E(ue+pe)}if(d.status===W||ce<=4||ce>=20&&ce<=49){if(!1===de(this,r))return;if(p.status===L)return}else if(d.status===z){if(50===p.rekeyQueue.length)return E("DEBUG: Parser: Max incoming re-key queue length reached"),this.disconnect(x.PROTOCOL_ERROR),r(new Error("Incoming re-key queue length limit reached"));var me=p.seqno;++p.seqno>V&&(p.seqno=0),p.rekeyQueue.push([me,p.payload])}p.status=U,p.payload=void 0}}void 0!==o&&(o=void 0)}r()},fe.prototype.reset=function(e){if(this._state){var t=this._state;t.incoming.status=L,t.outgoing.status=G}else this._state={authsQueue:[],hostkeyFormat:void 0,kex:void 0,kexdh:void 0,incoming:{status:L,expectedPacket:void 0,search:void 0,greeting:void 0,seqno:0,pktLen:void 0,padLen:void 0,pktExtra:void 0,payload:void 0,packet:void 0,kexinit:void 0,identRaw:void 0,rekeyQueue:[],ignoreNext:!1,expect:{amount:void 0,type:void 0,ptr:0,buf:void 0},decrypt:{instance:!1,info:void 0,iv:void 0,key:void 0,buf:void 0,type:void 0},hmac:{info:void 0,key:void 0,buf:void 0,type:!1},decompress:{instance:!1,type:!1}},outgoing:{status:G,seqno:0,bufSeqno:Buffer.allocUnsafe(4),rekeyQueue:[],kexinit:void 0,kexsecret:void 0,pubkey:void 0,exchangeHash:void 0,sessionId:void 0,sentNEWKEYS:!1,encrypt:{instance:!1,info:void 0,iv:void 0,key:void 0,type:void 0},hmac:{info:void 0,key:void 0,buf:void 0,type:!1},compress:{instance:!1,type:!1,queue:null}}};e||this.readable&&this.push(null)},fe.prototype.disconnect=function(e){var t=Buffer.alloc(13);return t[0]=_.DISCONNECT,void 0===x[e]&&(e=x.BY_APPLICATION),l(t,e,1),this.debug("DEBUG: Outgoing: Writing DISCONNECT ("+x[e]+")"),Se(this,t),this.reset(),!1},fe.prototype.ping=function(){return this.debug("DEBUG: Outgoing: Writing ping (GLOBAL_REQUEST: keepalive@openssh.com)"),Se(this,ie)},fe.prototype.rekey=function(){var e=this._state.outgoing.status;if(e===z)throw new Error("A re-key is already in progress");if(e!==W)throw new Error("Cannot re-key yet");return this.debug("DEBUG: Outgoing: Starting re-key"),be(this)},fe.prototype.requestSuccess=function(e){var t;return Buffer.isBuffer(e)?((t=Buffer.allocUnsafe(1+e.length))[0]=_.REQUEST_SUCCESS,e.copy(t,1)):t=ae,this.debug("DEBUG: Outgoing: Writing REQUEST_SUCCESS"),Se(this,t)},fe.prototype.requestFailure=function(){return this.debug("DEBUG: Outgoing: Writing REQUEST_FAILURE"),Se(this,ce)},fe.prototype.channelSuccess=function(e){var t=Buffer.allocUnsafe(5);return t[0]=_.CHANNEL_SUCCESS,l(t,e,1),this.debug("DEBUG: Outgoing: Writing CHANNEL_SUCCESS ("+e+")"),Se(this,t)},fe.prototype.channelFailure=function(e){var t=Buffer.allocUnsafe(5);return t[0]=_.CHANNEL_FAILURE,l(t,e,1),this.debug("DEBUG: Outgoing: Writing CHANNEL_FAILURE ("+e+")"),Se(this,t)},fe.prototype.channelEOF=function(e){var t=Buffer.allocUnsafe(5);return t[0]=_.CHANNEL_EOF,l(t,e,1),this.debug("DEBUG: Outgoing: Writing CHANNEL_EOF ("+e+")"),Se(this,t)},fe.prototype.channelClose=function(e){var t=Buffer.allocUnsafe(5);return t[0]=_.CHANNEL_CLOSE,l(t,e,1),this.debug("DEBUG: Outgoing: Writing CHANNEL_CLOSE ("+e+")"),Se(this,t)},fe.prototype.channelWindowAdjust=function(e,t){var r=Buffer.allocUnsafe(9);return r[0]=_.CHANNEL_WINDOW_ADJUST,l(r,e,1),l(r,t,5),this.debug("DEBUG: Outgoing: Writing CHANNEL_WINDOW_ADJUST ("+e+", "+t+")"),Se(this,r)},fe.prototype.channelData=function(e,t){var r=Buffer.isBuffer(t),n=r?t.length:Buffer.byteLength(t),i=Buffer.allocUnsafe(9+n);return i[0]=_.CHANNEL_DATA,l(i,e,1),l(i,n,5),r?t.copy(i,9):i.write(t,9,n,"utf8"),this.debug("DEBUG: Outgoing: Writing CHANNEL_DATA ("+e+")"),Se(this,i)},fe.prototype.channelExtData=function(e,t,r){var n=Buffer.isBuffer(t),i=n?t.length:Buffer.byteLength(t),o=Buffer.allocUnsafe(13+i);return o[0]=_.CHANNEL_EXTENDED_DATA,l(o,e,1),l(o,r,5),l(o,i,9),n?t.copy(o,13):o.write(t,13,i,"utf8"),this.debug("DEBUG: Outgoing: Writing CHANNEL_EXTENDED_DATA ("+e+")"),Se(this,o)},fe.prototype.channelOpenConfirm=function(e,t,r,n){var i=Buffer.allocUnsafe(17);return i[0]=_.CHANNEL_OPEN_CONFIRMATION,l(i,e,1),l(i,t,5),l(i,r,9),l(i,n,13),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN_CONFIRMATION (r:"+e+", l:"+t+")"),Se(this,i)},fe.prototype.channelOpenFail=function(e,t,r,n){"string"!=typeof r&&(r=""),"string"!=typeof n&&(n="");var i=Buffer.byteLength(r),o=Buffer.byteLength(n),s=9,a=Buffer.allocUnsafe(13+i+4+o);return a[0]=_.CHANNEL_OPEN_FAILURE,l(a,e,1),l(a,t,5),l(a,i,s),s+=4,i&&(a.write(r,s,i,"utf8"),s+=i),l(a,o,s),o&&a.write(n,s+=4,o,"ascii"),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN_FAILURE ("+e+")"),Se(this,a)},fe.prototype.service=function(e){if(this.server)throw new Error("Client-only method called in server mode");var t=Buffer.byteLength(e),r=Buffer.allocUnsafe(5+t);return r[0]=_.SERVICE_REQUEST,l(r,t,1),r.write(e,5,t,"ascii"),this.debug("DEBUG: Outgoing: Writing SERVICE_REQUEST ("+e+")"),Se(this,r)},fe.prototype.tcpipForward=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.byteLength(e),i=Buffer.allocUnsafe(23+n+4);return i[0]=_.GLOBAL_REQUEST,l(i,13,1),i.write("tcpip-forward",5,13,"ascii"),i[18]=void 0===r||!0===r?1:0,l(i,n,19),i.write(e,23,n,"ascii"),l(i,t,23+n),this.debug("DEBUG: Outgoing: Writing GLOBAL_REQUEST (tcpip-forward)"),Se(this,i)},fe.prototype.cancelTcpipForward=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.byteLength(e),i=Buffer.allocUnsafe(30+n+4);return i[0]=_.GLOBAL_REQUEST,l(i,20,1),i.write("cancel-tcpip-forward",5,20,"ascii"),i[25]=void 0===r||!0===r?1:0,l(i,n,26),i.write(e,30,n,"ascii"),l(i,t,30+n),this.debug("DEBUG: Outgoing: Writing GLOBAL_REQUEST (cancel-tcpip-forward)"),Se(this,i)},fe.prototype.openssh_streamLocalForward=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.byteLength(e),n=Buffer.allocUnsafe(41+r);return n[0]=_.GLOBAL_REQUEST,l(n,31,1),n.write("streamlocal-forward@openssh.com",5,31,"ascii"),n[36]=void 0===t||!0===t?1:0,l(n,r,37),n.write(e,41,r,"utf8"),this.debug("DEBUG: Outgoing: Writing GLOBAL_REQUEST (streamlocal-forward@openssh.com)"),Se(this,n)},fe.prototype.openssh_cancelStreamLocalForward=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.byteLength(e),n=Buffer.allocUnsafe(48+r);return n[0]=_.GLOBAL_REQUEST,l(n,38,1),n.write("cancel-streamlocal-forward@openssh.com",5,38,"ascii"),n[43]=void 0===t||!0===t?1:0,l(n,r,44),n.write(e,48,r,"utf8"),this.debug("DEBUG: Outgoing: Writing GLOBAL_REQUEST (cancel-streamlocal-forward@openssh.com)"),Se(this,n)},fe.prototype.directTcpip=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i=Buffer.byteLength(n.srcIP),o=Buffer.byteLength(n.dstIP),s=29,a=Buffer.allocUnsafe(33+i+4+4+o+4);return a[0]=_.CHANNEL_OPEN,l(a,12,1),a.write("direct-tcpip",5,12,"ascii"),l(a,e,17),l(a,t,21),l(a,r,25),l(a,o,s),a.write(n.dstIP,s+=4,o,"ascii"),l(a,n.dstPort,s+=o),l(a,i,s+=4),a.write(n.srcIP,s+=4,i,"ascii"),l(a,n.srcPort,s+=i),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", direct-tcpip)"),Se(this,a)},fe.prototype.openssh_directStreamLocal=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i=Buffer.byteLength(n.socketPath),o=47,s=Buffer.allocUnsafe(51+i+4+4);return s[0]=_.CHANNEL_OPEN,l(s,30,1),s.write("direct-streamlocal@openssh.com",5,30,"ascii"),l(s,e,35),l(s,t,39),l(s,r,43),l(s,i,o),s.write(n.socketPath,o+=4,i,"utf8"),s.fill(0,s.length-8),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", direct-streamlocal@openssh.com)"),Se(this,s)},fe.prototype.openssh_noMoreSessions=function(e){if(this.server)throw new Error("Client-only method called in server mode");var t=Buffer.allocUnsafe(34);return t[0]=_.GLOBAL_REQUEST,l(t,28,1),t.write("no-more-sessions@openssh.com",5,28,"ascii"),t[33]=void 0===e||!0===e?1:0,this.debug("DEBUG: Outgoing: Writing GLOBAL_REQUEST (no-more-sessions@openssh.com)"),Se(this,t)},fe.prototype.session=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.allocUnsafe(24);return n[0]=_.CHANNEL_OPEN,l(n,7,1),n.write("session",5,7,"ascii"),l(n,e,12),l(n,t,16),l(n,r,20),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", session)"),Se(this,n)},fe.prototype.windowChange=function(e,t,r,n,i){if(this.server)throw new Error("Client-only method called in server mode");var o=Buffer.allocUnsafe(39);return o[0]=_.CHANNEL_REQUEST,l(o,e,1),l(o,13,5),o.write("window-change",9,13,"ascii"),o[22]=0,l(o,r,23),l(o,t,27),l(o,i,31),l(o,n,35),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", window-change)"),Se(this,o)},fe.prototype.pty=function(e,t,r,n,i,o,s,a){if(this.server)throw new Error("Client-only method called in server mode");o&&o.length||(o="vt100"),!s||Buffer.isBuffer(s)||Array.isArray(s)||"object"!=typeof s||(s=function(e){for(var t,r,n,i=/^\d+$/,o=Object.keys(e),s=0,a=[],c=0,u=o.length;c<u;++c)t=o[c],(r=T[t])&&!i.test(t)&&"number"==typeof e[t]&&"TTY_OP_END"!==t&&(n=e[t],a[s++]=r,a[s++]=n>>>24&255,a[s++]=n>>>16&255,a[s++]=n>>>8&255,a[s++]=255&n);return a[s]=T.TTY_OP_END,a}(s)),s&&s.length||(s=ue);var c=o.length,u=s.length,h=21,f=Buffer.allocUnsafe(21+c+4+4+4+4+4+u);if(f[0]=_.CHANNEL_REQUEST,l(f,e,1),l(f,7,5),f.write("pty-req",9,7,"ascii"),f[16]=void 0===a||!0===a?1:0,l(f,c,17),f.write(o,21,c,"utf8"),l(f,r,h+=c),l(f,t,h+=4),l(f,i,h+=4),l(f,n,h+=4),l(f,u,h+=4),h+=4,Array.isArray(s))for(var p=0;p<u;++p)f[h++]=s[p];else Buffer.isBuffer(s)&&s.copy(f,h);return this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", pty-req)"),Se(this,f)},fe.prototype.shell=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.allocUnsafe(15);return r[0]=_.CHANNEL_REQUEST,l(r,e,1),l(r,5,5),r.write("shell",9,5,"ascii"),r[14]=void 0===t||!0===t?1:0,this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", shell)"),Se(this,r)},fe.prototype.exec=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.isBuffer(t)?t.length:Buffer.byteLength(t),i=Buffer.allocUnsafe(18+n);return i[0]=_.CHANNEL_REQUEST,l(i,e,1),l(i,4,5),i.write("exec",9,4,"ascii"),i[13]=void 0===r||!0===r?1:0,l(i,n,14),Buffer.isBuffer(t)?t.copy(i,18):i.write(t,18,n,"utf8"),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", exec)"),Se(this,i)},fe.prototype.signal=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");if("SIG"===(t=t.toUpperCase()).slice(0,3)&&(t=t.substring(3)),-1===R.indexOf(t))throw new Error("Invalid signal: "+t);var r=t.length,n=Buffer.allocUnsafe(20+r);return n[0]=_.CHANNEL_REQUEST,l(n,e,1),l(n,6,5),n.write("signal",9,6,"ascii"),n[15]=0,l(n,r,16),n.write(t,20,r,"ascii"),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", signal)"),Se(this,n)},fe.prototype.env=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i=Buffer.byteLength(t),o=Buffer.isBuffer(r)?r.length:Buffer.byteLength(r),s=Buffer.allocUnsafe(17+i+4+o);return s[0]=_.CHANNEL_REQUEST,l(s,e,1),l(s,3,5),s.write("env",9,3,"ascii"),s[12]=void 0===n||!0===n?1:0,l(s,i,13),s.write(t,17,i,"ascii"),l(s,o,17+i),Buffer.isBuffer(r)?r.copy(s,17+i+4):s.write(r,17+i+4,o,"utf8"),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", env)"),Se(this,s)},fe.prototype.x11Forward=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.byteLength(t.protocol),i=Buffer.byteLength(t.cookie),o=Buffer.allocUnsafe(22+n+4+i+4);o[0]=_.CHANNEL_REQUEST,l(o,e,1),l(o,7,5),o.write("x11-req",9,7,"ascii"),o[16]=void 0===r||!0===r?1:0,o[17]=t.single?1:0,l(o,n,18);var s=22;return Buffer.isBuffer(t.protocol)?t.protocol.copy(o,s):o.write(t.protocol,s,n,"utf8"),l(o,i,s+=n),s+=4,Buffer.isBuffer(t.cookie)?t.cookie.copy(o,s):o.write(t.cookie,s,i,"binary"),s+=i,l(o,t.screen||0,s),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", x11-req)"),Se(this,o)},fe.prototype.subsystem=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.byteLength(t),i=Buffer.allocUnsafe(23+n);return i[0]=_.CHANNEL_REQUEST,l(i,e,1),l(i,9,5),i.write("subsystem",9,9,"ascii"),i[18]=void 0===r||!0===r?1:0,l(i,n,19),i.write(t,23,n,"ascii"),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", subsystem: "+t+")"),Se(this,i)},fe.prototype.openssh_agentForward=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.allocUnsafe(36);return r[0]=_.CHANNEL_REQUEST,l(r,e,1),l(r,26,5),r.write("auth-agent-req@openssh.com",9,26,"ascii"),r[35]=void 0===t||!0===t?1:0,this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", auth-agent-req@openssh.com)"),Se(this,r)},fe.prototype.authPassword=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.byteLength(e),n=Buffer.byteLength(t),i=0,o=Buffer.allocUnsafe(5+r+4+14+4+8+1+4+n);return o[i]=_.USERAUTH_REQUEST,l(o,r,++i),o.write(e,i+=4,r,"utf8"),l(o,14,i+=r),o.write("ssh-connection",i+=4,14,"ascii"),l(o,8,i+=14),o.write("password",i+=4,8,"ascii"),o[i+=8]=0,l(o,n,++i),o.write(t,i+=4,n,"utf8"),this._state.authsQueue.push("password"),this.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (password)"),Se(this,o)},fe.prototype.authPK=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n,i=this,o=this._state.outgoing;"function"==typeof t.getPublicSSH?(n=t.type,t=t.getPublicSSH()):n=t.toString("ascii",4,4+u(t,0));var s=Buffer.byteLength(e),a=Buffer.byteLength(n),c=t.length,h=o.sessionId.length,f=0,p=Buffer.allocUnsafe((r?4+h:0)+1+4+s+4+14+4+9+1+4+a+4+c);return r?(l(p,h,f),o.sessionId.copy(p,f+=4),p[f+=h]=_.USERAUTH_REQUEST):p[f]=_.USERAUTH_REQUEST,l(p,s,++f),p.write(e,f+=4,s,"utf8"),l(p,14,f+=s),p.write("ssh-connection",f+=4,14,"ascii"),l(p,9,f+=14),p.write("publickey",f+=4,9,"ascii"),p[f+=9]=r?1:0,l(p,a,++f),p.write(n,f+=4,a,"ascii"),l(p,c,f+=a),t.copy(p,f+=4),r?(r(p,(function(r){if(!1===(r=Ae(r,n)))throw new Error("Error while converting handshake signature");var o=r.length,u=Buffer.allocUnsafe(5+s+4+14+4+9+1+4+a+4+c+4+4+a+4+o);return u[f=0]=_.USERAUTH_REQUEST,l(u,s,++f),u.write(e,f+=4,s,"utf8"),l(u,14,f+=s),u.write("ssh-connection",f+=4,14,"ascii"),l(u,9,f+=14),u.write("publickey",f+=4,9,"ascii"),u[f+=9]=1,l(u,a,++f),u.write(n,f+=4,a,"ascii"),l(u,c,f+=a),t.copy(u,f+=4),l(u,4+a+4+o,f+=c),l(u,a,f+=4),u.write(n,f+=4,a,"ascii"),l(u,o,f+=a),r.copy(u,f+=4),i._state.authsQueue.push("publickey"),i.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (publickey)"),Se(i,u)})),!0):(this._state.authsQueue.push("publickey"),this.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (publickey -- check)"),Se(this,p))},fe.prototype.authHostbased=function(e,t,r,n,i){if(this.server)throw new Error("Client-only method called in server mode");var o,s=this,a=this._state.outgoing;"function"==typeof t.getPublicSSH?(o=t.type,t=t.getPublicSSH()):o=t.toString("ascii",4,4+u(t,0));var c=Buffer.byteLength(e),h=Buffer.byteLength(o),f=t.length,p=a.sessionId.length,d=Buffer.byteLength(r),m=Buffer.byteLength(n),g=0,v=Buffer.allocUnsafe(4+p+1+4+c+4+14+4+9+4+h+4+f+4+d+4+m);return l(v,p,g),a.sessionId.copy(v,g+=4),v[g+=p]=_.USERAUTH_REQUEST,l(v,c,++g),v.write(e,g+=4,c,"utf8"),l(v,14,g+=c),v.write("ssh-connection",g+=4,14,"ascii"),l(v,9,g+=14),v.write("hostbased",g+=4,9,"ascii"),l(v,h,g+=9),v.write(o,g+=4,h,"ascii"),l(v,f,g+=h),t.copy(v,g+=4),l(v,d,g+=f),v.write(r,g+=4,d,"ascii"),l(v,m,g+=d),v.write(n,g+=4,m,"utf8"),i(v,(function(e){if(!1===(e=Ae(e,o)))throw new Error("Error while converting handshake signature");var t=e.length,r=Buffer.allocUnsafe(v.length-p+t);return v.copy(r,0,4+p),l(r,t,r.length-t-4),e.copy(r,r.length-t),s._state.authsQueue.push("hostbased"),s.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (hostbased)"),Se(s,r)})),!0},fe.prototype.authKeyboard=function(e){if(this.server)throw new Error("Client-only method called in server mode");var t=Buffer.byteLength(e),r=0,n=Buffer.allocUnsafe(5+t+4+14+4+20+4+4);return n[r]=_.USERAUTH_REQUEST,l(n,t,++r),n.write(e,r+=4,t,"utf8"),l(n,14,r+=t),n.write("ssh-connection",r+=4,14,"ascii"),l(n,20,r+=14),n.write("keyboard-interactive",r+=4,20,"ascii"),l(n,0,r+=20),l(n,0,r+=4),this._state.authsQueue.push("keyboard-interactive"),this.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (keyboard-interactive)"),Se(this,n)},fe.prototype.authNone=function(e){if(this.server)throw new Error("Client-only method called in server mode");var t=Buffer.byteLength(e),r=0,n=Buffer.allocUnsafe(5+t+4+14+4+4);return n[r]=_.USERAUTH_REQUEST,l(n,t,++r),n.write(e,r+=4,t,"utf8"),l(n,14,r+=t),n.write("ssh-connection",r+=4,14,"ascii"),l(n,4,r+=14),n.write("none",r+=4,4,"ascii"),this._state.authsQueue.push("none"),this.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (none)"),Se(this,n)},fe.prototype.authInfoRes=function(e){if(this.server)throw new Error("Client-only method called in server mode");var t,r,n,i=0,o=0;if(e)for(n=0,r=e.length;n<r;++n)i+=4+Buffer.byteLength(e[n]);var s=Buffer.allocUnsafe(5+i);if(s[o++]=_.USERAUTH_INFO_RESPONSE,l(s,e?e.length:0,o),e)for(o+=4,n=0,r=e.length;n<r;++n)t=Buffer.byteLength(e[n]),l(s,t,o),o+=4,t&&(s.write(e[n],o,t,"utf8"),o+=t);return this.debug("DEBUG: Outgoing: Writing USERAUTH_INFO_RESPONSE"),Se(this,s)},fe.prototype.serviceAccept=function(e){if(!this.server)throw new Error("Server-only method called in client mode");var t=e.length,r=Buffer.allocUnsafe(5+t);if(r[0]=_.SERVICE_ACCEPT,l(r,t,1),r.write(e,5,t,"ascii"),this.debug("DEBUG: Outgoing: Writing SERVICE_ACCEPT ("+e+")"),Se(this,r),this.server&&this.banner&&"ssh-userauth"===e){var n=Buffer.byteLength(this.banner),i=5+n+4,o=Buffer.allocUnsafe(i);o[0]=_.USERAUTH_BANNER,l(o,n,1),o.write(this.banner,5,n,"utf8"),o.fill(0,i-4),this.debug("DEBUG: Outgoing: Writing USERAUTH_BANNER"),Se(this,o),this.banner=void 0}},fe.prototype.forwardedTcpip=function(e,t,r,n){if(!this.server)throw new Error("Server-only method called in client mode");var i=Buffer.byteLength(n.boundAddr),o=Buffer.byteLength(n.remoteAddr),s=36+i,a=Buffer.allocUnsafe(36+i+4+4+o+4);return a[0]=_.CHANNEL_OPEN,l(a,15,1),a.write("forwarded-tcpip",5,15,"ascii"),l(a,e,20),l(a,t,24),l(a,r,28),l(a,i,32),a.write(n.boundAddr,36,i,"ascii"),l(a,n.boundPort,s),l(a,o,s+=4),a.write(n.remoteAddr,s+=4,o,"ascii"),l(a,n.remotePort,s+=o),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", forwarded-tcpip)"),Se(this,a)},fe.prototype.x11=function(e,t,r,n){if(!this.server)throw new Error("Server-only method called in client mode");var i=Buffer.byteLength(n.originAddr),o=24+i,s=Buffer.allocUnsafe(24+i+4);return s[0]=_.CHANNEL_OPEN,l(s,3,1),s.write("x11",5,3,"ascii"),l(s,e,8),l(s,t,12),l(s,r,16),l(s,i,20),s.write(n.originAddr,24,i,"ascii"),l(s,n.originPort,o),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", x11)"),Se(this,s)},fe.prototype.openssh_authAgent=function(e,t,r){if(!this.server)throw new Error("Server-only method called in client mode");var n=Buffer.allocUnsafe(39);return n[0]=_.CHANNEL_OPEN,l(n,22,1),n.write("auth-agent@openssh.com",5,22,"ascii"),l(n,e,27),l(n,t,31),l(n,r,35),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", auth-agent@openssh.com)"),Se(this,n)},fe.prototype.openssh_forwardedStreamLocal=function(e,t,r,n){if(!this.server)throw new Error("Server-only method called in client mode");var i=Buffer.byteLength(n.socketPath),o=Buffer.allocUnsafe(54+i+4);return o[0]=_.CHANNEL_OPEN,l(o,33,1),o.write("forwarded-streamlocal@openssh.com",5,33,"ascii"),l(o,e,38),l(o,t,42),l(o,r,46),l(o,i,50),o.write(n.socketPath,54,i,"utf8"),l(o,0,54+i),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", forwarded-streamlocal@openssh.com)"),Se(this,o)},fe.prototype.exitStatus=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");var r=Buffer.allocUnsafe(25);return r[0]=_.CHANNEL_REQUEST,l(r,e,1),l(r,11,5),r.write("exit-status",9,11,"ascii"),r[20]=0,l(r,t,21),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", exit-status)"),Se(this,r)},fe.prototype.exitSignal=function(e,t,r,n){if(!this.server)throw new Error("Server-only method called in client mode");var i=Buffer.byteLength(t),o=n?Buffer.byteLength(n):0,s=25+i,a=Buffer.allocUnsafe(25+i+1+4+o+4);return a[0]=_.CHANNEL_REQUEST,l(a,e,1),l(a,11,5),a.write("exit-signal",9,11,"ascii"),a[20]=0,l(a,i,21),a.write(t,25,i,"utf8"),a[s++]=r?1:0,l(a,o,s),s+=4,o&&(a.write(n,s,o,"utf8"),s+=o),l(a,0,s),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", exit-signal)"),Se(this,a)},fe.prototype.authFailure=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");var r;if(!this._state.authsQueue.length)throw new Error("No auth in progress");if("boolean"==typeof e&&(t=e,e=void 0),e){r=[];for(var n=0,i=e.length;n<i;++n)"none"!==e[n].toLowerCase()&&r.push(e[n]);r=r.join(",")}else r="";var o=r.length,s=Buffer.allocUnsafe(5+o+1);return s[0]=_.USERAUTH_FAILURE,l(s,o,1),s.write(r,5,o,"ascii"),s[5+o]=!0===t?1:0,this._state.authsQueue.shift(),this.debug("DEBUG: Outgoing: Writing USERAUTH_FAILURE"),Se(this,s)},fe.prototype.authSuccess=function(){if(!this.server)throw new Error("Server-only method called in client mode");if(!this._state.authsQueue.length)throw new Error("No auth in progress");var e=this._state,t=e.outgoing,r=e.incoming;e.authsQueue.shift(),this.debug("DEBUG: Outgoing: Writing USERAUTH_SUCCESS");var n=Se(this,se);return"zlib@openssh.com"===t.compress.type&&(t.compress.instance=i.createDeflate(J),t.compress.queue=[]),"zlib@openssh.com"===r.decompress.type&&(r.decompress.instance=i.createInflate(J)),n},fe.prototype.authPKOK=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");var r=this._state.authsQueue;if(!r.length||"publickey"!==r[0])throw new Error('"publickey" auth not in progress');var n=e.length,i=t.length,o=Buffer.allocUnsafe(5+n+4+i);return o[0]=_.USERAUTH_PK_OK,l(o,n,1),o.write(e,5,n,"ascii"),l(o,i,5+n),t.copy(o,5+n+4),this._state.authsQueue.shift(),this.debug("DEBUG: Outgoing: Writing USERAUTH_PK_OK"),Se(this,o)},fe.prototype.authPasswdChg=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");var r=Buffer.byteLength(e),n=t?t.length:0,i=0,o=Buffer.allocUnsafe(5+r+4+n);return o[i]=_.USERAUTH_PASSWD_CHANGEREQ,l(o,r,++i),o.write(e,i+=4,r,"utf8"),l(o,n,i+=r),n&&o.write(t,i+=4,n,"ascii"),this.debug("DEBUG: Outgoing: Writing USERAUTH_PASSWD_CHANGEREQ"),Se(this,o)},fe.prototype.authInfoReq=function(e,t,r){if(!this.server)throw new Error("Server-only method called in client mode");var n,i,o,s,a=0,c=e?Buffer.byteLength(e):0,u=t?Buffer.byteLength(t):0,h=0;for(s=0,o=r.length;s<o;++s)a+=4+Buffer.byteLength(r[s].prompt)+1;var f=Buffer.allocUnsafe(5+c+4+u+4+4+a);for(f[h++]=_.USERAUTH_INFO_REQUEST,l(f,c,h),h+=4,e&&(f.write(e,h,c,"utf8"),h+=c),l(f,u,h),h+=4,t&&(f.write(t,h,u,"utf8"),h+=u),l(f,0,h),h+=4,l(f,r.length,h),h+=4,s=0,o=r.length;s<o;++s)i=r[s],n=Buffer.byteLength(i.prompt),l(f,n,h),h+=4,n&&(f.write(i.prompt,h,n,"utf8"),h+=n),f[h++]=i.echo?1:0;return this.debug("DEBUG: Outgoing: Writing USERAUTH_INFO_REQUEST"),Se(this,f)};var xe="function"==typeof n.randomFillSync?n.randomFillSync:function(e,t,r){n.randomBytes(r).copy(e,t)};function De(e,t){try{return e.computeSecret(t)}catch(e){return e}}function Ae(e,t){switch(t){case"ssh-dss":return g(e);case"ecdsa-sha2-nistp256":case"ecdsa-sha2-nistp384":case"ecdsa-sha2-nistp521":return v(e)}return e}var Te="function"==typeof n.timingSafeEqual?function(e,t){return e.length!==t.length?(n.timingSafeEqual(e,e),!1):n.timingSafeEqual(e,t)}:function(e,t){var r;e.length===t.length?r=0:(r=1,t=e);for(var n=0,i=e.length;n<i;++n)r|=e[n]^t[n];return 0===r};e.exports=fe,e.exports._send=Se},function(e,t,r){var n=r(6).EventEmitter;function i(e,t,r,n,i){for(var o=0;o<i;++o,++t,++n)if(e[t]!==r[n])return!1;return!0}function o(e){"string"==typeof e&&(e=new Buffer(e));var t,r,n=e.length;for(this.maxMatches=1/0,this.matches=0,this._occ=new Array(256),this._lookbehind_size=0,this._needle=e,this._bufpos=0,this._lookbehind=new Buffer(n),r=0;r<256;++r)this._occ[r]=n;if(n>=1)for(t=0;t<n-1;++t)this._occ[e[t]]=n-1-t}(0,r(0).inherits)(o,n),o.prototype.reset=function(){this._lookbehind_size=0,this.matches=0,this._bufpos=0},o.prototype.push=function(e,t){var r,n;for(Buffer.isBuffer(e)||(e=new Buffer(e,"binary")),n=e.length,this._bufpos=t||0;r!==n&&this.matches<this.maxMatches;)r=this._sbmh_feed(e);return r},o.prototype._sbmh_feed=function(e){var t=e.length,r=this._needle,n=r.length,o=-this._lookbehind_size,s=r[n-1],a=this._occ,c=this._lookbehind;if(o<0){for(;o<0&&o<=t-n;){if((l=this._sbmh_lookup_char(e,o+n-1))===s&&this._sbmh_memcmp(e,o,n-1))return this._lookbehind_size=0,++this.matches,o>-this._lookbehind_size?this.emit("info",!0,c,0,this._lookbehind_size+o):this.emit("info",!0),this._bufpos=o+n,o+n;o+=a[l]}if(o<0)for(;o<0&&!this._sbmh_memcmp(e,o,t-o);)o++;if(!(o>=0)){var u=this._lookbehind_size+o;return u>0&&this.emit("info",!1,c,0,u),c.copy(c,0,u,this._lookbehind_size-u),this._lookbehind_size-=u,e.copy(c,this._lookbehind_size),this._lookbehind_size+=t,this._bufpos=t,t}this.emit("info",!1,c,0,this._lookbehind_size),this._lookbehind_size=0}for(o>=0&&(o+=this._bufpos);o<=t-n;){var l;if((l=e[o+n-1])===s&&e[o]===r[0]&&i(r,0,e,o,n-1))return++this.matches,o>0?this.emit("info",!0,e,this._bufpos,o):this.emit("info",!0),this._bufpos=o+n,o+n;o+=a[l]}if(o<t){for(;o<t&&(e[o]!==r[0]||!i(e,o,r,0,t-o));)++o;o<t&&(e.copy(c,0,o,o+(t-o)),this._lookbehind_size=t-o)}return o>0&&this.emit("info",!1,e,this._bufpos,o<t?o:t),this._bufpos=t,t},o.prototype._sbmh_lookup_char=function(e,t){return t<0?this._lookbehind[this._lookbehind_size+t]:e[t]},o.prototype._sbmh_memcmp=function(e,t,r){for(var n=0;n<r;){if(this._sbmh_lookup_char(e,t+n)!==this._needle[n])return!1;++n}return!0},e.exports=o},function(e){e.exports=JSON.parse('{"name":"ssh2-streams","version":"0.4.8","author":"Brian White <mscdex@mscdex.net>","description":"SSH2 and SFTP(v3) client/server protocol streams for node.js","main":"./index","engines":{"node":">=5.2.0"},"dependencies":{"asn1":"~0.2.0","bcrypt-pbkdf":"^1.0.2","streamsearch":"~0.1.2"},"scripts":{"test":"node test/test.js"},"keywords":["ssh","ssh2","sftp","secure","protocol","streams","client","server"],"licenses":[{"type":"MIT","url":"http://github.com/mscdex/ssh2-streams/raw/master/LICENSE"}],"repository":{"type":"git","url":"http://github.com/mscdex/ssh2-streams.git"}}')},function(e,t,r){var n,i=r(10).Agent,o=r(37).Agent,s=r(0).inherits;function a(e,t){var i=e&&e.localAddress||this._defaultSrcIP,o=e&&e.localPort||0,s=e.host,a=e.port;void 0===n&&(n=r(172).Client);var u=new n,l=!1;u.on("ready",()=>{u.forwardOut(i,o,s,a,(e,r)=>{if(l=!0,e)return u.end(),t(e);r.once("close",()=>{u.end()}),t(null,function(e){return e.setKeepAlive=c,e.setNoDelay=c,e.setTimeout=c,e.ref=c,e.unref=c,e.destroySoon=e.destroy,e}(r))})}).on("error",t).on("close",()=>{l||t(new Error("Unexpected connection loss"))}).connect(this._connectCfg)}function c(){}[i,o].forEach(e=>{function r(t,n){if(!(this instanceof r))return new r(t,n);e.call(this,n),this._connectCfg=t,this._defaultSrcIP=n&&n.srcIP||"localhost"}s(r,e),r.prototype.createConnection=a,t[e===i?"SSHTTPAgent":"SSHTTPSAgent"]=r})},function(e,t,r){var n=r(33).Socket,i=r(6).EventEmitter,o=r(0).inherits,s=r(1),a=r(3),c=r(28),u=r(62).readUInt32BE,l=r(62).writeUInt32BE,h=r(62).writeUInt32LE,f=11,p=12,d=13,m=14,g=5,v=/^\!<socket >(\d+) s ([A-Z0-9]{8}\-[A-Z0-9]{8}\-[A-Z0-9]{8}\-[A-Z0-9]{8})/,y=/^[/\\][/\\]\.[/\\]pipe[/\\].+/;if(e.exports=function(e,t,r,i,o){var s,w,b,_,C,S,k,x,D=0,A=Buffer.isBuffer(t),T=0,R=0,I=0,P=0,O=!1;function F(){var e;if(A){var r=9;e=Buffer.allocUnsafe(9+D+4+_+4),l(e,e.length-4,0),e[4]=d,l(e,D,5),t.copy(e,r),l(e,_,r+=D),i.copy(e,r+=4),l(e,0,r+=_),s.write(e)}else s.write(Buffer.from([0,0,0,1,f]))}function N(e){for(var r=0,n=e.length;r<n;++r)if(void 0===C)5==++T&&(C=e[r],T=0);else if(C===m)if(b){if(b[T]=e[r],++T===R)return s.removeAllListeners("data"),s.destroy()}else R<<=8,R+=e[r],4==++T&&(b=Buffer.allocUnsafe(R),T=0);else if(C===p)if(void 0===S){if(I<<=8,I+=e[r],4==++T&&(S=new Array(I),T=0,0===I))return s.removeAllListeners("data"),s.destroy()}else if(t)if(!1===O){if(t[T]=e[r],++T===D&&(S[I-1]=t,D=0,T=0,O=!0,0==--I))return t=void 0,s.removeAllListeners("data"),s.destroy()}else!0===O?(P<<=8,P+=e[r],4==++T&&(T=0,P>0?O=P:(t=void 0,O=!1),P=0)):++T===O&&(O=!1,T=0,t=void 0);else D<<=8,D+=e[r],4==++T&&(t=Buffer.allocUnsafe(D),T=0);else if(C===g)return w=A?new Error("Agent unable to sign data"):new Error("Unable to retrieve list of keys from agent"),s.removeAllListeners("data"),s.destroy()}function L(e){w=e}function B(){w?o(w):A&&!b||!A&&!S?o(new Error("Unexpected disconnection from agent")):A&&b?o(void 0,b):!A&&S&&o(void 0,S)}if("function"==typeof t&&"function"==typeof r?(k=t,x=r):A?(D=t.length,_=i.length):(o=t,t=void 0),"win32"!==process.platform||y.test(e))s=new n;else{if("pageant"!==e){var M=!1;return void a.readFile(e,(function t(r,i){if(r)return M?o(new Error("Invalid cygwin unix socket path")):void c.exec('cygpath -w "'+e+'"',(function(r,n,i){if(r||0===n.length)return o(new Error("Invalid cygwin unix socket path"));M=!0,e=n.toString().replace(/[\r\n]/g,""),a.readFile(e,t)}));var l;if(l=v.exec(i.toString("ascii"))){var f,p,d,m,g,y,w=0,b=!1,E=[],_=Buffer.allocUnsafe(12);for(_.fill(0),f=parseInt(l[1],10),p=l[2].replace(/\-/g,""),d=Buffer.allocUnsafe(16),g=0,y=0;y<32;++g,y+=2)d[g]=parseInt(p.substring(y,y+2),16);for(g=0;g<16;g+=4)h(d,u(d,g),g);function C(){w=0,m="secret",s.write(d)}function S(e){w+=e.length,"secret"===m?16===w&&(w=0,m="creds",s.write(_)):"creds"===m&&(b||E.push(e),12===w&&(s.removeListener("connect",C),s.removeListener("data",S),s.removeListener("close",k),b?(U(),s.emit("connect")):(b=!0,_=Buffer.concat(E),h(_,process.pid,0),s.destroy(),x())))}function k(){o(new Error("Problem negotiating cygwin unix socket security"))}function x(){(s=new n).once("connect",C),s.on("data",S),s.once("close",k),s.connect(f)}x()}else o(new Error("Malformed cygwin unix socket file"))}))}s=new E}function U(){var e;k||x?(s.once("connect",(function(){e=k();var t=!1;function r(){t||(s.destroy(),t=!0)}e.once("end",r).once("close",r).on("data",(function(e){s.write(e)})),s.on("data",(function(t){e.write(t)}))})),s.once("close",(function(){e||x()}))):(s.once("connect",F),s.on("data",N),s.once("error",L),s.once("close",B))}U(),s.connect(e)},"win32"===process.platform){var w={},b=s.resolve(__dirname,"..","util/pagent.exe");function E(){this.proc=void 0,this.buffer=null}w[10]=new Error("Invalid pagent.exe arguments"),w[11]=new Error("Pageant is not running"),w[12]=new Error("pagent.exe could not create an mmap"),w[13]=new Error("pagent.exe could not set mode for stdin"),w[14]=new Error("pagent.exe could not set mode for stdout"),w[15]=new Error("pagent.exe did not get expected input payload"),o(E,i),E.prototype.write=function(e){if(null===this.buffer?this.buffer=e:this.buffer=Buffer.concat([this.buffer,e],this.buffer.length+e.length),!(this.buffer.length<4)){var t=u(this.buffer,0);if(!(this.buffer.length-4<t)){e=this.buffer.slice(0,4+t),this.buffer.length>4+t?this.buffer=this.buffer.slice(4+t):this.buffer=null;var r,n=this,i=!1;(r=this.proc=c.spawn(b,[e.length])).stdout.on("data",(function(e){n.emit("data",e)})),r.once("error",(function(e){i||(i=!0,n.emit("error",e))})),r.once("close",(function(e){n.proc=void 0,w[e]&&!i&&(i=!0,n.emit("error",w[e])),n.emit("close",i)})),r.stdin.end(e)}}},E.prototype.end=E.prototype.destroy=function(){this.buffer=null,this.proc&&(this.proc.kill(),this.proc=void 0)},E.prototype.connect=function(){this.emit("connect")}}},function(e,t,r){var n=r(0).inherits,i=r(6).EventEmitter;function o(e){var t=this;i.call(this),this._stream=e,e.on("error",(function(e){t.emit("error",e)})).on("end",(function(){t.emit("end")})).on("close",(function(){t.emit("close")})).on("continue",(function(){t.emit("continue")}))}n(o,i),o.prototype.end=function(){return this._stream.end()},o.prototype.createReadStream=function(e,t){return this._stream.createReadStream(e,t)},o.prototype.createWriteStream=function(e,t){return this._stream.createWriteStream(e,t)},o.prototype.open=function(e,t,r,n){return this._stream.open(e,t,r,n)},o.prototype.close=function(e,t){return this._stream.close(e,t)},o.prototype.read=function(e,t,r,n,i,o){return this._stream.readData(e,t,r,n,i,o)},o.prototype.write=function(e,t,r,n,i,o){return this._stream.writeData(e,t,r,n,i,o)},o.prototype.fastGet=function(e,t,r,n){return this._stream.fastGet(e,t,r,n)},o.prototype.fastPut=function(e,t,r,n){return this._stream.fastPut(e,t,r,n)},o.prototype.readFile=function(e,t,r){return this._stream.readFile(e,t,r)},o.prototype.writeFile=function(e,t,r,n){return this._stream.writeFile(e,t,r,n)},o.prototype.appendFile=function(e,t,r,n){return this._stream.appendFile(e,t,r,n)},o.prototype.exists=function(e,t){return this._stream.exists(e,t)},o.prototype.unlink=function(e,t){return this._stream.unlink(e,t)},o.prototype.rename=function(e,t,r){return this._stream.rename(e,t,r)},o.prototype.mkdir=function(e,t,r){return this._stream.mkdir(e,t,r)},o.prototype.rmdir=function(e,t){return this._stream.rmdir(e,t)},o.prototype.readdir=function(e,t,r){return this._stream.readdir(e,t,r)},o.prototype.fstat=function(e,t){return this._stream.fstat(e,t)},o.prototype.stat=function(e,t){return this._stream.stat(e,t)},o.prototype.lstat=function(e,t){return this._stream.lstat(e,t)},o.prototype.opendir=function(e,t){return this._stream.opendir(e,t)},o.prototype.setstat=function(e,t,r){return this._stream.setstat(e,t,r)},o.prototype.fsetstat=function(e,t,r){return this._stream.fsetstat(e,t,r)},o.prototype.futimes=function(e,t,r,n){return this._stream.futimes(e,t,r,n)},o.prototype.utimes=function(e,t,r,n){return this._stream.utimes(e,t,r,n)},o.prototype.fchown=function(e,t,r,n){return this._stream.fchown(e,t,r,n)},o.prototype.chown=function(e,t,r,n){return this._stream.chown(e,t,r,n)},o.prototype.fchmod=function(e,t,r){return this._stream.fchmod(e,t,r)},o.prototype.chmod=function(e,t,r){return this._stream.chmod(e,t,r)},o.prototype.readlink=function(e,t){return this._stream.readlink(e,t)},o.prototype.symlink=function(e,t,r){return this._stream.symlink(e,t,r)},o.prototype.realpath=function(e,t){return this._stream.realpath(e,t)},o.prototype.ext_openssh_rename=function(e,t,r){return this._stream.ext_openssh_rename(e,t,r)},o.prototype.ext_openssh_statvfs=function(e,t){return this._stream.ext_openssh_statvfs(e,t)},o.prototype.ext_openssh_fstatvfs=function(e,t){return this._stream.ext_openssh_fstatvfs(e,t)},o.prototype.ext_openssh_hardlink=function(e,t,r){return this._stream.ext_openssh_hardlink(e,t,r)},o.prototype.ext_openssh_fsync=function(e,t){return this._stream.ext_openssh_fsync(e,t)},e.exports=o},function(e,t,r){var n,i=r(33),o=r(6).EventEmitter,s=o.listenerCount,a=r(0).inherits,c=r(88),u=c.utils.parseKey,l=c.SSH2Stream,h=c.SFTPStream,f=c.constants,p=f.DISCONNECT_REASON,d=f.CHANNEL_OPEN_FAILURE,m=f.ALGORITHMS,g=r(177),v=r(260),y=r(62).writeUInt32BE,w=Math.pow(2,32)-1,b=10;function E(e,t){if(!(this instanceof E))return new E(e,t);var r,a={"ssh-rsa":null,"ssh-dss":null,"ssh-ed25519":null,"ecdsa-sha2-nistp256":null,"ecdsa-sha2-nistp384":null,"ecdsa-sha2-nistp521":null},c=e.hostKeys;if(!Array.isArray(c))throw new Error("hostKeys must be an array");for(r=0;r<c.length;++r){var h;if((h=Buffer.isBuffer(c[r])||"string"==typeof c[r]?u(c[r]):u(c[r].key,c[r].passphrase))instanceof Error)throw new Error("Cannot parse privateKey: "+h.message);if(Array.isArray(h)&&(h=h[0]),null===h.getPrivatePEM())throw new Error("privateKey value contains an invalid private key");a[h.type]||(a[h.type]=h)}var f={kex:void 0,kexBuf:void 0,cipher:void 0,cipherBuf:void 0,serverHostKey:void 0,serverHostKeyBuf:void 0,hmac:void 0,hmacBuf:void 0,compress:void 0,compressBuf:void 0};if("object"==typeof e.algorithms&&null!==e.algorithms){var d,g;if(g=e.algorithms.kex,Array.isArray(g)&&g.length>0){for(d=m.SUPPORTED_KEX,r=0;r<g.length;++r)if(-1===d.indexOf(g[r]))throw new Error("Unsupported key exchange algorithm: "+g[r]);f.kex=g}if(g=e.algorithms.cipher,Array.isArray(g)&&g.length>0){for(d=m.SUPPORTED_CIPHER,r=0;r<g.length;++r)if(-1===d.indexOf(g[r]))throw new Error("Unsupported cipher algorithm: "+g[r]);f.cipher=g}g=e.algorithms.serverHostKey;var y=!1;if(Array.isArray(g)&&g.length>0){for(d=m.SUPPORTED_SERVER_HOST_KEY,r=g.length-1;r>=0;--r){if(-1===d.indexOf(g[r]))throw new Error("Unsupported server host key algorithm: "+g[r]);a[g[r]]||(y||(g=g.slice(),y=!0),g.splice(r,1))}g.length>0&&(f.serverHostKey=g)}if(g=e.algorithms.hmac,Array.isArray(g)&&g.length>0){for(d=m.SUPPORTED_HMAC,r=0;r<g.length;++r)if(-1===d.indexOf(g[r]))throw new Error("Unsupported HMAC algorithm: "+g[r]);f.hmac=g}if(g=e.algorithms.compress,Array.isArray(g)&&g.length>0){for(d=m.SUPPORTED_COMPRESS,r=0;r<g.length;++r)if(-1===d.indexOf(g[r]))throw new Error("Unsupported compression algorithm: "+g[r]);f.compress=g}}if(void 0===f.serverHostKey){var w=Object.keys(a);for(r=w.length-1;r>=0;--r)a[w[r]]||w.splice(r,1);f.serverHostKey=w}!n&&E.KEEPALIVE_INTERVAL>0&&E.KEEPALIVE_CLIENT_INTERVAL>0&&E.KEEPALIVE_CLIENT_COUNT_MAX>=0&&(n=new v(E.KEEPALIVE_INTERVAL,E.KEEPALIVE_CLIENT_INTERVAL,E.KEEPALIVE_CLIENT_COUNT_MAX));var b=this;o.call(this),"function"==typeof t&&b.on("connection",t);var C,S,k={algorithms:f,hostKeys:a,server:!0};for(r=0,S=(C=Object.keys(e)).length;r<S;++r){var x=C[r];"privateKey"!==x&&"publicKey"!==x&&"passphrase"!==x&&"algorithms"!==x&&"hostKeys"!==x&&"server"!==x&&(k[x]=e[x])}if("function"==typeof k.debug)var D=k.debug,A=Object.keys(k);this._srv=new i.Server((function(e){if(b._connections>=b.maxConnections)e.destroy();else{++b._connections,e.once("close",(function(e){--b._connections,o.read()})).on("error",(function(e){o.reset(),o.emit("error",e)}));var t=k;if(D){t={};for(var r,n=0;n<A.length;++n)t[r=A[n]]=k[r];var i="["+process.hrtime().join(".")+"] ";t.debug=function(e){D(i+e)}}var o=new l(t),a=new _(o,e);e.pipe(o).pipe(e),a.on("error",c),o.once("header",(function(t){if(!o._readableState.ended){if(!s(b,"connection"))return o.disconnect(p.BY_APPLICATION);a.removeListener("error",c),b.emit("connection",a,{ip:e.remoteAddress,family:e.remoteFamily,port:e.remotePort,header:t})}}))}function c(e){}})).on("error",(function(e){b.emit("error",e)})).on("listening",(function(){b.emit("listening")})).on("close",(function(){b.emit("close")})),this._connections=0,this.maxConnections=1/0}function _(e,t){o.call(this);var r=this;this._sshstream=e;var i=this._channels={};this._curChan=-1,this._sock=t,this.noMoreSessions=!1,this.authenticated=!1,e.on("end",(function(){t.resume(),r.emit("end")})).on("close",(function(e){r.emit("close",e)})).on("error",(function(e){r.emit("error",e)})).on("drain",(function(){r.emit("drain")})).on("continue",(function(){r.emit("continue")}));var a,c=0,u=!1,l=[];function h(t,n,i,o){if(0===c||a&&(a.username!==t||a.service!==n)||"password"!==i&&"publickey"!==i&&"hostbased"!==i&&"keyboard-interactive"!==i&&"none"!==i||l.length===b)return e.disconnect(p.PROTOCOL_ERROR);if("ssh-connection"!==n)return e.disconnect(p.SERVICE_NOT_AVAILABLE);var u;if(e._state.authMethod=i,"keyboard-interactive"===i?u=new x(e,t,n,i,o,f):"publickey"===i?u=new D(e,t,n,i,o,f):"hostbased"===i?u=new A(e,t,n,i,o,f):"password"===i?u=new T(e,t,n,i,o,f):"none"===i&&(u=new S(e,t,n,i,f)),a){if(!a._initialResponse)return l.push(u);a._multistep&&!this._finalResponse&&(a._cleanup&&a._cleanup(),a.emit("abort"))}a=u,s(r,"authentication")?r.emit("authentication",a):a.reject()}function f(t,n,i,o){a!==t||r.authenticated||(n?(e.removeListener("USERAUTH_REQUEST",h),a=void 0,r.authenticated=!0,e.authSuccess(),l=[],r.emit("ready")):(e.authFailure(i,o),l.length&&(a=l.pop(),s(r,"authentication")?r.emit("authentication",a):a.reject())))}e.on("SERVICE_REQUEST",(function(t){if(0===c||u||r.authenticated||"ssh-userauth"!==t)return e.disconnect(p.SERVICE_NOT_AVAILABLE);u=!0,e.serviceAccept(t)})).on("USERAUTH_REQUEST",h);var m=[];e.on("GLOBAL_REQUEST",(function(t,n,i){var o={type:null,buf:null};function a(t,r){o.type=t,o.buf=r,function(){for(var t;m.length>0&&m[0].type;)"SUCCESS"===(t=m.shift()).type&&e.requestSuccess(t.buf),"FAILURE"===t.type&&e.requestFailure()}()}if(n&&m.push(o),("tcpip-forward"===t||"cancel-tcpip-forward"===t||"no-more-sessions@openssh.com"===t||"streamlocal-forward@openssh.com"===t||"cancel-streamlocal-forward@openssh.com"===t)&&s(r,"request")&&r.authenticated){var c,u;if(n){var l=!1;c=function(e){var r;l||(l=!0,"tcpip-forward"===t&&0===i.bindPort&&"number"==typeof e&&(r=Buffer.allocUnsafe(4),y(r,e,0)),a("SUCCESS",r))},u=function(){l||(l=!0,a("FAILURE"))}}if("no-more-sessions@openssh.com"===t)return r.noMoreSessions=!0,void(c&&c());r.emit("request",c,u,t,i)}else n&&a("FAILURE")})),e.on("CHANNEL_OPEN",(function(t){if("session"===t.type&&r.noMoreSessions||!r.authenticated){var n=d.ADMINISTRATIVELY_PROHIBITED;return e.channelOpenFail(t.sender,n)}var o,a,c=I(r),u=!1;if(!1===c)return e.channelOpenFail(t.sender,d.RESOURCE_SHORTAGE);switch(i[c]=!0,a=function(){if(!u){u=!0,delete i[c];var r=d.ADMINISTRATIVELY_PROHIBITED;return e.channelOpenFail(t.sender,r)}},t.type){case"session":s(r,"session")?(o=function(){if(!u)return u=!0,e.channelOpenConfirm(t.sender,c,g.MAX_WINDOW,g.PACKET_SIZE),new C(r,t,c)},r.emit("session",o,a)):a();break;case"direct-tcpip":s(r,"tcpip")?(o=function(){if(!u){u=!0,e.channelOpenConfirm(t.sender,c,g.MAX_WINDOW,g.PACKET_SIZE);var n={type:void 0,incoming:{id:c,window:g.MAX_WINDOW,packetSize:g.PACKET_SIZE,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}};return new g(n,r)}},r.emit("tcpip",o,a,t.data)):a();break;case"direct-streamlocal@openssh.com":s(r,"openssh.streamlocal")?(o=function(){if(!u){u=!0,e.channelOpenConfirm(t.sender,c,g.MAX_WINDOW,g.PACKET_SIZE);var n={type:void 0,incoming:{id:c,window:g.MAX_WINDOW,packetSize:g.PACKET_SIZE,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}};return new g(n,r)}},r.emit("openssh.streamlocal",o,a,t.data)):a();break;default:a()}})),e.on("NEWKEYS",(function(){++c>1&&r.emit("rekey")})),n&&this.once("ready",(function(){n.add(e)}))}function C(e,t,r){this.subtype=void 0;var n,i=!1,o=this,a=t.sender,c={type:"session",incoming:{id:r,window:g.MAX_WINDOW,packetSize:g.PACKET_SIZE,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}};e._sshstream.on("CHANNEL_REQUEST:"+r,(function(t){var r,u,l=!1;if(t.wantReply&&("shell"!==t.request&&"exec"!==t.request&&"subsystem"!==t.request&&(r=function(){if(!(l||i||n))return l=!0,e._sshstream.channelSuccess(a)}),u=function(){if(!(l||i||n))return l=!0,e._sshstream.channelFailure(a)}),i)u&&u();else switch(t.request){case"env":s(o,"env")?o.emit("env",r,u,{key:t.key,val:t.val}):u&&u();break;case"pty-req":s(o,"pty")?o.emit("pty",r,u,{cols:t.cols,rows:t.rows,width:t.width,height:t.height,term:t.term,modes:t.modes}):u&&u();break;case"window-change":s(o,"window-change")?o.emit("window-change",r,u,{cols:t.cols,rows:t.rows,width:t.width,height:t.height}):u&&u();break;case"x11-req":s(o,"x11")?o.emit("x11",r,u,{single:t.single,protocol:t.protocol,cookie:t.cookie,screen:t.screen}):u&&u();break;case"signal":s(o,"signal")?o.emit("signal",r,u,{name:t.signal}):u&&u();break;case"auth-agent-req@openssh.com":s(o,"auth-agent")?o.emit("auth-agent",r,u):u&&u();break;case"shell":s(o,"shell")?(r=function(){if(!(l||i||n))return l=!0,t.wantReply&&e._sshstream.channelSuccess(a),(n=new g(c,e,{server:!0})).subtype=o.subtype=t.request,n},o.emit("shell",r,u)):u&&u();break;case"exec":s(o,"exec")?(r=function(){if(!(l||i||n))return l=!0,t.wantReply&&e._sshstream.channelSuccess(a),(n=new g(c,e,{server:!0})).subtype=o.subtype=t.request,n},o.emit("exec",r,u,{command:t.command})):u&&u();break;case"subsystem":r=function(){if(!(l||i||n)){if(l=!0,t.wantReply&&e._sshstream.channelSuccess(a),(n=new g(c,e,{server:!0})).subtype=o.subtype=t.request+":"+t.subsystem,"sftp"===t.subsystem){var r=new h({server:!0,debug:e._sshstream.debug});return n.pipe(r).pipe(n),r}return n}},"sftp"===t.subsystem&&s(o,"sftp")?o.emit("sftp",r,u):"sftp"!==t.subsystem&&s(o,"subsystem")?o.emit("subsystem",r,u,{name:t.subsystem}):u&&u();break;default:u&&u()}})).once("CHANNEL_EOF:"+r,(function(){i=!0,o.emit("eof"),o.emit("end")})).once("CHANNEL_CLOSE:"+r,(function(){i=!0,o.emit("close")}))}function S(e,t,r,n,i){o.call(this);var s=this;this.username=this.user=t,this.service=r,this.method=n,this._initialResponse=!1,this._finalResponse=!1,this._multistep=!1,this._cbfinal=function(e,t,r){s._finalResponse||(s._finalResponse=!0,i(s,e,t,r))},this._stream=e}a(E,o),E.prototype.listen=function(){return this._srv.listen.apply(this._srv,arguments),this},E.prototype.address=function(){return this._srv.address()},E.prototype.getConnections=function(e){this._srv.getConnections(e)},E.prototype.close=function(e){return this._srv.close(e),this},E.prototype.ref=function(){this._srv.ref()},E.prototype.unref=function(){this._srv.unref()},a(_,o),_.prototype.end=function(){return this._sshstream.disconnect(p.BY_APPLICATION)},_.prototype.x11=function(e,t,r){return R(this,"x11",{originAddr:e,originPort:t},r)},_.prototype.forwardOut=function(e,t,r,n,i){return R(this,"forwarded-tcpip",{boundAddr:e,boundPort:t,remoteAddr:r,remotePort:n},i)},_.prototype.openssh_forwardOutStreamLocal=function(e,t){return R(this,"forwarded-streamlocal@openssh.com",{socketPath:e},t)},_.prototype.rekey=function(e){var t,r=this._sshstream,n=!0;try{n=r.rekey()}catch(e){t=e}return"function"==typeof e&&(t?process.nextTick((function(){e(t)})):this.once("rekey",e)),n},a(C,o),a(S,o),S.prototype.accept=function(){this._cleanup&&this._cleanup(),this._initialResponse=!0,this._cbfinal(!0)},S.prototype.reject=function(e,t){this._cleanup&&this._cleanup(),this._initialResponse=!0,this._cbfinal(!1,e,t)};var k=/[ \t\r\n]*,[ \t\r\n]*/g;function x(e,t,r,n,i,o){S.call(this,e,t,r,n,o),this._multistep=!0;var s=this;this._cb=void 0,this._onInfoResponse=function(e){if(s._cb){var t=s._cb;s._cb=void 0,t(e)}},this.submethods=i.split(k),this.on("abort",(function(){s._cb&&s._cb(new Error("Authentication request aborted"))}))}function D(e,t,r,n,i,o){var s;if(S.call(this,e,t,r,n,o),this.key={algo:i.keyAlgo,data:i.key},this.signature=i.signature,this.signature)switch(i.keyAlgo){case"ssh-rsa":case"ssh-dss":s="sha1";break;case"ssh-ed25519":s=null;break;case"ecdsa-sha2-nistp256":s="sha256";break;case"ecdsa-sha2-nistp384":s="sha384";break;case"ecdsa-sha2-nistp521":s="sha512"}this.sigAlgo=s,this.blob=i.blob}function A(e,t,r,n,i,o){var s;if(S.call(this,e,t,r,n,o),this.key={algo:i.keyAlgo,data:i.key},this.signature=i.signature,this.signature)switch(i.keyAlgo){case"ssh-rsa":case"ssh-dss":s="sha1";break;case"ssh-ed25519":s=null;break;case"ecdsa-sha2-nistp256":s="sha256";break;case"ecdsa-sha2-nistp384":s="sha384";break;case"ecdsa-sha2-nistp521":s="sha512"}this.sigAlgo=s,this.blob=i.blob,this.localHostname=i.localHostname,this.localUsername=i.localUsername}function T(e,t,r,n,i,o){S.call(this,e,t,r,n,o),this.password=i}function R(e,t,r,n){var i=I(e),o=g.MAX_WINDOW,s=g.PACKET_SIZE,a=!0;if(!1===i)return n(new Error("No free channels available"));"function"==typeof r&&(n=r,r={}),e._channels[i]=!0;var c=e._sshstream;return c.once("CHANNEL_OPEN_CONFIRMATION:"+i,(function(r){c.removeAllListeners("CHANNEL_OPEN_FAILURE:"+i);var a={type:t,incoming:{id:i,window:o,packetSize:s,state:"open"},outgoing:{id:r.sender,window:r.window,packetSize:r.packetSize,state:"open"}};n(void 0,new g(a,e,{server:!0}))})).once("CHANNEL_OPEN_FAILURE:"+i,(function(t){c.removeAllListeners("CHANNEL_OPEN_CONFIRMATION:"+i),delete e._channels[i];var r=new Error("(SSH) Channel open failure: "+t.description);r.reason=t.reason,r.lang=t.lang,n(r)})),"forwarded-tcpip"===t?a=c.forwardedTcpip(i,o,s,r):"x11"===t?a=c.x11(i,o,s,r):"forwarded-streamlocal@openssh.com"===t&&(a=c.openssh_forwardedStreamLocal(i,o,s,r)),a}function I(e){if(e._curChan<w)return++e._curChan;for(var t=0,r=e._channels;t<w;++t)if(!r[t])return t;return!1}a(x,S),x.prototype._cleanup=function(){this._stream.removeListener("USERAUTH_INFO_RESPONSE",this._onInfoResponse)},x.prototype.prompt=function(e,t,r,n){Array.isArray(e)||(e=[e]),"function"==typeof t?(n=t,t=r=void 0):"function"==typeof r&&(n=r,r=void 0);for(var i=0;i<e.length;++i)"string"==typeof e[i]&&(e[i]={prompt:e[i],echo:!0});return this._cb=n,this._initialResponse=!0,this._stream.once("USERAUTH_INFO_RESPONSE",this._onInfoResponse),this._stream.authInfoReq(t,r,e)},a(D,S),D.prototype.accept=function(){this.signature?S.prototype.accept.call(this):(this._initialResponse=!0,this._stream.authPKOK(this.key.algo,this.key.data))},a(A,S),a(T,S),E.createServer=function(e,t){return new E(e,t)},E.KEEPALIVE_INTERVAL=1e3,E.KEEPALIVE_CLIENT_INTERVAL=15e3,E.KEEPALIVE_CLIENT_COUNT_MAX=3,e.exports=E,e.exports.IncomingClient=_},function(e,t){function r(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}function n(e,t,n){var i=this._streams=[];this._timer=void 0,this._timerInterval=e,this._timerfn=function(){for(var e,o,s=Date.now(),a=0,c=i.length;a<c;++a)if((o=(e=i[a])._kalast)&&s-o>=t)if(++e._kacnt>n){var u=new Error("Keepalive timeout");u.level="client-timeout",e.emit("error",u),e.disconnect(),r(i,a),--a,c=i.length}else e._kalast=s,e.ping()}}n.prototype.start=function(){this._timer&&this.stop(),this._timer=setInterval(this._timerfn,this._timerInterval)},n.prototype.stop=function(){this._timer&&(clearInterval(this._timer),this._timer=void 0)},n.prototype.add=function(e){var t=this._streams,r=this;function n(){e._kalast=Date.now(),e._kacnt=0}e.once("end",(function(){r.remove(e)})).on("packet",n),t[t.length]=e,n(),this._timer||this.start()},n.prototype.remove=function(e){var t=this._streams,n=t.indexOf(e);n>-1&&r(t,n),t.length||this.stop()},e.exports=n},function(e,t,r){e.exports=o;var n=r(0),i=r(262);function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);i.Duplex.call(this,r),this._output=null,this.connect(e,t)}n.inherits(o,i.Duplex),o.prototype.connect=function(e,t){var r=this;r.req=e,r._output=t,r.emit("response",t),t.on("data",(function(e){r.push(e)||r._output.pause()})),t.on("end",(function(){r.push(null)}))},o.prototype._read=function(e){this._output&&this._output.resume()},o.prototype._write=function(e,t,r){this.req.write(e,t),r()},o.prototype.end=function(e,t,r){return this._output.socket.destroy(),this.req.end(e,t,r)},o.prototype.destroy=function(){this.req.destroy(),this._output.socket.destroy()}},function(e,t,r){var n=r(11);"disable"===process.env.READABLE_STREAM&&n?(e.exports=n.Readable,Object.assign(e.exports,n),e.exports.Stream=n):((t=e.exports=r(178)).Stream=n||t,t.Readable=t,t.Writable=r(182),t.Duplex=r(49),t.Transform=r(183),t.PassThrough=r(268),t.finished=r(92),t.pipeline=r(269))},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=r(14).Buffer,a=r(0).inspect,c=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,u;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,r,n,i=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,r=i,n=a,s.prototype.copy.call(t,r,n),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:c,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,r),u&&o(t,u),e}()},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){var n=r(14),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(92),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function p(e,t){return{value:e,done:t}}function d(e){var t=e[s];if(null!==t){var r=e[f].read();null!==r&&(e[l]=null,e[s]=null,e[a]=null,t(p(r,!1)))}}function m(e){process.nextTick(d,e)}var g=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((i(n={get stream(){return this[f]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise((function(t,r){process.nextTick((function(){e[c]?r(e[c]):t(p(void 0,!0))}))}));var r,n=this[l];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(p(void 0,!0)):t[h](r,n)}),n)}}(n,this));else{var i=this[f].read();if(null!==i)return Promise.resolve(p(i,!1));r=new Promise(this[h])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[f].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),g);e.exports=function(e){var t,r=Object.create(v,(i(t={},f,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,h,{value:function(e,t){var n=r[f].read();n?(r[l]=null,r[s]=null,r[a]=null,e(p(n,!1))):(r[s]=e,r[a]=t)},writable:!0}),t));return r[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[a];return null!==t&&(r[l]=null,r[s]=null,r[a]=null,t(e)),void(r[c]=e)}var n=r[s];null!==n&&(r[l]=null,r[s]=null,r[a]=null,n(p(void 0,!0))),r[u]=!0})),e.on("readable",m.bind(null,r)),r}},function(e,t,r){"use strict";function n(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(39).codes.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,r){var a;if(t&&"function"==typeof t.next)a=t;else if(t&&t[Symbol.asyncIterator])a=t[Symbol.asyncIterator]();else{if(!t||!t[Symbol.iterator])throw new s("iterable",["Iterable"],t);a=t[Symbol.iterator]()}var c=new e(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({objectMode:!0},r)),u=!1;function l(){return h.apply(this,arguments)}function h(){var e;return e=function*(){try{var e=yield a.next(),t=e.value;e.done?c.push(null):c.push(yield t)?l():u=!1}catch(e){c.destroy(e)}},(h=function(){var t=this,r=arguments;return new Promise((function(i,o){var s=e.apply(t,r);function a(e){n(s,i,o,a,c,"next",e)}function c(e){n(s,i,o,a,c,"throw",e)}a(void 0)}))}).apply(this,arguments)}return c._read=function(){u||(u=!0,l())},c}},function(e,t,r){"use strict";e.exports=i;var n=r(183);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(4)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){"use strict";var n;var i=r(39).codes,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e){e()}function u(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var l,h=function(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var f=t.map((function(e,i){var o=i<t.length-1;return function(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=r(92)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}(e,o,i>0,(function(e){l||(l=e),e&&f.forEach(c),o||(f.forEach(c),h(l))}))}));return t.reduce(u)}},function(e,t,r){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(271):e.exports=r(272)},function(e,t,r){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=r(184)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t,r){const n=r(186),i=r(0);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(i.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:i}=this;if(i){const t=this.color,i="[3"+(t<8?t:"8;5;"+t),o=`  ${i};1m${n} [0m`;r[0]=o+r[0].split("\n").join("\n"+o),r.push(i+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{const e=r(187);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),e.exports=r(184)(t);const{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},function(e,t,r){"use strict";e.exports=(e,t)=>{t=t||process.argv;const r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return-1!==n&&(-1===i||n<i)}},function(e,t,r){var n=r(275),i=r(276),o=r(293),s=r(84),a=r(3),c=r(1),u="win32"===r(7).platform(),l=function(){},h=function(e){return e},f=u?function(e){return e.replace(/\\/g,"/").replace(/[:?<>|]/g,"_")}:h,p=function(e,t){return function(r){r.name=r.name.split("/").slice(t).join("/");var n=r.linkname;return n&&("link"===r.type||c.isAbsolute(n))&&(r.linkname=n.split("/").slice(t).join("/")),e(r)}};t.pack=function(e,t){e||(e="."),t||(t={});var r=t.fs||a,n=t.ignore||t.filter||l,s=t.map||l,u=t.mapStream||h,m=function(e,t,r,n,i,o){var s=i||["."];return function(i){if(!s.length)return i();var a=s.shift(),u=c.join(r,a);t(u,(function(t,l){return t?i(t):l.isDirectory()?void e.readdir(u,(function(e,t){if(e)return i(e);o&&t.sort();for(var u=0;u<t.length;u++)n(c.join(r,a,t[u]))||s.push(c.join(a,t[u]));i(null,a,l)})):i(null,a,l)}))}}(r,t.dereference?r.stat:r.lstat,e,n,t.entries,t.sort),g=!1!==t.strict,v="number"==typeof t.umask?~t.umask:~d(),y="number"==typeof t.dmode?t.dmode:0,w="number"==typeof t.fmode?t.fmode:0,b=t.pack||i.pack(),E=t.finish||l;t.strip&&(s=p(s,t.strip)),t.readable&&(y|=parseInt(555,8),w|=parseInt(444,8)),t.writable&&(y|=parseInt(333,8),w|=parseInt(222,8));var _=function(n,i,a){if(n)return b.destroy(n);if(!i)return!1!==t.finalize&&b.finalize(),E(b);if(a.isSocket())return C();var l={name:f(i),mode:(a.mode|(a.isDirectory()?y:w))&v,mtime:a.mtime,size:a.size,type:"file",uid:a.uid,gid:a.gid};if(a.isDirectory())return l.size=0,l.type="directory",l=s(l)||l,b.entry(l,C);if(a.isSymbolicLink())return l.size=0,l.type="symlink",function(t,n){r.readlink(c.join(e,t),(function(e,t){if(e)return b.destroy(e);n.linkname=f(t),b.entry(n,C)}))}(i,l=s(l)||l);if(l=s(l)||l,!a.isFile())return g?b.destroy(new Error("unsupported type for "+i)):C();var h=b.entry(l,C);if(h){var p=u(r.createReadStream(c.join(e,i)),l);p.on("error",(function(e){h.destroy(e)})),o(p,h)}},C=function(e){if(e)return b.destroy(e);m(_)};return C(),b};var d=function(){return process.umask?process.umask():0};function m(e,t,r){s(e,{fs:t.fs},(function(e,i){!e&&i&&t.own?n(i,t.uid,t.gid,r):r(e)}))}t.extract=function(e,t){e||(e="."),t||(t={});var r=t.fs||a,n=t.ignore||t.filter||l,s=t.map||l,g=t.mapStream||h,v=!1!==t.chown&&!u&&0===(process.getuid?process.getuid():-1),y=t.extract||i.extract(),w=[],b=new Date,E="number"==typeof t.umask?~t.umask:~d(),_="number"==typeof t.dmode?t.dmode:0,C="number"==typeof t.fmode?t.fmode:0,S=!1!==t.strict;t.strip&&(s=p(s,t.strip)),t.readable&&(_|=parseInt(555,8),C|=parseInt(444,8)),t.writable&&(_|=parseInt(333,8),C|=parseInt(222,8));var k=function(e,t){for(var n,i;(n=(i=w).length?i[i.length-1]:null)&&e.slice(0,n[0].length)!==n[0];)w.pop();if(!n)return t();r.utimes(n[0],b,n[1],t)};return y.on("entry",(function(i,a,l){(i=s(i)||i).name=f(i.name);var h=c.join(e,c.join("/",i.name));if(n(h,i))return a.resume(),l();var p=function(e){if(e)return l(e);!function(e,n,i){!1===t.utimes?i():"directory"===n.type?r.utimes(e,b,n.mtime,i):"symlink"===n.type?k(e,i):r.utimes(e,b,n.mtime,(function(t){if(t)return i(t);k(e,i)}))}(h,i,(function(e){return e?l(e):u?l():void function(e,t,n){var i="symlink"===t.type,o=i?r.lchmod:r.chmod,s=i?r.lchown:r.chown;if(!o)return n();var a=(t.mode|("directory"===t.type?_:C))&E;o(e,a,(function(r){return r?n(r):v&&s?void s(e,t.uid,t.gid,n):n()}))}(h,i,l)}))},d=function(){var e=r.createWriteStream(h),t=g(a,i);e.on("error",(function(e){t.destroy(e)})),o(t,e,(function(t){if(t)return l(t);e.on("close",p)}))};if("directory"===i.type)return w.push([h,i.mtime]),m(h,{fs:r,own:v,uid:i.uid,gid:i.gid},p);var y=c.dirname(h);!function e(t,r,n,i){if(r===n)return i(null,!0);t.lstat(r,(function(o,s){return o&&"ENOENT"!==o.code?i(o):o||s.isDirectory()?e(t,c.join(r,".."),n,i):void i(null,!1)}))}(r,y,c.join(e,"."),(function(n,o){return n?l(n):o?void m(y,{fs:r,own:v,uid:i.uid,gid:i.gid},(function(n){if(n)return l(n);switch(i.type){case"file":return d();case"link":return function(){if(u)return l();r.unlink(h,(function(){var n=c.join(e,c.join("/",i.linkname));r.link(n,h,(function(e){if(e&&"EPERM"===e.code&&t.hardlinkAsFilesFallback)return a=r.createReadStream(n),d();p(e)}))}))}();case"symlink":return function(){if(u)return l();r.unlink(h,(function(){r.symlink(i.linkname,h,p)}))}()}if(S)return l(new Error("unsupported type for "+h+" ("+i.type+")"));a.resume(),l()})):l(new Error(y+" is not a valid path"))}))})),t.finish&&y.on("finish",t.finish),y}},function(e,t,r){"use strict";const n=r(3),i=r(1),o=n.lchown?"lchown":"chown",s=n.lchownSync?"lchownSync":"chownSync",a=process.version;let c=(e,t,r)=>n.readdir(e,t,r);/^v4\./.test(a)&&(c=(e,t,r)=>n.readdir(e,r));const u=(e,t,r,s,a)=>{if("string"==typeof t)return n.lstat(i.resolve(e,t),(n,i)=>{if(n)return a(n);i.name=t,u(e,i,r,s,a)});t.isDirectory()?l(i.resolve(e,t.name),r,s,c=>{if(c)return a(c);n[o](i.resolve(e,t.name),r,s,a)}):n[o](i.resolve(e,t.name),r,s,a)},l=(e,t,r,i)=>{c(e,{withFileTypes:!0},(s,a)=>{if(s&&"ENOTDIR"!==s.code&&"ENOTSUP"!==s.code)return i(s);if(s||!a.length)return n[o](e,t,r,i);let c=a.length,l=null;const h=s=>{if(!l)return s?i(l=s):0==--c?n[o](e,t,r,i):void 0};a.forEach(n=>u(e,n,t,r,h))})},h=(e,t,r)=>{let o;try{o=((e,t)=>n.readdirSync(e,t))(e,{withFileTypes:!0})}catch(i){if(i&&"ENOTDIR"===i.code&&"ENOTSUP"!==i.code)return n[s](e,t,r);throw i}return o.length&&o.forEach(o=>((e,t,r,o)=>{if("string"==typeof t){const r=n.lstatSync(i.resolve(e,t));r.name=t,t=r}t.isDirectory()&&h(i.resolve(e,t.name),r,o),n[s](i.resolve(e,t.name),r,o)})(e,o,t,r)),n[s](e,t,r)};e.exports=l,l.sync=h},function(e,t,r){t.extract=r(277),t.pack=r(290)},function(e,t,r){var n=r(0),i=r(278),o=r(195),s=r(83).Writable,a=r(83).PassThrough,c=function(){},u=function(e){return(e&=511)&&512-e},l=function(e,t){this._parent=e,this.offset=t,a.call(this)};n.inherits(l,a),l.prototype.destroy=function(e){this._parent.destroy(e)};var h=function(e){if(!(this instanceof h))return new h(e);s.call(this,e),e=e||{},this._offset=0,this._buffer=i(),this._missing=0,this._partial=!1,this._onparse=c,this._header=null,this._stream=null,this._overflow=null,this._cb=null,this._locked=!1,this._destroyed=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null;var t=this,r=t._buffer,n=function(){t._continue()},a=function(e){if(t._locked=!1,e)return t.destroy(e);t._stream||n()},f=function(){t._stream=null;var e=u(t._header.size);e?t._parse(e,p):t._parse(512,y),t._locked||n()},p=function(){t._buffer.consume(u(t._header.size)),t._parse(512,y),n()},d=function(){var e=t._header.size;t._paxGlobal=o.decodePax(r.slice(0,e)),r.consume(e),f()},m=function(){var e=t._header.size;t._pax=o.decodePax(r.slice(0,e)),t._paxGlobal&&(t._pax=Object.assign({},t._paxGlobal,t._pax)),r.consume(e),f()},g=function(){var n=t._header.size;this._gnuLongPath=o.decodeLongPath(r.slice(0,n),e.filenameEncoding),r.consume(n),f()},v=function(){var n=t._header.size;this._gnuLongLinkPath=o.decodeLongPath(r.slice(0,n),e.filenameEncoding),r.consume(n),f()},y=function(){var i,s=t._offset;try{i=t._header=o.decode(r.slice(0,512),e.filenameEncoding)}catch(e){t.emit("error",e)}return r.consume(512),i?"gnu-long-path"===i.type?(t._parse(i.size,g),void n()):"gnu-long-link-path"===i.type?(t._parse(i.size,v),void n()):"pax-global-header"===i.type?(t._parse(i.size,d),void n()):"pax-header"===i.type?(t._parse(i.size,m),void n()):(t._gnuLongPath&&(i.name=t._gnuLongPath,t._gnuLongPath=null),t._gnuLongLinkPath&&(i.linkname=t._gnuLongLinkPath,t._gnuLongLinkPath=null),t._pax&&(t._header=i=function(e,t){return t.path&&(e.name=t.path),t.linkpath&&(e.linkname=t.linkpath),t.size&&(e.size=parseInt(t.size,10)),e.pax=t,e}(i,t._pax),t._pax=null),t._locked=!0,i.size&&"directory"!==i.type?(t._stream=new l(t,s),t.emit("entry",i,t._stream,a),t._parse(i.size,f),void n()):(t._parse(512,y),void t.emit("entry",i,function(e,t){var r=new l(e,t);return r.end(),r}(t,s),a))):(t._parse(512,y),void n())};this._onheader=y,this._parse(512,y)};n.inherits(h,s),h.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"),this._stream&&this._stream.emit("close"))},h.prototype._parse=function(e,t){this._destroyed||(this._offset+=e,this._missing=e,t===this._onheader&&(this._partial=!1),this._onparse=t)},h.prototype._continue=function(){if(!this._destroyed){var e=this._cb;this._cb=c,this._overflow?this._write(this._overflow,void 0,e):e()}},h.prototype._write=function(e,t,r){if(!this._destroyed){var n=this._stream,i=this._buffer,o=this._missing;if(e.length&&(this._partial=!0),e.length<o)return this._missing-=e.length,this._overflow=null,n?n.write(e,r):(i.append(e),r());this._cb=r,this._missing=0;var s=null;e.length>o&&(s=e.slice(o),e=e.slice(0,o)),n?n.end(e):i.append(e),this._overflow=s,this._onparse()}},h.prototype._final=function(e){if(this._partial)return this.destroy(new Error("Unexpected end of data"));e()},e.exports=h},function(e,t,r){"use strict";var n=r(279).Duplex;function i(e){if(!(this instanceof i))return new i(e);if(this._bufs=[],this.length=0,"function"==typeof e){this._callback=e;var t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",(function(e){e.on("error",t)})),this.on("unpipe",(function(e){e.removeListener("error",t)}))}else this.append(e);n.call(this)}r(0).inherits(i,n),i.prototype._offset=function(e){var t,r=0,n=0;if(0===e)return[0,0];for(;n<this._bufs.length;n++){if(e<(t=r+this._bufs[n].length)||n==this._bufs.length-1)return[n,e-r];r=t}},i.prototype._reverseOffset=function(e){for(var t=e[0],r=e[1],n=0;n<t;n++)r+=this._bufs[n].length;return r},i.prototype.append=function(e){var t=0;if(Buffer.isBuffer(e))this._appendBuffer(e);else if(Array.isArray(e))for(;t<e.length;t++)this.append(e[t]);else if(e instanceof i)for(;t<e._bufs.length;t++)this.append(e._bufs[t]);else null!=e&&("number"==typeof e&&(e=e.toString()),this._appendBuffer(Buffer.from(e)));return this},i.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},i.prototype._write=function(e,t,r){this._appendBuffer(e),"function"==typeof r&&r()},i.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},i.prototype.end=function(e){n.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},i.prototype.get=function(e){if(!(e>this.length||e<0)){var t=this._offset(e);return this._bufs[t[0]][t[1]]}},i.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},i.prototype.copy=function(e,t,r,n){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof n||n>this.length)&&(n=this.length),r>=this.length)return e||Buffer.alloc(0);if(n<=0)return e||Buffer.alloc(0);var i,o,s=!!e,a=this._offset(r),c=n-r,u=c,l=s&&t||0,h=a[1];if(0===r&&n==this.length){if(!s)return 1===this._bufs.length?this._bufs[0]:Buffer.concat(this._bufs,this.length);for(o=0;o<this._bufs.length;o++)this._bufs[o].copy(e,l),l+=this._bufs[o].length;return e}if(u<=this._bufs[a[0]].length-h)return s?this._bufs[a[0]].copy(e,t,h,h+u):this._bufs[a[0]].slice(h,h+u);for(s||(e=Buffer.allocUnsafe(c)),o=a[0];o<this._bufs.length;o++){if(!(u>(i=this._bufs[o].length-h))){this._bufs[o].copy(e,l,h,h+u);break}this._bufs[o].copy(e,l,h),l+=i,u-=i,h&&(h=0)}return e},i.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return new i;var r=this._offset(e),n=this._offset(t),o=this._bufs.slice(r[0],n[0]+1);return 0==n[1]?o.pop():o[o.length-1]=o[o.length-1].slice(0,n[1]),0!=r[1]&&(o[0]=o[0].slice(r[1])),new i(o)},i.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)},i.prototype.consume=function(e){for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},i.prototype.duplicate=function(){for(var e=0,t=new i;e<this._bufs.length;e++)t.append(this._bufs[e]);return t},i.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},i.prototype.indexOf=function(e,t,r){if(void 0===r&&"string"==typeof t&&(r=t,t=void 0),"function"==typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=Buffer.from([e]):"string"==typeof e?e=Buffer.from(e,r):e instanceof i?e=e.slice():Buffer.isBuffer(e)||(e=Buffer.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;for(var n=this._offset(t),o=n[0],s=n[1];o<this._bufs.length;o++){for(var a=this._bufs[o];s<a.length;){if(a.length-s>=e.length){var c=a.indexOf(e,s);if(-1!==c)return this._reverseOffset([o,c]);s=a.length-e.length+1}else{var u=this._reverseOffset([o,s]);if(this._match(u,e))return u;s++}}s=0}return-1},i.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(var r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0},function(){var e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(var t in e)!function(t){i.prototype[t]=null===e[t]?function(e,r){return this.slice(e,e+r)[t](0,r)}:function(r){return this.slice(r,r+e[t])[t](0)}}(t)}(),e.exports=i},function(e,t,r){var n=r(11);"disable"===process.env.READABLE_STREAM&&n?(e.exports=n.Readable,Object.assign(e.exports,n),e.exports.Stream=n):((t=e.exports=r(189)).Stream=n||t,t.Readable=t,t.Writable=r(193),t.Duplex=r(51),t.Transform=r(194),t.PassThrough=r(283),t.finished=r(93),t.pipeline=r(284))},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(14).Buffer,o=r(0).inspect,s=o&&o.custom||"inspect";e.exports=function(){function e(){this.head=null,this.tail=null,this.length=0}var t=e.prototype;return t.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},t.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},t.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},t.clear=function(){this.head=this.tail=null,this.length=0},t.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},t.concat=function(e){if(0===this.length)return i.alloc(0);for(var t,r,n,o=i.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,r=o,n=a,i.prototype.copy.call(t,r,n),a+=s.data.length,s=s.next;return o},t.consume=function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r},t.first=function(){return this.head.data},t._getString=function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0===(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n},t._getBuffer=function(e){var t=i.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(t,t.length-e,0,s),0===(e-=s)){s===o.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=o.slice(s));break}++n}return this.length-=n,t},t[s]=function(e,t){return o(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(t){n(e,t,r[t])}))}return e}({},t,{depth:0,customInspect:!1}))},e}()},function(e,t,r){"use strict";var n=new Set;e.exports.emitExperimentalWarning=process.emitWarning?function(e){if(!n.has(e)){var t=e+" is an experimental feature. This feature could change at any time";n.add(e),process.emitWarning(t,"ExperimentalWarning")}}:function(){}},function(e,t,r){"use strict";var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(93),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function p(e,t){return{value:e,done:t}}function d(e){var t=e[s];if(null!==t){var r=e[f].read();null!==r&&(e[l]=null,e[s]=null,e[a]=null,t(p(r,!1)))}}function m(e){process.nextTick(d,e)}var g=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((i(n={get stream(){return this[f]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise((function(t,r){process.nextTick((function(){e[c]?r(e[c]):t(p(void 0,!0))}))}));var r,n=this[l];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(p(void 0,!0)):t[h](r,n)}),n)}}(n,this));else{var i=this[f].read();if(null!==i)return Promise.resolve(p(i,!1));r=new Promise(this[h])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[f].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),g);e.exports=function(e){var t,r=Object.create(v,(i(t={},f,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,h,{value:function(e,t){var n=r[f].read();n?(r[l]=null,r[s]=null,r[a]=null,e(p(n,!1))):(r[s]=e,r[a]=t)},writable:!0}),t));return r[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[a];return null!==t&&(r[l]=null,r[s]=null,r[a]=null,t(e)),void(r[c]=e)}var n=r[s];null!==n&&(r[l]=null,r[s]=null,r[a]=null,n(p(void 0,!0))),r[u]=!0})),e.on("readable",m.bind(null,r)),r}},function(e,t,r){"use strict";e.exports=i;var n=r(194);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(4)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){"use strict";var n;var i=r(50).codes,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e){e()}function u(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var l,h=function(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var f=t.map((function(e,i){var o=i<t.length-1;return function(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=r(93)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}(e,o,i>0,(function(e){l||(l=e),e&&f.forEach(c),o||(f.forEach(c),h(l))}))}));return t.reduce(u)}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(14).Buffer,o=r(0).inspect,s=o&&o.custom||"inspect";e.exports=function(){function e(){this.head=null,this.tail=null,this.length=0}var t=e.prototype;return t.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},t.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},t.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},t.clear=function(){this.head=this.tail=null,this.length=0},t.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},t.concat=function(e){if(0===this.length)return i.alloc(0);for(var t,r,n,o=i.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,r=o,n=a,i.prototype.copy.call(t,r,n),a+=s.data.length,s=s.next;return o},t.consume=function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r},t.first=function(){return this.head.data},t._getString=function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0===(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n},t._getBuffer=function(e){var t=i.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(t,t.length-e,0,s),0===(e-=s)){s===o.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=o.slice(s));break}++n}return this.length-=n,t},t[s]=function(e,t){return o(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(t){n(e,t,r[t])}))}return e}({},t,{depth:0,customInspect:!1}))},e}()},function(e,t,r){"use strict";var n=new Set;e.exports.emitExperimentalWarning=process.emitWarning?function(e){if(!n.has(e)){var t=e+" is an experimental feature. This feature could change at any time";n.add(e),process.emitWarning(t,"ExperimentalWarning")}}:function(){}},function(e,t,r){"use strict";var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(94),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function p(e,t){return{value:e,done:t}}function d(e){var t=e[s];if(null!==t){var r=e[f].read();null!==r&&(e[l]=null,e[s]=null,e[a]=null,t(p(r,!1)))}}function m(e){process.nextTick(d,e)}var g=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((i(n={get stream(){return this[f]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise((function(t,r){process.nextTick((function(){e[c]?r(e[c]):t(p(void 0,!0))}))}));var r,n=this[l];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(p(void 0,!0)):t[h](r,n)}),n)}}(n,this));else{var i=this[f].read();if(null!==i)return Promise.resolve(p(i,!1));r=new Promise(this[h])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[f].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),g);e.exports=function(e){var t,r=Object.create(v,(i(t={},f,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,h,{value:function(e,t){var n=r[f].read();n?(r[l]=null,r[s]=null,r[a]=null,e(p(n,!1))):(r[s]=e,r[a]=t)},writable:!0}),t));return r[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[a];return null!==t&&(r[l]=null,r[s]=null,r[a]=null,t(e)),void(r[c]=e)}var n=r[s];null!==n&&(r[l]=null,r[s]=null,r[a]=null,n(p(void 0,!0))),r[u]=!0})),e.on("readable",m.bind(null,r)),r}},function(e,t,r){"use strict";e.exports=i;var n=r(201);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(4)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){"use strict";var n;var i=r(52).codes,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e){e()}function u(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var l,h=function(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var f=t.map((function(e,i){var o=i<t.length-1;return function(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=r(94)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}(e,o,i>0,(function(e){l||(l=e),e&&f.forEach(c),o||(f.forEach(c),h(l))}))}));return t.reduce(u)}},function(e,t,r){var n=r(291),i=r(203),o=r(4),s=Buffer.alloc,a=r(83).Readable,c=r(83).Writable,u=r(63).StringDecoder,l=r(195),h=parseInt("755",8),f=parseInt("644",8),p=s(1024),d=function(){},m=function(e,t){(t&=511)&&e.push(p.slice(0,512-t))};var g=function(e){c.call(this),this.written=0,this._to=e,this._destroyed=!1};o(g,c),g.prototype._write=function(e,t,r){if(this.written+=e.length,this._to.push(e))return r();this._to._drain=r},g.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var v=function(){c.call(this),this.linkname="",this._decoder=new u("utf-8"),this._destroyed=!1};o(v,c),v.prototype._write=function(e,t,r){this.linkname+=this._decoder.write(e),r()},v.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var y=function(){c.call(this),this._destroyed=!1};o(y,c),y.prototype._write=function(e,t,r){r(new Error("No body allowed for this entry"))},y.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var w=function(e){if(!(this instanceof w))return new w(e);a.call(this,e),this._drain=d,this._finalized=!1,this._finalizing=!1,this._destroyed=!1,this._stream=null};o(w,a),w.prototype.entry=function(e,t,r){if(this._stream)throw new Error("already piping an entry");if(!this._finalized&&!this._destroyed){"function"==typeof t&&(r=t,t=null),r||(r=d);var o=this;if(e.size&&"symlink"!==e.type||(e.size=0),e.type||(e.type=function(e){switch(e&n.S_IFMT){case n.S_IFBLK:return"block-device";case n.S_IFCHR:return"character-device";case n.S_IFDIR:return"directory";case n.S_IFIFO:return"fifo";case n.S_IFLNK:return"symlink"}return"file"}(e.mode)),e.mode||(e.mode="directory"===e.type?h:f),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),"string"==typeof t&&(t=Buffer.from(t)),Buffer.isBuffer(t))return e.size=t.length,this._encode(e),this.push(t),m(o,e.size),process.nextTick(r),new y;if("symlink"===e.type&&!e.linkname){var s=new v;return i(s,(function(t){if(t)return o.destroy(),r(t);e.linkname=s.linkname,o._encode(e),r()})),s}if(this._encode(e),"file"!==e.type&&"contiguous-file"!==e.type)return process.nextTick(r),new y;var a=new g(this);return this._stream=a,i(a,(function(t){return o._stream=null,t?(o.destroy(),r(t)):a.written!==e.size?(o.destroy(),r(new Error("size mismatch"))):(m(o,e.size),o._finalizing&&o.finalize(),void r())})),a}},w.prototype.finalize=function(){this._stream?this._finalizing=!0:this._finalized||(this._finalized=!0,this.push(p),this.push(null))},w.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"),this._stream&&this._stream.destroy&&this._stream.destroy())},w.prototype._encode=function(e){if(!e.pax){var t=l.encode(e);if(t)return void this.push(t)}this._encodePax(e)},w.prototype._encodePax=function(e){var t=l.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),r={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:t.length,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(l.encode(r)),this.push(t),m(this,t.length),r.size=e.size,r.type=e.type,this.push(l.encode(r))},w.prototype._read=function(e){var t=this._drain;this._drain=d,t()},e.exports=w},function(e,t,r){e.exports=r(3).constants||r(202)},function(e,t){e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");Object.keys(t).forEach((function(e){n[e]=t[e]}));return n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),i=e[e.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach((function(e){n[e]=i[e]})),n}}},function(e,t,r){var n=r(204),i=r(203),o=r(3),s=function(){},a=/^v?\.0/.test(process.version),c=function(e){return"function"==typeof e},u=function(e,t,r,u){u=n(u);var l=!1;e.on("close",(function(){l=!0})),i(e,{readable:t,writable:r},(function(e){if(e)return u(e);l=!0,u()}));var h=!1;return function(t){if(!l&&!h)return h=!0,function(e){return!!a&&(!!o&&((e instanceof(o.ReadStream||s)||e instanceof(o.WriteStream||s))&&c(e.close)))}(e)?e.close(s):function(e){return e.setHeader&&c(e.abort)}(e)?e.abort():c(e.destroy)?e.destroy():void u(t||new Error("stream was destroyed"))}},l=function(e){e()},h=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),r=c(t[t.length-1]||s)&&t.pop()||s;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var n=t.map((function(i,o){var s=o<t.length-1;return u(i,s,o>0,(function(t){e||(e=t),t&&n.forEach(l),s||(n.forEach(l),r(e))}))}));return t.reduce(h)}},function(e,t,r){var n=r(295).Writable,i=r(4),o=r(301);if("undefined"==typeof Uint8Array)var s=r(302).Uint8Array;else s=Uint8Array;function a(e,t){if(!(this instanceof a))return new a(e,t);"function"==typeof e&&(t=e,e={}),e||(e={});var r=e.encoding,i=!1;r?"u8"!==(r=String(r).toLowerCase())&&"uint8"!==r||(r="uint8array"):i=!0,n.call(this,{objectMode:!0}),this.encoding=r,this.shouldInferEncoding=i,t&&this.on("finish",(function(){t(this.getBody())})),this.body=[]}e.exports=a,i(a,n),a.prototype._write=function(e,t,r){this.body.push(e),r()},a.prototype.inferEncoding=function(e){var t=void 0===e?this.body[0]:e;return Buffer.isBuffer(t)?"buffer":"undefined"!=typeof Uint8Array&&t instanceof Uint8Array?"uint8array":Array.isArray(t)?"array":"string"==typeof t?"string":"[object Object]"===Object.prototype.toString.call(t)?"object":"buffer"},a.prototype.getBody=function(){return this.encoding||0!==this.body.length?(this.shouldInferEncoding&&(this.encoding=this.inferEncoding()),"array"===this.encoding?function(e){for(var t=[],r=0;r<e.length;r++)t.push.apply(t,e[r]);return t}(this.body):"string"===this.encoding?function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];"string"==typeof n?t.push(n):Buffer.isBuffer(n)?t.push(n):c(n)?t.push(o(n)):t.push(o(String(n)))}t=Buffer.isBuffer(e[0])?(t=Buffer.concat(t)).toString("utf8"):t.join("");return t}(this.body):"buffer"===this.encoding?function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];Buffer.isBuffer(n)?t.push(n):c(n)?t.push(o(n)):t.push(o(String(n)))}return Buffer.concat(t)}(this.body):"uint8array"===this.encoding?function(e){for(var t=0,r=0;r<e.length;r++)"string"==typeof e[r]&&(e[r]=o(e[r])),t+=e[r].length;for(var n=new s(t),i=(r=0,0);r<e.length;r++)for(var a=e[r],c=0;c<a.length;c++)n[i++]=a[c];return n}(this.body):this.body):[]};Array.isArray;function c(e){return"string"==typeof e||(t=e,/Array\]$/.test(Object.prototype.toString.call(t)))||e&&"function"==typeof e.subarray;var t}},function(e,t,r){var n=r(11);"disable"===process.env.READABLE_STREAM&&n?(e.exports=n.Readable,Object.assign(e.exports,n),e.exports.Stream=n):((t=e.exports=r(205)).Stream=n||t,t.Readable=t,t.Writable=r(209),t.Duplex=r(55),t.Transform=r(210),t.PassThrough=r(299),t.finished=r(95),t.pipeline=r(300))},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(14).Buffer,o=r(0).inspect,s=o&&o.custom||"inspect";e.exports=function(){function e(){this.head=null,this.tail=null,this.length=0}var t=e.prototype;return t.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},t.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},t.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},t.clear=function(){this.head=this.tail=null,this.length=0},t.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},t.concat=function(e){if(0===this.length)return i.alloc(0);for(var t,r,n,o=i.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,r=o,n=a,i.prototype.copy.call(t,r,n),a+=s.data.length,s=s.next;return o},t.consume=function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r},t.first=function(){return this.head.data},t._getString=function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0===(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n},t._getBuffer=function(e){var t=i.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(t,t.length-e,0,s),0===(e-=s)){s===o.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=o.slice(s));break}++n}return this.length-=n,t},t[s]=function(e,t){return o(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(t){n(e,t,r[t])}))}return e}({},t,{depth:0,customInspect:!1}))},e}()},function(e,t,r){"use strict";var n=new Set;e.exports.emitExperimentalWarning=process.emitWarning?function(e){if(!n.has(e)){var t=e+" is an experimental feature. This feature could change at any time";n.add(e),process.emitWarning(t,"ExperimentalWarning")}}:function(){}},function(e,t,r){"use strict";var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(95),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function p(e,t){return{value:e,done:t}}function d(e){var t=e[s];if(null!==t){var r=e[f].read();null!==r&&(e[l]=null,e[s]=null,e[a]=null,t(p(r,!1)))}}function m(e){process.nextTick(d,e)}var g=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((i(n={get stream(){return this[f]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise((function(t,r){process.nextTick((function(){e[c]?r(e[c]):t(p(void 0,!0))}))}));var r,n=this[l];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(p(void 0,!0)):t[h](r,n)}),n)}}(n,this));else{var i=this[f].read();if(null!==i)return Promise.resolve(p(i,!1));r=new Promise(this[h])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[f].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),g);e.exports=function(e){var t,r=Object.create(v,(i(t={},f,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,h,{value:function(e,t){var n=r[f].read();n?(r[l]=null,r[s]=null,r[a]=null,e(p(n,!1))):(r[s]=e,r[a]=t)},writable:!0}),t));return r[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[a];return null!==t&&(r[l]=null,r[s]=null,r[a]=null,t(e)),void(r[c]=e)}var n=r[s];null!==n&&(r[l]=null,r[s]=null,r[a]=null,n(p(void 0,!0))),r[u]=!0})),e.on("readable",m.bind(null,r)),r}},function(e,t,r){"use strict";e.exports=i;var n=r(210);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(4)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){"use strict";var n;var i=r(54).codes,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e){e()}function u(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var l,h=function(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var f=t.map((function(e,i){var o=i<t.length-1;return function(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=r(95)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}(e,o,i>0,(function(e){l||(l=e),e&&f.forEach(c),o||(f.forEach(c),h(l))}))}));return t.reduce(u)}},function(e,t){var r=Object.prototype.toString,n="function"==typeof Buffer.alloc&&"function"==typeof Buffer.allocUnsafe&&"function"==typeof Buffer.from;e.exports=function(e,t,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return o=e,"ArrayBuffer"===r.call(o).slice(8,-1)?function(e,t,r){t>>>=0;var i=e.byteLength-t;if(i<0)throw new RangeError("'offset' is out of bounds");if(void 0===r)r=i;else if((r>>>=0)>i)throw new RangeError("'length' is out of bounds");return n?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}(e,t,i):"string"==typeof e?function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return n?Buffer.from(e,t):new Buffer(e,t)}(e,t):n?Buffer.from(e):new Buffer(e);var o}},function(e,t){var r,n,i,o=void 0,s=1e5,a=(r=Object.prototype.toString,n=Object.prototype.hasOwnProperty,{Class:function(e){return r.call(e).replace(/^\[object *|\]$/g,"")},HasProperty:function(e,t){return t in e},HasOwnProperty:function(e,t){return n.call(e,t)},IsCallable:function(e){return"function"==typeof e},ToInt32:function(e){return e>>0},ToUint32:function(e){return e>>>0}}),c=Math.LN2,u=Math.abs,l=Math.floor,h=Math.log,f=Math.min,p=Math.pow,d=Math.round;function m(e){if(g&&i){var t,r=g(e);for(t=0;t<r.length;t+=1)i(e,r[t],{value:e[r[t]],writable:!1,enumerable:!1,configurable:!1})}}i=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()?Object.defineProperty:function(e,t,r){if(!e===Object(e))throw new TypeError("Object.defineProperty called on non-object");return a.HasProperty(r,"get")&&Object.prototype.__defineGetter__&&Object.prototype.__defineGetter__.call(e,t,r.get),a.HasProperty(r,"set")&&Object.prototype.__defineSetter__&&Object.prototype.__defineSetter__.call(e,t,r.set),a.HasProperty(r,"value")&&(e[t]=r.value),e};var g=Object.getOwnPropertyNames||function(e){if(e!==Object(e))throw new TypeError("Object.getOwnPropertyNames called on non-object");var t,r=[];for(t in e)a.HasOwnProperty(e,t)&&r.push(t);return r};function v(e){if(i){if(e.length>s)throw new RangeError("Array too large for polyfill");var t;for(t=0;t<e.length;t+=1)r(t)}function r(t){i(e,t,{get:function(){return e._getter(t)},set:function(r){e._setter(t,r)},enumerable:!0,configurable:!1})}}function y(e,t){var r=32-t;return e<<r>>r}function w(e,t){var r=32-t;return e<<r>>>r}function b(e){return[255&e]}function E(e){return y(e[0],8)}function _(e){return[255&e]}function C(e){return w(e[0],8)}function S(e){return[(e=d(Number(e)))<0?0:e>255?255:255&e]}function k(e){return[e>>8&255,255&e]}function x(e){return y(e[0]<<8|e[1],16)}function D(e){return[e>>8&255,255&e]}function A(e){return w(e[0]<<8|e[1],16)}function T(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]}function R(e){return y(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function I(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]}function P(e){return w(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function O(e,t,r){var n,i,o,s,a,d,m,g=(1<<t-1)-1;function v(e){var t=l(e),r=e-t;return r<.5?t:r>.5?t+1:t%2?t+1:t}for(e!=e?(i=(1<<t)-1,o=p(2,r-1),n=0):e===1/0||e===-1/0?(i=(1<<t)-1,o=0,n=e<0?1:0):0===e?(i=0,o=0,n=1/e==-1/0?1:0):(n=e<0,(e=u(e))>=p(2,1-g)?(i=f(l(h(e)/c),1023),(o=v(e/p(2,i)*p(2,r)))/p(2,r)>=2&&(i+=1,o=1),i>g?(i=(1<<t)-1,o=0):(i+=g,o-=p(2,r))):(i=0,o=v(e/p(2,1-g-r)))),a=[],s=r;s;s-=1)a.push(o%2?1:0),o=l(o/2);for(s=t;s;s-=1)a.push(i%2?1:0),i=l(i/2);for(a.push(n?1:0),a.reverse(),d=a.join(""),m=[];d.length;)m.push(parseInt(d.substring(0,8),2)),d=d.substring(8);return m}function F(e,t,r){var n,i,o,s,a,c,u,l,h=[];for(n=e.length;n;n-=1)for(o=e[n-1],i=8;i;i-=1)h.push(o%2?1:0),o>>=1;return h.reverse(),s=h.join(""),a=(1<<t-1)-1,c=parseInt(s.substring(0,1),2)?-1:1,u=parseInt(s.substring(1,1+t),2),l=parseInt(s.substring(1+t),2),u===(1<<t)-1?0!==l?NaN:c*(1/0):u>0?c*p(2,u-a)*(1+l/p(2,r)):0!==l?c*p(2,-(a-1))*(l/p(2,r)):c<0?-0:0}function N(e){return F(e,11,52)}function L(e){return O(e,11,52)}function B(e){return F(e,8,23)}function M(e){return O(e,8,23)}!function(){var e=function(e){if((e=a.ToInt32(e))<0)throw new RangeError("ArrayBuffer size is not a small enough positive integer");var t;for(this.byteLength=e,this._bytes=[],this._bytes.length=e,t=0;t<this.byteLength;t+=1)this._bytes[t]=0;m(this)};t.ArrayBuffer=t.ArrayBuffer||e;var r=function(){};function n(t,n,i){var s;return(s=function(t,r,n){var i,o,c,u;if(arguments.length&&"number"!=typeof arguments[0])if("object"==typeof arguments[0]&&arguments[0].constructor===s)for(i=arguments[0],this.length=i.length,this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0,c=0;c<this.length;c+=1)this._setter(c,i._getter(c));else if("object"!=typeof arguments[0]||(arguments[0]instanceof e||"ArrayBuffer"===a.Class(arguments[0]))){if("object"!=typeof arguments[0]||!(arguments[0]instanceof e||"ArrayBuffer"===a.Class(arguments[0])))throw new TypeError("Unexpected argument type(s)");if(this.buffer=t,this.byteOffset=a.ToUint32(r),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteOffset%this.BYTES_PER_ELEMENT)throw new RangeError("ArrayBuffer length minus the byteOffset is not a multiple of the element size.");if(arguments.length<3){if(this.byteLength=this.buffer.byteLength-this.byteOffset,this.byteLength%this.BYTES_PER_ELEMENT)throw new RangeError("length of buffer minus byteOffset not a multiple of the element size");this.length=this.byteLength/this.BYTES_PER_ELEMENT}else this.length=a.ToUint32(n),this.byteLength=this.length*this.BYTES_PER_ELEMENT;if(this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer")}else for(o=arguments[0],this.length=a.ToUint32(o.length),this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0,c=0;c<this.length;c+=1)u=o[c],this._setter(c,Number(u));else{if(this.length=a.ToInt32(arguments[0]),n<0)throw new RangeError("ArrayBufferView size is not a small enough positive integer");this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0}this.constructor=s,m(this),v(this)}).prototype=new r,s.prototype.BYTES_PER_ELEMENT=t,s.prototype._pack=n,s.prototype._unpack=i,s.BYTES_PER_ELEMENT=t,s.prototype._getter=function(e){if(arguments.length<1)throw new SyntaxError("Not enough arguments");if((e=a.ToUint32(e))>=this.length)return o;var t,r,n=[];for(t=0,r=this.byteOffset+e*this.BYTES_PER_ELEMENT;t<this.BYTES_PER_ELEMENT;t+=1,r+=1)n.push(this.buffer._bytes[r]);return this._unpack(n)},s.prototype.get=s.prototype._getter,s.prototype._setter=function(e,t){if(arguments.length<2)throw new SyntaxError("Not enough arguments");if((e=a.ToUint32(e))>=this.length)return o;var r,n,i=this._pack(t);for(r=0,n=this.byteOffset+e*this.BYTES_PER_ELEMENT;r<this.BYTES_PER_ELEMENT;r+=1,n+=1)this.buffer._bytes[n]=i[r]},s.prototype.set=function(e,t){if(arguments.length<1)throw new SyntaxError("Not enough arguments");var r,n,i,o,s,c,u,l,h,f;if("object"==typeof arguments[0]&&arguments[0].constructor===this.constructor){if(r=arguments[0],(i=a.ToUint32(arguments[1]))+r.length>this.length)throw new RangeError("Offset plus length of array is out of range");if(l=this.byteOffset+i*this.BYTES_PER_ELEMENT,h=r.length*this.BYTES_PER_ELEMENT,r.buffer===this.buffer){for(f=[],s=0,c=r.byteOffset;s<h;s+=1,c+=1)f[s]=r.buffer._bytes[c];for(s=0,u=l;s<h;s+=1,u+=1)this.buffer._bytes[u]=f[s]}else for(s=0,c=r.byteOffset,u=l;s<h;s+=1,c+=1,u+=1)this.buffer._bytes[u]=r.buffer._bytes[c]}else{if("object"!=typeof arguments[0]||void 0===arguments[0].length)throw new TypeError("Unexpected argument type(s)");if(n=arguments[0],o=a.ToUint32(n.length),(i=a.ToUint32(arguments[1]))+o>this.length)throw new RangeError("Offset plus length of array is out of range");for(s=0;s<o;s+=1)c=n[s],this._setter(i+s,Number(c))}},s.prototype.subarray=function(e,t){function r(e,t,r){return e<t?t:e>r?r:e}e=a.ToInt32(e),t=a.ToInt32(t),arguments.length<1&&(e=0),arguments.length<2&&(t=this.length),e<0&&(e=this.length+e),t<0&&(t=this.length+t),e=r(e,0,this.length);var n=(t=r(t,0,this.length))-e;return n<0&&(n=0),new this.constructor(this.buffer,this.byteOffset+e*this.BYTES_PER_ELEMENT,n)},s}var i=n(1,b,E),s=n(1,_,C),c=n(1,S,C),u=n(2,k,x),l=n(2,D,A),h=n(4,T,R),f=n(4,I,P),p=n(4,M,B),d=n(8,L,N);t.Int8Array=t.Int8Array||i,t.Uint8Array=t.Uint8Array||s,t.Uint8ClampedArray=t.Uint8ClampedArray||c,t.Int16Array=t.Int16Array||u,t.Uint16Array=t.Uint16Array||l,t.Int32Array=t.Int32Array||h,t.Uint32Array=t.Uint32Array||f,t.Float32Array=t.Float32Array||p,t.Float64Array=t.Float64Array||d}(),function(){function e(e,t){return a.IsCallable(e.get)?e.get(t):e[t]}var r,n=(r=new t.Uint16Array([4660]),18===e(new t.Uint8Array(r.buffer),0)),i=function(e,r,n){if(0===arguments.length)e=new t.ArrayBuffer(0);else if(!(e instanceof t.ArrayBuffer||"ArrayBuffer"===a.Class(e)))throw new TypeError("TypeError");if(this.buffer=e||new t.ArrayBuffer(0),this.byteOffset=a.ToUint32(r),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(arguments.length<3?this.byteLength=this.buffer.byteLength-this.byteOffset:this.byteLength=a.ToUint32(n),this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer");m(this)};function o(r){return function(i,o){if((i=a.ToUint32(i))+r.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");i+=this.byteOffset;var s,c=new t.Uint8Array(this.buffer,i,r.BYTES_PER_ELEMENT),u=[];for(s=0;s<r.BYTES_PER_ELEMENT;s+=1)u.push(e(c,s));return Boolean(o)===Boolean(n)&&u.reverse(),e(new r(new t.Uint8Array(u).buffer),0)}}function s(r){return function(i,o,s){if((i=a.ToUint32(i))+r.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");var c,u=new r([o]),l=new t.Uint8Array(u.buffer),h=[];for(c=0;c<r.BYTES_PER_ELEMENT;c+=1)h.push(e(l,c));Boolean(s)===Boolean(n)&&h.reverse(),new t.Uint8Array(this.buffer,i,r.BYTES_PER_ELEMENT).set(h)}}i.prototype.getUint8=o(t.Uint8Array),i.prototype.getInt8=o(t.Int8Array),i.prototype.getUint16=o(t.Uint16Array),i.prototype.getInt16=o(t.Int16Array),i.prototype.getUint32=o(t.Uint32Array),i.prototype.getInt32=o(t.Int32Array),i.prototype.getFloat32=o(t.Float32Array),i.prototype.getFloat64=o(t.Float64Array),i.prototype.setUint8=s(t.Uint8Array),i.prototype.setInt8=s(t.Int8Array),i.prototype.setUint16=s(t.Uint16Array),i.prototype.setInt16=s(t.Int16Array),i.prototype.setUint32=s(t.Uint32Array),i.prototype.setInt32=s(t.Int32Array),i.prototype.setFloat32=s(t.Float32Array),i.prototype.setFloat64=s(t.Float64Array),t.DataView=t.DataView||i}()},function(e,t,r){r(17).extend;var n=r(211),i=r(17),o=function(e,t){this.modem=e,this.id=t,this.defaultOptions={top:{},start:{},commit:{},stop:{},pause:{},unpause:{},restart:{},resize:{},attach:{},remove:{},copy:{},kill:{},exec:{},rename:{},log:{},stats:{},getArchive:{},infoArchive:{},putArchive:{},update:{},wait:{}}};o.prototype[r(0).inspect.custom]=function(){return this},o.prototype.inspect=function(e,t){var r=this,n=i.processArgs(e,t),o={path:"/containers/"+this.id+"/json?",method:"GET",options:n.opts,statusCodes:{200:!0,404:"no such container",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.rename=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.rename),o={path:"/containers/"+this.id+"/rename?",method:"POST",statusCodes:{200:!0,204:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.update=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.update),o={path:"/containers/"+this.id+"/update",method:"POST",statusCodes:{200:!0,204:!0,400:"bad parameter",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.top=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.top),o={path:"/containers/"+this.id+"/top?",method:"GET",statusCodes:{200:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.changes=function(e){var t=this,r={path:"/containers/"+this.id+"/changes",method:"GET",statusCodes:{200:!0,404:"no such container",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},o.prototype.listCheckpoint=function(e,t){var r=this,n=i.processArgs(e,t),o={path:"/containers/"+this.id+"/checkpoints?",method:"GET",statusCodes:{200:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.deleteCheckpoint=function(e,t,r){var n=this,o=i.processArgs(t,r),s={path:"/containers/"+this.id+"/checkpoints/"+e+"?",method:"DELETE",statusCodes:{200:!0,204:!0,404:"no such container",500:"server error"},options:o.opts};if(void 0===o.callback)return new this.modem.Promise((function(e,t){n.modem.dial(s,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(s,(function(e,t){o.callback(e,t)}))},o.prototype.createCheckpoint=function(e,t){var r=this,n=i.processArgs(e,t),o={path:"/containers/"+this.id+"/checkpoints",method:"POST",allowEmpty:!0,statusCodes:{200:!0,204:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.export=function(e){var t=this,r={path:"/containers/"+this.id+"/export",method:"GET",isStream:!0,statusCodes:{200:!0,404:"no such container",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},o.prototype.start=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.start),o={path:"/containers/"+this.id+"/start",method:"POST",statusCodes:{200:!0,204:!0,304:"container already started",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.pause=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.pause),o={path:"/containers/"+this.id+"/pause",method:"POST",statusCodes:{200:!0,204:!0,500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.unpause=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.unpause),o={path:"/containers/"+this.id+"/unpause",method:"POST",statusCodes:{200:!0,204:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.exec=function(e,t){var r=this,o=i.processArgs(e,t,this.defaultOptions.exec),s={path:"/containers/"+this.id+"/exec",method:"POST",statusCodes:{200:!0,201:!0,404:"no such container",500:"server error"},options:o.opts};if(void 0===o.callback)return new this.modem.Promise((function(e,t){r.modem.dial(s,(function(i,o){if(i)return t(i);e(new n(r.modem,o.Id))}))}));this.modem.dial(s,(function(e,t){if(e)return o.callback(e,t);o.callback(e,new n(r.modem,t.Id))}))},o.prototype.commit=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.commit);n.opts.container=this.id;var o={path:"/commit?",method:"POST",statusCodes:{200:!0,201:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.stop=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.stop),o={path:"/containers/"+this.id+"/stop?",method:"POST",statusCodes:{200:!0,204:!0,304:"container already stopped",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.restart=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.restart),o={path:"/containers/"+this.id+"/restart?",method:"POST",statusCodes:{200:!0,204:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.kill=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.kill),o={path:"/containers/"+this.id+"/kill?",method:"POST",statusCodes:{200:!0,204:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.resize=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.resize),o={path:"/containers/"+this.id+"/resize?",method:"POST",statusCodes:{200:!0,400:"bad parameter",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.attach=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.attach),o={path:"/containers/"+this.id+"/attach?",method:"POST",isStream:!0,hijack:n.opts.hijack,openStdin:n.opts.stdin,statusCodes:{200:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.wait=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.wait),o={path:"/containers/"+this.id+"/wait",method:"POST",statusCodes:{200:!0,400:"bad parameter",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.remove=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.remove),o={path:"/containers/"+this.id+"?",method:"DELETE",statusCodes:{200:!0,204:!0,400:"bad parameter",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.copy=function(e,t){var r=this;console.log("container.copy is deprecated since Docker v1.8.x");var n=i.processArgs(e,t,this.defaultOptions.copy),o={path:"/containers/"+this.id+"/copy",method:"POST",isStream:!0,statusCodes:{200:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.getArchive=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.getArchive),o={path:"/containers/"+this.id+"/archive?",method:"GET",isStream:!0,statusCodes:{200:!0,400:"client error, bad parameters",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.infoArchive=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.infoArchive),o={path:"/containers/"+this.id+"/archive?",method:"HEAD",isStream:!0,statusCodes:{200:!0,400:"client error, bad parameters",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.putArchive=function(e,t,r){var n=this,o=i.processArgs(t,r,this.defaultOptions.putArchive),s={path:"/containers/"+this.id+"/archive?",method:"PUT",file:e,isStream:!0,statusCodes:{200:!0,400:"client error, bad parameters",403:"client error, permission denied",404:"no such container",500:"server error"},options:o.opts};if(void 0===o.callback)return new this.modem.Promise((function(e,t){n.modem.dial(s,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(s,(function(e,t){o.callback(e,t)}))},o.prototype.logs=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.log),o={path:"/containers/"+this.id+"/logs?",method:"GET",isStream:n.opts.follow||!1,statusCodes:{200:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.stats=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.stats),o=!0;!1===n.opts.stream&&(o=!1);var s={path:"/containers/"+this.id+"/stats?",method:"GET",isStream:o,statusCodes:{200:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(s,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(s,(function(e,t){n.callback(e,t)}))},e.exports=o},function(e,t,r){var n=r(17),i=function(e,t){this.modem=e,this.name=t};i.prototype[r(0).inspect.custom]=function(){return this},i.prototype.inspect=function(e){var t=this,r={path:"/images/"+this.name+"/json",method:"GET",statusCodes:{200:!0,404:"no such image",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){if(t)return e(t,r);e(t,r)}))},i.prototype.distribution=function(e,t){var r=n.processArgs(e,t),i=this,o={path:"/distribution/"+this.name+"/json",method:"GET",statusCodes:{200:!0,401:"no such image",500:"server error"},authconfig:r.opts?r.opts.authconfig:void 0};if(void 0===r.callback)return new this.modem.Promise((function(e,t){i.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){if(e)return r.callback(e,t);r.callback(e,t)}))},i.prototype.history=function(e){var t=this,r={path:"/images/"+this.name+"/history",method:"GET",statusCodes:{200:!0,404:"no such image",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){if(t)return e(t,r);e(t,r)}))},i.prototype.get=function(e){var t=this,r={path:"/images/"+this.name+"/get",method:"GET",isStream:!0,statusCodes:{200:!0,500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){if(t)return e(t,r);e(t,r)}))},i.prototype.push=function(e,t,r){var i=this,o=n.processArgs(e,t),s=!0;!1===o.opts.stream&&(s=!1);var a={path:"/images/"+this.name+"/push?",method:"POST",options:o.opts,authconfig:o.opts.authconfig||r,isStream:s,statusCodes:{200:!0,404:"no such image",500:"server error"}};if(delete a.options.authconfig,void 0===t)return new this.modem.Promise((function(e,t){i.modem.dial(a,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(a,(function(e,r){t(e,r)}))},i.prototype.tag=function(e,t){var r=this,n={path:"/images/"+this.name+"/tag?",method:"POST",options:e,statusCodes:{200:!0,201:!0,400:"bad parameter",404:"no such image",409:"conflict",500:"server error"}};if(void 0===t)return new this.modem.Promise((function(e,t){r.modem.dial(n,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(n,(function(e,r){t(e,r)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/images/"+this.name+"?",method:"DELETE",statusCodes:{200:!0,404:"no such image",409:"conflict",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},function(e,t,r){var n=r(17),i=function(e,t){this.modem=e,this.name=t};i.prototype[r(0).inspect.custom]=function(){return this},i.prototype.inspect=function(e){var t=this,r={path:"/volumes/"+this.name,method:"GET",statusCodes:{200:!0,404:"no such volume",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/volumes/"+this.name,method:"DELETE",statusCodes:{204:!0,404:"no such volume",409:"conflict",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},function(e,t,r){var n=r(17),i=function(e,t){this.modem=e,this.id=t};i.prototype[r(0).inspect.custom]=function(){return this},i.prototype.inspect=function(e,t){var r=this,i=n.processArgs(e,t);e={path:"/networks/"+this.id+"?",method:"GET",statusCodes:{200:!0,404:"no such network",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(t,n){r.modem.dial(e,(function(e,r){if(e)return n(e);t(r)}))}));this.modem.dial(e,(function(e,t){i.callback(e,t)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/networks/"+this.id,method:"DELETE",statusCodes:{200:!0,204:!0,404:"no such network",409:"conflict",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.connect=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/networks/"+this.id+"/connect",method:"POST",statusCodes:{200:!0,201:!0,404:"network or container is not found",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.disconnect=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/networks/"+this.id+"/disconnect",method:"POST",statusCodes:{200:!0,201:!0,404:"network or container is not found",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},function(e,t,r){var n=r(17),i=function(e,t){this.modem=e,this.id=t};i.prototype[r(0).inspect.custom]=function(){return this},i.prototype.inspect=function(e){var t=this,r={path:"/services/"+this.id,method:"GET",statusCodes:{200:!0,404:"no such service",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},i.prototype.remove=function(e){var t=this,r={path:"/services/"+this.id,method:"DELETE",statusCodes:{200:!0,204:!0,404:"no such service",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},i.prototype.update=function(e,t,r){var n=this;if(!r){var i=typeof t;"function"===i?(r=t,e=(t=e).authconfig||void 0):"undefined"===i&&(e=(t=e).authconfig||void 0)}var o={path:"/services/"+this.id+"/update?",method:"POST",statusCodes:{200:!0,404:"no such service",500:"server error"},authconfig:e,options:t};if(void 0===r)return new this.modem.Promise((function(e,t){n.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){r(e,t)}))},i.prototype.logs=function(e,t){var r=this,i=n.processArgs(e,t,{}),o={path:"/services/"+this.id+"/logs?",method:"GET",isStream:i.opts.follow||!1,statusCodes:{200:!0,404:"no such service",500:"server error",503:"node is not part of a swarm"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},function(e,t,r){var n=r(17),i=function(e,t,r){this.modem=e,this.name=t,this.remote=r||t};i.prototype[r(0).inspect.custom]=function(){return this},i.prototype.inspect=function(e){var t=this,r={path:"/plugins/"+this.name,method:"GET",statusCodes:{200:!0,404:"plugin is not installed",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/plugins/"+this.name+"?",method:"DELETE",statusCodes:{200:!0,404:"plugin is not installed",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){if(e)return i.callback(e,t);i.callback(e,t)}))},i.prototype.privileges=function(e){var t=this,r={path:"/plugins/privileges?",method:"GET",options:{remote:this.remote},statusCodes:{200:!0,500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},i.prototype.pull=function(e,t){var r=this,i=n.processArgs(e,t);i.opts._query&&!i.opts._query.name&&(i.opts._query.name=this.name),i.opts._query&&!i.opts._query.remote&&(i.opts._query.remote=this.remote);var o={path:"/plugins/pull?",method:"POST",isStream:!0,options:i.opts,statusCodes:{200:!0,204:!0,500:"server error"}};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.enable=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/plugins/"+this.name+"/enable?",method:"POST",statusCodes:{200:!0,500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.disable=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/plugins/"+this.name+"/disable",method:"POST",statusCodes:{200:!0,500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.push=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/plugins/"+this.name+"/push",method:"POST",statusCodes:{200:!0,404:"plugin not installed",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.configure=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/plugins/"+this.name+"/set",method:"POST",statusCodes:{200:!0,404:"plugin not installed",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.upgrade=function(e,t,r){var n=this;r||"function"!=typeof t||(r=t,e=(t=e).authconfig||void 0);var i={path:"/plugins/"+this.name+"/upgrade?",method:"POST",statusCodes:{200:!0,204:!0,404:"plugin not installed",500:"server error"},authconfig:e,options:t};if(void 0===r)return new this.modem.Promise((function(e,t){n.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){r(e,t)}))},e.exports=i},function(e,t,r){var n=r(17),i=function(e,t){this.modem=e,this.id=t};i.prototype[r(0).inspect.custom]=function(){return this},i.prototype.inspect=function(e){var t=this,r={path:"/secrets/"+this.id,method:"GET",statusCodes:{200:!0,404:"secret not found",406:"node is not part of a swarm",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},i.prototype.update=function(e,t){var r=this;t||"function"!=typeof e||(t=e);var n={path:"/secrets/"+this.id+"/update?",method:"POST",statusCodes:{200:!0,404:"secret not found",500:"server error"},options:e};if(void 0===t)return new this.modem.Promise((function(e,t){r.modem.dial(n,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(n,(function(e,r){t(e,r)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/secrets/"+this.id,method:"DELETE",statusCodes:{200:!0,204:!0,404:"secret not found",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},function(e,t,r){var n=r(17),i=function(e,t){this.modem=e,this.id=t};i.prototype[r(0).inspect.custom]=function(){return this},i.prototype.inspect=function(e){var t=this,r={path:"/configs/"+this.id,method:"GET",statusCodes:{200:!0,404:"config not found",500:"server error",503:"node is not part of a swarm"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},i.prototype.update=function(e,t){var r=this;t||"function"!=typeof e||(t=e);var n={path:"/configs/"+this.id+"/update?",method:"POST",statusCodes:{200:!0,404:"config not found",500:"server error",503:"node is not part of a swarm"},options:e};if(void 0===t)return new this.modem.Promise((function(e,t){r.modem.dial(n,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(n,(function(e,r){t(e,r)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/configs/"+this.id,method:"DELETE",statusCodes:{200:!0,204:!0,404:"config not found",500:"server error",503:"node is not part of a swarm"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},function(e,t,r){var n=r(17),i=function(e,t){this.modem=e,this.id=t,this.defaultOptions={log:{}}};i.prototype[r(0).inspect.custom]=function(){return this},i.prototype.inspect=function(e){var t=this,r={path:"/tasks/"+this.id,method:"GET",statusCodes:{200:!0,404:"unknown task",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},i.prototype.logs=function(e,t){var r=this,i=n.processArgs(e,t,this.defaultOptions.log),o={path:"/tasks/"+this.id+"/logs?",method:"GET",isStream:i.opts.follow||!1,statusCodes:{101:!0,200:!0,404:"no such container",500:"server error",503:"node is not part of a swarm"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},function(e,t,r){var n=r(17),i=function(e,t){this.modem=e,this.id=t};i.prototype[r(0).inspect.custom]=function(){return this},i.prototype.inspect=function(e){var t=this,r={path:"/nodes/"+this.id,method:"GET",statusCodes:{200:!0,404:"no such node",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){e(t,r)}))},i.prototype.update=function(e,t){var r=this;t||"function"!=typeof e||(t=e);var n={path:"/nodes/"+this.id+"/update?",method:"POST",statusCodes:{200:!0,404:"no such node",406:"node is not part of a swarm",500:"server error"},options:e};if(void 0===t)return new this.modem.Promise((function(e,t){r.modem.dial(n,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(n,(function(e,r){t(e,r)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/nodes/"+this.id+"?",method:"DELETE",statusCodes:{200:!0,404:"no such node",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},function(e,t,r){var n=r(32),i=n.URL,o=r(10),s=r(37),a=r(48),c=r(11).Writable,u=r(314)("follow-redirects"),l=Object.create(null);["abort","aborted","connect","error","socket","timeout"].forEach((function(e){l[e]=function(t,r,n){this._redirectable.emit(e,t,r,n)}}));var h=_("ERR_FR_REDIRECTION_FAILURE",""),f=_("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),p=_("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),d=_("ERR_STREAM_WRITE_AFTER_END","write after end");function m(e,t){c.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var r=this;this._onNativeResponse=function(e){r._processResponse(e)},this._performRequest()}function g(e,t){clearTimeout(e._timeout),e._timeout=setTimeout((function(){e.emit("timeout")}),t)}function v(){clearTimeout(this._timeout)}function y(e){var t={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(e).forEach((function(o){var s=o+":",c=r[s]=e[o],l=t[o]=Object.create(c);l.request=function(e,o,c){if("string"==typeof e){var l=e;try{e=b(new i(l))}catch(t){e=n.parse(l)}}else i&&e instanceof i?e=b(e):(c=o,o=e,e={protocol:s});return"function"==typeof o&&(c=o,o=null),(o=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,o)).nativeProtocols=r,a.equal(o.protocol,s,"protocol mismatch"),u("options",o),new m(o,c)},l.get=function(e,t,r){var n=l.request(e,t,r);return n.end(),n}})),t}function w(){}function b(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return""!==e.port&&(t.port=Number(e.port)),t}function E(e,t){for(var r in t)e.test(r)&&delete t[r]}function _(e,t){function r(e){Error.captureStackTrace(this,this.constructor),this.message=e||t}return r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="Error ["+e+"]",r.prototype.code=e,r}m.prototype=Object.create(c.prototype),m.prototype.write=function(e,t,r){if(this._ending)throw new d;if(!("string"==typeof e||"object"==typeof e&&"length"in e))throw new TypeError("data should be a string, Buffer or Uint8Array");"function"==typeof t&&(r=t,t=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,r)):(this.emit("error",new p),this.abort()):r&&r()},m.prototype.end=function(e,t,r){if("function"==typeof e?(r=e,e=t=null):"function"==typeof t&&(r=t,t=null),e){var n=this,i=this._currentRequest;this.write(e,t,(function(){n._ended=!0,i.end(null,null,r)})),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,r)},m.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},m.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},m.prototype.setTimeout=function(e,t){if(t&&this.once("timeout",t),this.socket)g(this,e);else{var r=this;this._currentRequest.once("socket",(function(){g(r,e)}))}return this.once("response",v),this.once("error",v),this},["abort","flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(e){m.prototype[e]=function(t,r){return this._currentRequest[e](t,r)}})),["aborted","connection","socket"].forEach((function(e){Object.defineProperty(m.prototype,e,{get:function(){return this._currentRequest[e]}})})),m.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},m.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(t){if(this._options.agents){var r=e.substr(0,e.length-1);this._options.agent=this._options.agents[r]}var i=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var o in this._currentUrl=n.format(this._options),i._redirectable=this,l)o&&i.on(o,l[o]);if(this._isRedirect){var s=0,a=this,c=this._requestBodyBuffers;!function e(t){if(i===a._currentRequest)if(t)a.emit("error",t);else if(s<c.length){var r=c[s++];i.finished||i.write(r.data,r.encoding,e)}else a._ended&&i.end()}()}}else this.emit("error",new TypeError("Unsupported protocol "+e))},m.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var r=e.headers.location;if(r&&!1!==this._options.followRedirects&&t>=300&&t<400){if(this._currentRequest.removeAllListeners(),this._currentRequest.on("error",w),this._currentRequest.abort(),e.destroy(),++this._redirectCount>this._options.maxRedirects)return void this.emit("error",new f);((301===t||302===t)&&"POST"===this._options.method||303===t&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],E(/^content-/i,this._options.headers)),this._isRedirect||E(/^host$/i,this._options.headers);var i=n.resolve(this._currentUrl,r);if(u("redirecting to",i),this._isRedirect=!0,Object.assign(this._options,n.parse(i)),"function"==typeof this._options.beforeRedirect){try{this._options.beforeRedirect.call(null,this._options)}catch(e){return void this.emit("error",e)}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(e){var o=new h("Redirected request failed: "+e.message);o.cause=e,this.emit("error",o)}}else e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[]},e.exports=y({http:o,https:s}),e.exports.wrap=y},function(e,t,r){"use strict";"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(315):e.exports=r(316)},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.log=function(){var e;return"object"===("undefined"==typeof console?"undefined":n(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(i=n))})),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=r(212)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t,r){"use strict";var n=r(186),i=r(0);t.init=function(e){e.inspectOpts={};for(var r=Object.keys(t.inspectOpts),n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(){return process.stderr.write(i.format.apply(i,arguments)+"\n")},t.formatArgs=function(r){var n=this.namespace;if(this.useColors){var i=this.color,o="[3"+(i<8?i:"8;5;"+i),s="  ".concat(o,";1m").concat(n," [0m");r[0]=s+r[0].split("\n").join("\n"+s),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{var o=r(187);o&&(o.stderr||o).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((function(e){return/^debug_/i.test(e)})).reduce((function(e,t){var r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(function(e,t){return t.toUpperCase()})),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{}),e.exports=r(212)(t);var s=e.exports.formatters;s.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")},s.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),i=r(40);t.installDotfiles=async function(e,t,r,o,s){let{repository:a,installCommand:c,targetPath:u}=e.dotfilesConfiguration;if(!a)return;await s,-1===a.indexOf(":")&&(a=`https://github.com/${a}.git`);const l=t.shellServer,h=r?`-c credential.helper='!f() { ${t.installFolder}/node ${r} $*; }; f' `:"",f=n.posix.join(i.getMachineLocation(t),".dotfilesMarker"),p=Object.keys(o).reduce((e,t)=>`${e}${t}='${o[t]}' `,"");try{await l.exec(`# Clone & install dotfiles\n${i.createFileCommand(f)} || exit 0\ncommand -v git >/dev/null 2>&1 || (echo git not found && exit 1) || exit 0\n[ -e ${u} ] || ${p}git ${h}clone ${a} ${u}\n[ -x ${c} ] || (echo ${c} not executable && exit 1) || exit 0\ncd ${u} && ${c}`)}catch(e){}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(33),i=!1;t.forwardPort=async function({forwardedPorts:e,output:t},r,o,s){i&&console.error(`Forward port ${o}: Start listening`);const a=s?{VSCODE_REMOTE_CONTAINERS_SESSION:s}:void 0;return new Promise((s,c)=>{const u=new Set,l=n.createServer({pauseOnConnect:!0},e=>{i&&console.error(`Forward port ${o}: New connection`),async function(e,t,r,n){return t.remoteExec({env:n,cmd:r[0],args:r.slice(1),output:e})}(t,r,[r.nodeExecutable,"-e",`\n\t\t\t\tconst net = require('net');\n\t\t\t\tprocess.stdin.pause();\n\t\t\t\tconst client = net.createConnection({ port: ${o} }, () => {\n\t\t\t\t\tclient.pipe(process.stdout);\n\t\t\t\t\tprocess.stdin.pipe(client);\n\t\t\t\t});\n\t\t\t\tclient.on('close', function (hadError) {\n${i?`\t\t\t\t\tconsole.error('Forward port ' + ${o} + ': Remote close');\n`:""}\t\t\t\t\tprocess.exit(hadError ? 1 : 0);\n\t\t\t\t});\n\t\t\t\tclient.on('error', function (err) {\n\t\t\t\t\tprocess.stderr.write(err && (err.stack || err.message) || String(err));\n\t\t\t\t});\n\t\t\t`],a).then(t=>{let r=!1;t.exit.then(({code:t,signal:n})=>{i&&console.error(`Forward port ${o}: Remote exit`),r||(u.delete(e),e.end(),(t||n)&&console.error(`Port forwarding terminated with code ${t} and signal ${n}.`))}),t.stderr.on("data",e=>{console.error(e.toString("utf8"))}),e.on("close",()=>{i&&console.error(`Forward port ${o}: Local close`),r=!0,u.delete(e),t.terminate().catch(console.error)}),t.stdout.pipe(e),e.pipe(t.stdin),u.add(e)}).catch(console.error)});l.on("listening",()=>{const r={targetPort:o,server:l,connections:u};l.on("close",()=>{e.delete(r)}),e.add(r),t.write(`Forwarding local port ${l.address().port} to container port ${o}`),s(l)}),l.on("error",e=>{!e||"EADDRINUSE"!==e.code&&"EACCES"!==e.code?c(e):l.listen(0,"127.0.0.1")}),l.on("close",()=>{c(new Error("Closed"))}),l.listen(o,"127.0.0.1")})},t.stopForwarding=async function(e){return new Promise((t,r)=>{e.server.close(e=>{e?r(e):t()});for(const t of e.connections)t.destroy()})}},function(e,t,r){"use strict";var n=r(320),i=r(339);function o(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}e.exports.Type=r(9),e.exports.Schema=r(58),e.exports.FAILSAFE_SCHEMA=r(154),e.exports.JSON_SCHEMA=r(215),e.exports.CORE_SCHEMA=r(214),e.exports.DEFAULT_SAFE_SCHEMA=r(76),e.exports.DEFAULT_FULL_SCHEMA=r(85),e.exports.load=n.load,e.exports.loadAll=n.loadAll,e.exports.safeLoad=n.safeLoad,e.exports.safeLoadAll=n.safeLoadAll,e.exports.dump=i.dump,e.exports.safeDump=i.safeDump,e.exports.YAMLException=r(75),e.exports.MINIMAL_SCHEMA=r(154),e.exports.SAFE_SCHEMA=r(76),e.exports.DEFAULT_SCHEMA=r(85),e.exports.scan=o("scan"),e.exports.parse=o("parse"),e.exports.compose=o("compose"),e.exports.addConstructor=o("addConstructor")},function(e,t,r){"use strict";var n=r(57),i=r(75),o=r(321),s=r(76),a=r(85),c=Object.prototype.hasOwnProperty,u=1,l=2,h=3,f=4,p=1,d=2,m=3,g=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,v=/[\x85\u2028\u2029]/,y=/[,\[\]\{\}]/,w=/^(?:!|!!|![a-z\-]+!)$/i,b=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function E(e){return Object.prototype.toString.call(e)}function _(e){return 10===e||13===e}function C(e){return 9===e||32===e}function S(e){return 9===e||32===e||10===e||13===e}function k(e){return 44===e||91===e||93===e||123===e||125===e}function x(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function D(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e?"\t":9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?" ":76===e?"\u2028":80===e?"\u2029":""}function A(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var T=new Array(256),R=new Array(256),I=0;I<256;I++)T[I]=D(I)?1:0,R[I]=D(I);function P(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||a,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function O(e,t){return new i(t,new o(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function F(e,t){throw O(e,t)}function N(e,t){e.onWarning&&e.onWarning.call(null,O(e,t))}var L={YAML:function(e,t,r){var n,i,o;null!==e.version&&F(e,"duplication of %YAML directive"),1!==r.length&&F(e,"YAML directive accepts exactly one argument"),null===(n=/^([0-9]+)\.([0-9]+)$/.exec(r[0]))&&F(e,"ill-formed argument of the YAML directive"),i=parseInt(n[1],10),o=parseInt(n[2],10),1!==i&&F(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=o<2,1!==o&&2!==o&&N(e,"unsupported YAML version of the document")},TAG:function(e,t,r){var n,i;2!==r.length&&F(e,"TAG directive accepts exactly two arguments"),n=r[0],i=r[1],w.test(n)||F(e,"ill-formed tag handle (first argument) of the TAG directive"),c.call(e.tagMap,n)&&F(e,'there is a previously declared suffix for "'+n+'" tag handle'),b.test(i)||F(e,"ill-formed tag prefix (second argument) of the TAG directive"),e.tagMap[n]=i}};function B(e,t,r,n){var i,o,s,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,o=a.length;i<o;i+=1)9===(s=a.charCodeAt(i))||32<=s&&s<=1114111||F(e,"expected valid JSON character");else g.test(a)&&F(e,"the stream contains non-printable characters");e.result+=a}}function M(e,t,r,i){var o,s,a,u;for(n.isObject(r)||F(e,"cannot merge mappings; the provided source object is unacceptable"),a=0,u=(o=Object.keys(r)).length;a<u;a+=1)s=o[a],c.call(t,s)||(t[s]=r[s],i[s]=!0)}function U(e,t,r,n,i,o,s,a){var u,l;if(Array.isArray(i))for(u=0,l=(i=Array.prototype.slice.call(i)).length;u<l;u+=1)Array.isArray(i[u])&&F(e,"nested arrays are not supported inside keys"),"object"==typeof i&&"[object Object]"===E(i[u])&&(i[u]="[object Object]");if("object"==typeof i&&"[object Object]"===E(i)&&(i="[object Object]"),i=String(i),null===t&&(t={}),"tag:yaml.org,2002:merge"===n)if(Array.isArray(o))for(u=0,l=o.length;u<l;u+=1)M(e,t,o[u],r);else M(e,t,o,r);else e.json||c.call(r,i)||!c.call(t,i)||(e.line=s||e.line,e.position=a||e.position,F(e,"duplicated mapping key")),t[i]=o,delete r[i];return t}function j(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):F(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function H(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);0!==i;){for(;C(i);)i=e.input.charCodeAt(++e.position);if(t&&35===i)do{i=e.input.charCodeAt(++e.position)}while(10!==i&&13!==i&&0!==i);if(!_(i))break;for(j(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;32===i;)e.lineIndent++,i=e.input.charCodeAt(++e.position)}return-1!==r&&0!==n&&e.lineIndent<r&&N(e,"deficient indentation"),n}function q(e){var t,r=e.position;return!(45!==(t=e.input.charCodeAt(r))&&46!==t||t!==e.input.charCodeAt(r+1)||t!==e.input.charCodeAt(r+2)||(r+=3,0!==(t=e.input.charCodeAt(r))&&!S(t)))}function $(e,t){1===t?e.result+=" ":t>1&&(e.result+=n.repeat("\n",t-1))}function G(e,t){var r,n,i=e.tag,o=e.anchor,s=[],a=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=s),n=e.input.charCodeAt(e.position);0!==n&&45===n&&S(e.input.charCodeAt(e.position+1));)if(a=!0,e.position++,H(e,!0,-1)&&e.lineIndent<=t)s.push(null),n=e.input.charCodeAt(e.position);else if(r=e.line,V(e,t,h,!1,!0),s.push(e.result),H(e,!0,-1),n=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&0!==n)F(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!a&&(e.tag=i,e.anchor=o,e.kind="sequence",e.result=s,!0)}function W(e){var t,r,n,i,o=!1,s=!1;if(33!==(i=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&F(e,"duplication of a tag property"),60===(i=e.input.charCodeAt(++e.position))?(o=!0,i=e.input.charCodeAt(++e.position)):33===i?(s=!0,r="!!",i=e.input.charCodeAt(++e.position)):r="!",t=e.position,o){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&62!==i);e.position<e.length?(n=e.input.slice(t,e.position),i=e.input.charCodeAt(++e.position)):F(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!S(i);)33===i&&(s?F(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(t-1,e.position+1),w.test(r)||F(e,"named tag handle cannot contain such characters"),s=!0,t=e.position+1)),i=e.input.charCodeAt(++e.position);n=e.input.slice(t,e.position),y.test(n)&&F(e,"tag suffix cannot contain flow indicator characters")}return n&&!b.test(n)&&F(e,"tag name cannot contain such characters: "+n),o?e.tag=n:c.call(e.tagMap,r)?e.tag=e.tagMap[r]+n:"!"===r?e.tag="!"+n:"!!"===r?e.tag="tag:yaml.org,2002:"+n:F(e,'undeclared tag handle "'+r+'"'),!0}function z(e){var t,r;if(38!==(r=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&F(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!S(r)&&!k(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&F(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function V(e,t,r,i,o){var s,a,g,v,y,w,b,E,D=1,I=!1,P=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=a=g=f===r||h===r,i&&H(e,!0,-1)&&(I=!0,e.lineIndent>t?D=1:e.lineIndent===t?D=0:e.lineIndent<t&&(D=-1)),1===D)for(;W(e)||z(e);)H(e,!0,-1)?(I=!0,g=s,e.lineIndent>t?D=1:e.lineIndent===t?D=0:e.lineIndent<t&&(D=-1)):g=!1;if(g&&(g=I||o),1!==D&&f!==r||(b=u===r||l===r?t:t+1,E=e.position-e.lineStart,1===D?g&&(G(e,E)||function(e,t,r){var n,i,o,s,a,c=e.tag,u=e.anchor,h={},p={},d=null,m=null,g=null,v=!1,y=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=h),a=e.input.charCodeAt(e.position);0!==a;){if(n=e.input.charCodeAt(e.position+1),o=e.line,s=e.position,63!==a&&58!==a||!S(n)){if(!V(e,r,l,!1,!0))break;if(e.line===o){for(a=e.input.charCodeAt(e.position);C(a);)a=e.input.charCodeAt(++e.position);if(58===a)S(a=e.input.charCodeAt(++e.position))||F(e,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(U(e,h,p,d,m,null),d=m=g=null),y=!0,v=!1,i=!1,d=e.tag,m=e.result;else{if(!y)return e.tag=c,e.anchor=u,!0;F(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!y)return e.tag=c,e.anchor=u,!0;F(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===a?(v&&(U(e,h,p,d,m,null),d=m=g=null),y=!0,v=!0,i=!0):v?(v=!1,i=!0):F(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,a=n;if((e.line===o||e.lineIndent>t)&&(V(e,t,f,!0,i)&&(v?m=e.result:g=e.result),v||(U(e,h,p,d,m,g,o,s),d=m=g=null),H(e,!0,-1),a=e.input.charCodeAt(e.position)),e.lineIndent>t&&0!==a)F(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return v&&U(e,h,p,d,m,null),y&&(e.tag=c,e.anchor=u,e.kind="mapping",e.result=h),y}(e,E,b))||function(e,t){var r,n,i,o,s,a,c,l,h,f,p=!0,d=e.tag,m=e.anchor,g={};if(91===(f=e.input.charCodeAt(e.position)))i=93,a=!1,n=[];else{if(123!==f)return!1;i=125,a=!0,n={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=n),f=e.input.charCodeAt(++e.position);0!==f;){if(H(e,!0,t),(f=e.input.charCodeAt(e.position))===i)return e.position++,e.tag=d,e.anchor=m,e.kind=a?"mapping":"sequence",e.result=n,!0;p||F(e,"missed comma between flow collection entries"),h=null,o=s=!1,63===f&&S(e.input.charCodeAt(e.position+1))&&(o=s=!0,e.position++,H(e,!0,t)),r=e.line,V(e,t,u,!1,!0),l=e.tag,c=e.result,H(e,!0,t),f=e.input.charCodeAt(e.position),!s&&e.line!==r||58!==f||(o=!0,f=e.input.charCodeAt(++e.position),H(e,!0,t),V(e,t,u,!1,!0),h=e.result),a?U(e,n,g,l,c,h):o?n.push(U(e,null,g,l,c,h)):n.push(c),H(e,!0,t),44===(f=e.input.charCodeAt(e.position))?(p=!0,f=e.input.charCodeAt(++e.position)):p=!1}F(e,"unexpected end of the stream within a flow collection")}(e,b)?P=!0:(a&&function(e,t){var r,i,o,s,a,c=p,u=!1,l=!1,h=t,f=0,g=!1;if(124===(s=e.input.charCodeAt(e.position)))i=!1;else{if(62!==s)return!1;i=!0}for(e.kind="scalar",e.result="";0!==s;)if(43===(s=e.input.charCodeAt(++e.position))||45===s)p===c?c=43===s?m:d:F(e,"repeat of a chomping mode identifier");else{if(!((o=48<=(a=s)&&a<=57?a-48:-1)>=0))break;0===o?F(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?F(e,"repeat of an indentation width identifier"):(h=t+o-1,l=!0)}if(C(s)){do{s=e.input.charCodeAt(++e.position)}while(C(s));if(35===s)do{s=e.input.charCodeAt(++e.position)}while(!_(s)&&0!==s)}for(;0!==s;){for(j(e),e.lineIndent=0,s=e.input.charCodeAt(e.position);(!l||e.lineIndent<h)&&32===s;)e.lineIndent++,s=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>h&&(h=e.lineIndent),_(s))f++;else{if(e.lineIndent<h){c===m?e.result+=n.repeat("\n",u?1+f:f):c===p&&u&&(e.result+="\n");break}for(i?C(s)?(g=!0,e.result+=n.repeat("\n",u?1+f:f)):g?(g=!1,e.result+=n.repeat("\n",f+1)):0===f?u&&(e.result+=" "):e.result+=n.repeat("\n",f):e.result+=n.repeat("\n",u?1+f:f),u=!0,l=!0,f=0,r=e.position;!_(s)&&0!==s;)s=e.input.charCodeAt(++e.position);B(e,r,e.position,!1)}}return!0}(e,b)||function(e,t){var r,n,i;if(39!==(r=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;0!==(r=e.input.charCodeAt(e.position));)if(39===r){if(B(e,n,e.position,!0),39!==(r=e.input.charCodeAt(++e.position)))return!0;n=e.position,e.position++,i=e.position}else _(r)?(B(e,n,i,!0),$(e,H(e,!1,t)),n=i=e.position):e.position===e.lineStart&&q(e)?F(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);F(e,"unexpected end of the stream within a single quoted scalar")}(e,b)||function(e,t){var r,n,i,o,s,a,c;if(34!==(a=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;0!==(a=e.input.charCodeAt(e.position));){if(34===a)return B(e,r,e.position,!0),e.position++,!0;if(92===a){if(B(e,r,e.position,!0),_(a=e.input.charCodeAt(++e.position)))H(e,!1,t);else if(a<256&&T[a])e.result+=R[a],e.position++;else if((s=120===(c=a)?2:117===c?4:85===c?8:0)>0){for(i=s,o=0;i>0;i--)(s=x(a=e.input.charCodeAt(++e.position)))>=0?o=(o<<4)+s:F(e,"expected hexadecimal character");e.result+=A(o),e.position++}else F(e,"unknown escape sequence");r=n=e.position}else _(a)?(B(e,r,n,!0),$(e,H(e,!1,t)),r=n=e.position):e.position===e.lineStart&&q(e)?F(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}F(e,"unexpected end of the stream within a double quoted scalar")}(e,b)?P=!0:!function(e){var t,r,n;if(42!==(n=e.input.charCodeAt(e.position)))return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!S(n)&&!k(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&F(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),e.anchorMap.hasOwnProperty(r)||F(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],H(e,!0,-1),!0}(e)?function(e,t,r){var n,i,o,s,a,c,u,l,h=e.kind,f=e.result;if(S(l=e.input.charCodeAt(e.position))||k(l)||35===l||38===l||42===l||33===l||124===l||62===l||39===l||34===l||37===l||64===l||96===l)return!1;if((63===l||45===l)&&(S(n=e.input.charCodeAt(e.position+1))||r&&k(n)))return!1;for(e.kind="scalar",e.result="",i=o=e.position,s=!1;0!==l;){if(58===l){if(S(n=e.input.charCodeAt(e.position+1))||r&&k(n))break}else if(35===l){if(S(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&q(e)||r&&k(l))break;if(_(l)){if(a=e.line,c=e.lineStart,u=e.lineIndent,H(e,!1,-1),e.lineIndent>=t){s=!0,l=e.input.charCodeAt(e.position);continue}e.position=o,e.line=a,e.lineStart=c,e.lineIndent=u;break}}s&&(B(e,i,o,!1),$(e,e.line-a),i=o=e.position,s=!1),C(l)||(o=e.position+1),l=e.input.charCodeAt(++e.position)}return B(e,i,o,!1),!!e.result||(e.kind=h,e.result=f,!1)}(e,b,u===r)&&(P=!0,null===e.tag&&(e.tag="?")):(P=!0,null===e.tag&&null===e.anchor||F(e,"alias node should not have any properties")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===D&&(P=g&&G(e,E))),null!==e.tag&&"!"!==e.tag)if("?"===e.tag){for(v=0,y=e.implicitTypes.length;v<y;v+=1)if((w=e.implicitTypes[v]).resolve(e.result)){e.result=w.construct(e.result),e.tag=w.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else c.call(e.typeMap[e.kind||"fallback"],e.tag)?(w=e.typeMap[e.kind||"fallback"][e.tag],null!==e.result&&w.kind!==e.kind&&F(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+w.kind+'", not "'+e.kind+'"'),w.resolve(e.result)?(e.result=w.construct(e.result),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):F(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):F(e,"unknown tag !<"+e.tag+">");return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||P}function K(e){var t,r,n,i,o=e.position,s=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};0!==(i=e.input.charCodeAt(e.position))&&(H(e,!0,-1),i=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==i));){for(s=!0,i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!S(i);)i=e.input.charCodeAt(++e.position);for(n=[],(r=e.input.slice(t,e.position)).length<1&&F(e,"directive name must not be less than one character in length");0!==i;){for(;C(i);)i=e.input.charCodeAt(++e.position);if(35===i){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&!_(i));break}if(_(i))break;for(t=e.position;0!==i&&!S(i);)i=e.input.charCodeAt(++e.position);n.push(e.input.slice(t,e.position))}0!==i&&j(e),c.call(L,r)?L[r](e,r,n):N(e,'unknown document directive "'+r+'"')}H(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,H(e,!0,-1)):s&&F(e,"directives end mark is expected"),V(e,e.lineIndent-1,f,!1,!0),H(e,!0,-1),e.checkLineBreaks&&v.test(e.input.slice(o,e.position))&&N(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&q(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,H(e,!0,-1)):e.position<e.length-1&&F(e,"end of the stream or a document separator is expected")}function X(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var r=new P(e,t);for(r.input+="\0";32===r.input.charCodeAt(r.position);)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)K(r);return r.documents}function Y(e,t,r){var n,i,o=X(e,r);if("function"!=typeof t)return o;for(n=0,i=o.length;n<i;n+=1)t(o[n])}function J(e,t){var r=X(e,t);if(0!==r.length){if(1===r.length)return r[0];throw new i("expected a single document in the stream, but found more")}}e.exports.loadAll=Y,e.exports.load=J,e.exports.safeLoadAll=function(e,t,r){if("function"!=typeof t)return Y(e,n.extend({schema:s},r));Y(e,t,n.extend({schema:s},r))},e.exports.safeLoad=function(e,t){return J(e,n.extend({schema:s},t))}},function(e,t,r){"use strict";var n=r(57);function i(e,t,r,n,i){this.name=e,this.buffer=t,this.position=r,this.line=n,this.column=i}i.prototype.getSnippet=function(e,t){var r,i,o,s,a;if(!this.buffer)return null;for(e=e||4,t=t||75,r="",i=this.position;i>0&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(i-1));)if(i-=1,this.position-i>t/2-1){r=" ... ",i+=5;break}for(o="",s=this.position;s<this.buffer.length&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(s));)if((s+=1)-this.position>t/2-1){o=" ... ",s-=5;break}return a=this.buffer.slice(i,s),n.repeat(" ",e)+r+a+o+"\n"+n.repeat(" ",e+this.position-i+r.length)+"^"},i.prototype.toString=function(e){var t,r="";return this.name&&(r+='in "'+this.name+'" '),r+="at line "+(this.line+1)+", column "+(this.column+1),e||(t=this.getSnippet())&&(r+=":\n"+t),r},e.exports=i},function(e,t,r){"use strict";var n=r(9);e.exports=new n("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}})},function(e,t,r){"use strict";var n=r(9);e.exports=new n("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}})},function(e,t,r){"use strict";var n=r(9);e.exports=new n("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}})},function(e,t,r){"use strict";var n=r(9);e.exports=new n("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},function(e,t,r){"use strict";var n=r(9);e.exports=new n("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})},function(e,t,r){"use strict";var n=r(57),i=r(9);function o(e){return 48<=e&&e<=55}function s(e){return 48<=e&&e<=57}e.exports=new i("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,r,n=e.length,i=0,a=!1;if(!n)return!1;if("-"!==(t=e[i])&&"+"!==t||(t=e[++i]),"0"===t){if(i+1===n)return!0;if("b"===(t=e[++i])){for(i++;i<n;i++)if("_"!==(t=e[i])){if("0"!==t&&"1"!==t)return!1;a=!0}return a&&"_"!==t}if("x"===t){for(i++;i<n;i++)if("_"!==(t=e[i])){if(!(48<=(r=e.charCodeAt(i))&&r<=57||65<=r&&r<=70||97<=r&&r<=102))return!1;a=!0}return a&&"_"!==t}for(;i<n;i++)if("_"!==(t=e[i])){if(!o(e.charCodeAt(i)))return!1;a=!0}return a&&"_"!==t}if("_"===t)return!1;for(;i<n;i++)if("_"!==(t=e[i])){if(":"===t)break;if(!s(e.charCodeAt(i)))return!1;a=!0}return!(!a||"_"===t)&&(":"!==t||/^(:[0-5]?[0-9])+$/.test(e.slice(i)))},construct:function(e){var t,r,n=e,i=1,o=[];return-1!==n.indexOf("_")&&(n=n.replace(/_/g,"")),"-"!==(t=n[0])&&"+"!==t||("-"===t&&(i=-1),t=(n=n.slice(1))[0]),"0"===n?0:"0"===t?"b"===n[1]?i*parseInt(n.slice(2),2):"x"===n[1]?i*parseInt(n,16):i*parseInt(n,8):-1!==n.indexOf(":")?(n.split(":").forEach((function(e){o.unshift(parseInt(e,10))})),n=0,r=1,o.forEach((function(e){n+=e*r,r*=60})),i*n):i*parseInt(n,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!n.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0"+e.toString(8):"-0"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},function(e,t,r){"use strict";var n=r(57),i=r(9),o=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");var s=/^[-+]?[0-9]+e/;e.exports=new i("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!o.test(e)||"_"===e[e.length-1])},construct:function(e){var t,r,n,i;return r="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,i=[],"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===r?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:t.indexOf(":")>=0?(t.split(":").forEach((function(e){i.unshift(parseFloat(e,10))})),t=0,n=1,i.forEach((function(e){t+=e*n,n*=60})),r*t):r*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||n.isNegativeZero(e))},represent:function(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(n.isNegativeZero(e))return"-0.0";return r=e.toString(10),s.test(r)?r.replace("e",".e"):r},defaultStyle:"lowercase"})},function(e,t,r){"use strict";var n=r(9),i=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),o=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");e.exports=new n("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==i.exec(e)||null!==o.exec(e))},construct:function(e){var t,r,n,s,a,c,u,l,h=0,f=null;if(null===(t=i.exec(e))&&(t=o.exec(e)),null===t)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,s=+t[3],!t[4])return new Date(Date.UTC(r,n,s));if(a=+t[4],c=+t[5],u=+t[6],t[7]){for(h=t[7].slice(0,3);h.length<3;)h+="0";h=+h}return t[9]&&(f=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(f=-f)),l=new Date(Date.UTC(r,n,s,a,c,u,h)),f&&l.setTime(l.getTime()-f),l},instanceOf:Date,represent:function(e){return e.toISOString()}})},function(e,t,r){"use strict";var n=r(9);e.exports=new n("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}})},function(e,t,r){"use strict";var n;try{n=r(14).Buffer}catch(e){}var i=r(9),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";e.exports=new i("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,r,n=0,i=e.length,s=o;for(r=0;r<i;r++)if(!((t=s.indexOf(e.charAt(r)))>64)){if(t<0)return!1;n+=6}return n%8==0},construct:function(e){var t,r,i=e.replace(/[\r\n=]/g,""),s=i.length,a=o,c=0,u=[];for(t=0;t<s;t++)t%4==0&&t&&(u.push(c>>16&255),u.push(c>>8&255),u.push(255&c)),c=c<<6|a.indexOf(i.charAt(t));return 0===(r=s%4*6)?(u.push(c>>16&255),u.push(c>>8&255),u.push(255&c)):18===r?(u.push(c>>10&255),u.push(c>>2&255)):12===r&&u.push(c>>4&255),n?n.from?n.from(u):new n(u):u},predicate:function(e){return n&&n.isBuffer(e)},represent:function(e){var t,r,n="",i=0,s=e.length,a=o;for(t=0;t<s;t++)t%3==0&&t&&(n+=a[i>>18&63],n+=a[i>>12&63],n+=a[i>>6&63],n+=a[63&i]),i=(i<<8)+e[t];return 0===(r=s%3)?(n+=a[i>>18&63],n+=a[i>>12&63],n+=a[i>>6&63],n+=a[63&i]):2===r?(n+=a[i>>10&63],n+=a[i>>4&63],n+=a[i<<2&63],n+=a[64]):1===r&&(n+=a[i>>2&63],n+=a[i<<4&63],n+=a[64],n+=a[64]),n}})},function(e,t,r){"use strict";var n=r(9),i=Object.prototype.hasOwnProperty,o=Object.prototype.toString;e.exports=new n("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,r,n,s,a,c=[],u=e;for(t=0,r=u.length;t<r;t+=1){if(n=u[t],a=!1,"[object Object]"!==o.call(n))return!1;for(s in n)if(i.call(n,s)){if(a)return!1;a=!0}if(!a)return!1;if(-1!==c.indexOf(s))return!1;c.push(s)}return!0},construct:function(e){return null!==e?e:[]}})},function(e,t,r){"use strict";var n=r(9),i=Object.prototype.toString;e.exports=new n("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,r,n,o,s,a=e;for(s=new Array(a.length),t=0,r=a.length;t<r;t+=1){if(n=a[t],"[object Object]"!==i.call(n))return!1;if(1!==(o=Object.keys(n)).length)return!1;s[t]=[o[0],n[o[0]]]}return!0},construct:function(e){if(null===e)return[];var t,r,n,i,o,s=e;for(o=new Array(s.length),t=0,r=s.length;t<r;t+=1)n=s[t],i=Object.keys(n),o[t]=[i[0],n[i[0]]];return o}})},function(e,t,r){"use strict";var n=r(9),i=Object.prototype.hasOwnProperty;e.exports=new n("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,r=e;for(t in r)if(i.call(r,t)&&null!==r[t])return!1;return!0},construct:function(e){return null!==e?e:{}}})},function(e,t,r){"use strict";var n=r(9);e.exports=new n("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(e){return void 0===e},represent:function(){return""}})},function(e,t,r){"use strict";var n=r(9);e.exports=new n("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(e){if(null===e)return!1;if(0===e.length)return!1;var t=e,r=/\/([gim]*)$/.exec(e),n="";if("/"===t[0]){if(r&&(n=r[1]),n.length>3)return!1;if("/"!==t[t.length-n.length-1])return!1}return!0},construct:function(e){var t=e,r=/\/([gim]*)$/.exec(e),n="";return"/"===t[0]&&(r&&(n=r[1]),t=t.slice(1,t.length-n.length-1)),new RegExp(t,n)},predicate:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},represent:function(e){var t="/"+e.source+"/";return e.global&&(t+="g"),e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),t}})},function(e,t,r){"use strict";var n;try{n=r(338)}catch(e){"undefined"!=typeof window&&(n=window.esprima)}var i=r(9);e.exports=new i("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(e){if(null===e)return!1;try{var t="("+e+")",r=n.parse(t,{range:!0});return"Program"===r.type&&1===r.body.length&&"ExpressionStatement"===r.body[0].type&&("ArrowFunctionExpression"===r.body[0].expression.type||"FunctionExpression"===r.body[0].expression.type)}catch(e){return!1}},construct:function(e){var t,r="("+e+")",i=n.parse(r,{range:!0}),o=[];if("Program"!==i.type||1!==i.body.length||"ExpressionStatement"!==i.body[0].type||"ArrowFunctionExpression"!==i.body[0].expression.type&&"FunctionExpression"!==i.body[0].expression.type)throw new Error("Failed to resolve function");return i.body[0].expression.params.forEach((function(e){o.push(e.name)})),t=i.body[0].expression.body.range,"BlockStatement"===i.body[0].expression.body.type?new Function(o,r.slice(t[0]+1,t[1]-1)):new Function(o,"return "+r.slice(t[0],t[1]))},predicate:function(e){return"[object Function]"===Object.prototype.toString.call(e)},represent:function(e){return e.toString()}})},function(e,t,r){var n;n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.m=e,r.c=t,r.p="",r(0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=r(3),o=r(8),s=r(15);function a(e,t,r){var s=null,a=function(e,t){r&&r(e,t),s&&s.visit(e,t)},c="function"==typeof r?a:null,u=!1;if(t){u="boolean"==typeof t.comment&&t.comment;var l="boolean"==typeof t.attachComment&&t.attachComment;(u||l)&&((s=new n.CommentHandler).attach=l,t.comment=!0,c=a)}var h,f=!1;t&&"string"==typeof t.sourceType&&(f="module"===t.sourceType),h=t&&"boolean"==typeof t.jsx&&t.jsx?new i.JSXParser(e,t,c):new o.Parser(e,t,c);var p=f?h.parseModule():h.parseScript();return u&&s&&(p.comments=s.comments),h.config.tokens&&(p.tokens=h.tokens),h.config.tolerant&&(p.errors=h.errorHandler.errors),p}t.parse=a,t.parseModule=function(e,t,r){var n=t||{};return n.sourceType="module",a(e,n,r)},t.parseScript=function(e,t,r){var n=t||{};return n.sourceType="script",a(e,n,r)},t.tokenize=function(e,t,r){var n,i=new s.Tokenizer(e,t);n=[];try{for(;;){var o=i.getNextToken();if(!o)break;r&&(o=r(o)),n.push(o)}}catch(e){i.errorHandler.tolerate(e)}return i.errorHandler.tolerant&&(n.errors=i.errors()),n};var c=r(2);t.Syntax=c.Syntax,t.version="4.0.1"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=function(){function e(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return e.prototype.insertInnerComments=function(e,t){if(e.type===n.Syntax.BlockStatement&&0===e.body.length){for(var r=[],i=this.leading.length-1;i>=0;--i){var o=this.leading[i];t.end.offset>=o.start&&(r.unshift(o.comment),this.leading.splice(i,1),this.trailing.splice(i,1))}r.length&&(e.innerComments=r)}},e.prototype.findTrailingComments=function(e){var t=[];if(this.trailing.length>0){for(var r=this.trailing.length-1;r>=0;--r){var n=this.trailing[r];n.start>=e.end.offset&&t.unshift(n.comment)}return this.trailing.length=0,t}var i=this.stack[this.stack.length-1];if(i&&i.node.trailingComments){var o=i.node.trailingComments[0];o&&o.range[0]>=e.end.offset&&(t=i.node.trailingComments,delete i.node.trailingComments)}return t},e.prototype.findLeadingComments=function(e){for(var t,r=[];this.stack.length>0&&((o=this.stack[this.stack.length-1])&&o.start>=e.start.offset);)t=o.node,this.stack.pop();if(t){for(var n=(t.leadingComments?t.leadingComments.length:0)-1;n>=0;--n){var i=t.leadingComments[n];i.range[1]<=e.start.offset&&(r.unshift(i),t.leadingComments.splice(n,1))}return t.leadingComments&&0===t.leadingComments.length&&delete t.leadingComments,r}for(n=this.leading.length-1;n>=0;--n){var o;(o=this.leading[n]).start<=e.start.offset&&(r.unshift(o.comment),this.leading.splice(n,1))}return r},e.prototype.visitNode=function(e,t){if(!(e.type===n.Syntax.Program&&e.body.length>0)){this.insertInnerComments(e,t);var r=this.findTrailingComments(t),i=this.findLeadingComments(t);i.length>0&&(e.leadingComments=i),r.length>0&&(e.trailingComments=r),this.stack.push({node:e,start:t.start.offset})}},e.prototype.visitComment=function(e,t){var r="L"===e.type[0]?"Line":"Block",n={type:r,value:e.value};if(e.range&&(n.range=e.range),e.loc&&(n.loc=e.loc),this.comments.push(n),this.attach){var i={comment:{type:r,value:e.value,range:[t.start.offset,t.end.offset]},start:t.start.offset};e.loc&&(i.comment.loc=e.loc),e.type=r,this.leading.push(i),this.trailing.push(i)}},e.prototype.visit=function(e,t){"LineComment"===e.type?this.visitComment(e,t):"BlockComment"===e.type?this.visitComment(e,t):this.attach&&this.visitNode(e,t)},e}();t.CommentHandler=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(4),s=r(5),a=r(6),c=r(7),u=r(8),l=r(13),h=r(14);function f(e){var t;switch(e.type){case a.JSXSyntax.JSXIdentifier:t=e.name;break;case a.JSXSyntax.JSXNamespacedName:var r=e;t=f(r.namespace)+":"+f(r.name);break;case a.JSXSyntax.JSXMemberExpression:var n=e;t=f(n.object)+"."+f(n.property)}return t}l.TokenName[100]="JSXIdentifier",l.TokenName[101]="JSXText";var p=function(e){function t(t,r,n){return e.call(this,t,r,n)||this}return i(t,e),t.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():e.prototype.parsePrimaryExpression.call(this)},t.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},t.prototype.finishJSX=function(){this.nextToken()},t.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},t.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},t.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},t.prototype.scanXHTMLEntity=function(e){for(var t="&",r=!0,n=!1,i=!1,s=!1;!this.scanner.eof()&&r&&!n;){var a=this.scanner.source[this.scanner.index];if(a===e)break;if(n=";"===a,t+=a,++this.scanner.index,!n)switch(t.length){case 2:i="#"===a;break;case 3:i&&(r=(s="x"===a)||o.Character.isDecimalDigit(a.charCodeAt(0)),i=i&&!s);break;default:r=(r=r&&!(i&&!o.Character.isDecimalDigit(a.charCodeAt(0))))&&!(s&&!o.Character.isHexDigit(a.charCodeAt(0)))}}if(r&&n&&t.length>2){var c=t.substr(1,t.length-2);i&&c.length>1?t=String.fromCharCode(parseInt(c.substr(1),10)):s&&c.length>2?t=String.fromCharCode(parseInt("0"+c.substr(1),16)):i||s||!h.XHTMLEntities[c]||(t=h.XHTMLEntities[c])}return t},t.prototype.lexJSX=function(){var e=this.scanner.source.charCodeAt(this.scanner.index);if(60===e||62===e||47===e||58===e||61===e||123===e||125===e)return{type:7,value:a=this.scanner.source[this.scanner.index++],lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index};if(34===e||39===e){for(var t=this.scanner.index,r=this.scanner.source[this.scanner.index++],n="";!this.scanner.eof()&&(c=this.scanner.source[this.scanner.index++])!==r;)n+="&"===c?this.scanXHTMLEntity(r):c;return{type:8,value:n,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}if(46===e){var i=this.scanner.source.charCodeAt(this.scanner.index+1),s=this.scanner.source.charCodeAt(this.scanner.index+2),a=46===i&&46===s?"...":".";return t=this.scanner.index,this.scanner.index+=a.length,{type:7,value:a,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}if(96===e)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(o.Character.isIdentifierStart(e)&&92!==e){for(t=this.scanner.index,++this.scanner.index;!this.scanner.eof();){var c=this.scanner.source.charCodeAt(this.scanner.index);if(o.Character.isIdentifierPart(c)&&92!==c)++this.scanner.index;else{if(45!==c)break;++this.scanner.index}}return{type:100,value:this.scanner.source.slice(t,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}return this.scanner.lex()},t.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var e=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(e)),e},t.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var e=this.scanner.index,t="";!this.scanner.eof();){var r=this.scanner.source[this.scanner.index];if("{"===r||"<"===r)break;++this.scanner.index,t+=r,o.Character.isLineTerminator(r.charCodeAt(0))&&(++this.scanner.lineNumber,"\r"===r&&"\n"===this.scanner.source[this.scanner.index]&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var n={type:101,value:t,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:e,end:this.scanner.index};return t.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(n)),n},t.prototype.peekJSXToken=function(){var e=this.scanner.saveState();this.scanner.scanComments();var t=this.lexJSX();return this.scanner.restoreState(e),t},t.prototype.expectJSX=function(e){var t=this.nextJSXToken();7===t.type&&t.value===e||this.throwUnexpectedToken(t)},t.prototype.matchJSX=function(e){var t=this.peekJSXToken();return 7===t.type&&t.value===e},t.prototype.parseJSXIdentifier=function(){var e=this.createJSXNode(),t=this.nextJSXToken();return 100!==t.type&&this.throwUnexpectedToken(t),this.finalize(e,new s.JSXIdentifier(t.value))},t.prototype.parseJSXElementName=function(){var e=this.createJSXNode(),t=this.parseJSXIdentifier();if(this.matchJSX(":")){var r=t;this.expectJSX(":");var n=this.parseJSXIdentifier();t=this.finalize(e,new s.JSXNamespacedName(r,n))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var i=t;this.expectJSX(".");var o=this.parseJSXIdentifier();t=this.finalize(e,new s.JSXMemberExpression(i,o))}return t},t.prototype.parseJSXAttributeName=function(){var e,t=this.createJSXNode(),r=this.parseJSXIdentifier();if(this.matchJSX(":")){var n=r;this.expectJSX(":");var i=this.parseJSXIdentifier();e=this.finalize(t,new s.JSXNamespacedName(n,i))}else e=r;return e},t.prototype.parseJSXStringLiteralAttribute=function(){var e=this.createJSXNode(),t=this.nextJSXToken();8!==t.type&&this.throwUnexpectedToken(t);var r=this.getTokenRaw(t);return this.finalize(e,new c.Literal(t.value,r))},t.prototype.parseJSXExpressionAttribute=function(){var e=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var t=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(e,new s.JSXExpressionContainer(t))},t.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},t.prototype.parseJSXNameValueAttribute=function(){var e=this.createJSXNode(),t=this.parseJSXAttributeName(),r=null;return this.matchJSX("=")&&(this.expectJSX("="),r=this.parseJSXAttributeValue()),this.finalize(e,new s.JSXAttribute(t,r))},t.prototype.parseJSXSpreadAttribute=function(){var e=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var t=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(e,new s.JSXSpreadAttribute(t))},t.prototype.parseJSXAttributes=function(){for(var e=[];!this.matchJSX("/")&&!this.matchJSX(">");){var t=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();e.push(t)}return e},t.prototype.parseJSXOpeningElement=function(){var e=this.createJSXNode();this.expectJSX("<");var t=this.parseJSXElementName(),r=this.parseJSXAttributes(),n=this.matchJSX("/");return n&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(e,new s.JSXOpeningElement(t,n,r))},t.prototype.parseJSXBoundaryElement=function(){var e=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var t=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(e,new s.JSXClosingElement(t))}var r=this.parseJSXElementName(),n=this.parseJSXAttributes(),i=this.matchJSX("/");return i&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(e,new s.JSXOpeningElement(r,i,n))},t.prototype.parseJSXEmptyExpression=function(){var e=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(e,new s.JSXEmptyExpression)},t.prototype.parseJSXExpressionContainer=function(){var e,t=this.createJSXNode();return this.expectJSX("{"),this.matchJSX("}")?(e=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),e=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(t,new s.JSXExpressionContainer(e))},t.prototype.parseJSXChildren=function(){for(var e=[];!this.scanner.eof();){var t=this.createJSXChildNode(),r=this.nextJSXText();if(r.start<r.end){var n=this.getTokenRaw(r),i=this.finalize(t,new s.JSXText(r.value,n));e.push(i)}if("{"!==this.scanner.source[this.scanner.index])break;var o=this.parseJSXExpressionContainer();e.push(o)}return e},t.prototype.parseComplexJSXElement=function(e){for(var t=[];!this.scanner.eof();){e.children=e.children.concat(this.parseJSXChildren());var r=this.createJSXChildNode(),n=this.parseJSXBoundaryElement();if(n.type===a.JSXSyntax.JSXOpeningElement){var i=n;if(i.selfClosing){var o=this.finalize(r,new s.JSXElement(i,[],null));e.children.push(o)}else t.push(e),e={node:r,opening:i,closing:null,children:[]}}if(n.type===a.JSXSyntax.JSXClosingElement){e.closing=n;var c=f(e.opening.name);if(c!==f(e.closing.name)&&this.tolerateError("Expected corresponding JSX closing tag for %0",c),!(t.length>0))break;o=this.finalize(e.node,new s.JSXElement(e.opening,e.children,e.closing)),(e=t[t.length-1]).children.push(o),t.pop()}}return e},t.prototype.parseJSXElement=function(){var e=this.createJSXNode(),t=this.parseJSXOpeningElement(),r=[],n=null;if(!t.selfClosing){var i=this.parseComplexJSXElement({node:e,opening:t,closing:n,children:r});r=i.children,n=i.closing}return this.finalize(e,new s.JSXElement(t,r,n))},t.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var e=this.parseJSXElement();return this.finishJSX(),e},t.prototype.isStartOfExpression=function(){return e.prototype.isStartOfExpression.call(this)||this.match("<")},t}(u.Parser);t.JSXParser=p},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};t.Character={fromCodePoint:function(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10))+String.fromCharCode(56320+(e-65536&1023))},isWhiteSpace:function(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0},isLineTerminator:function(e){return 10===e||13===e||8232===e||8233===e},isIdentifierStart:function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&r.NonAsciiIdentifierStart.test(t.Character.fromCodePoint(e))},isIdentifierPart:function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&r.NonAsciiIdentifierPart.test(t.Character.fromCodePoint(e))},isDecimalDigit:function(e){return e>=48&&e<=57},isHexDigit:function(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102},isOctalDigit:function(e){return e>=48&&e<=55}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),i=function(e){this.type=n.JSXSyntax.JSXClosingElement,this.name=e};t.JSXClosingElement=i;var o=function(e,t,r){this.type=n.JSXSyntax.JSXElement,this.openingElement=e,this.children=t,this.closingElement=r};t.JSXElement=o;var s=function(){this.type=n.JSXSyntax.JSXEmptyExpression};t.JSXEmptyExpression=s;var a=function(e){this.type=n.JSXSyntax.JSXExpressionContainer,this.expression=e};t.JSXExpressionContainer=a;var c=function(e){this.type=n.JSXSyntax.JSXIdentifier,this.name=e};t.JSXIdentifier=c;var u=function(e,t){this.type=n.JSXSyntax.JSXMemberExpression,this.object=e,this.property=t};t.JSXMemberExpression=u;var l=function(e,t){this.type=n.JSXSyntax.JSXAttribute,this.name=e,this.value=t};t.JSXAttribute=l;var h=function(e,t){this.type=n.JSXSyntax.JSXNamespacedName,this.namespace=e,this.name=t};t.JSXNamespacedName=h;var f=function(e,t,r){this.type=n.JSXSyntax.JSXOpeningElement,this.name=e,this.selfClosing=t,this.attributes=r};t.JSXOpeningElement=f;var p=function(e){this.type=n.JSXSyntax.JSXSpreadAttribute,this.argument=e};t.JSXSpreadAttribute=p;var d=function(e,t){this.type=n.JSXSyntax.JSXText,this.value=e,this.raw=t};t.JSXText=d},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=function(e){this.type=n.Syntax.ArrayExpression,this.elements=e};t.ArrayExpression=i;var o=function(e){this.type=n.Syntax.ArrayPattern,this.elements=e};t.ArrayPattern=o;var s=function(e,t,r){this.type=n.Syntax.ArrowFunctionExpression,this.id=null,this.params=e,this.body=t,this.generator=!1,this.expression=r,this.async=!1};t.ArrowFunctionExpression=s;var a=function(e,t,r){this.type=n.Syntax.AssignmentExpression,this.operator=e,this.left=t,this.right=r};t.AssignmentExpression=a;var c=function(e,t){this.type=n.Syntax.AssignmentPattern,this.left=e,this.right=t};t.AssignmentPattern=c;var u=function(e,t,r){this.type=n.Syntax.ArrowFunctionExpression,this.id=null,this.params=e,this.body=t,this.generator=!1,this.expression=r,this.async=!0};t.AsyncArrowFunctionExpression=u;var l=function(e,t,r){this.type=n.Syntax.FunctionDeclaration,this.id=e,this.params=t,this.body=r,this.generator=!1,this.expression=!1,this.async=!0};t.AsyncFunctionDeclaration=l;var h=function(e,t,r){this.type=n.Syntax.FunctionExpression,this.id=e,this.params=t,this.body=r,this.generator=!1,this.expression=!1,this.async=!0};t.AsyncFunctionExpression=h;var f=function(e){this.type=n.Syntax.AwaitExpression,this.argument=e};t.AwaitExpression=f;var p=function(e,t,r){var i="||"===e||"&&"===e;this.type=i?n.Syntax.LogicalExpression:n.Syntax.BinaryExpression,this.operator=e,this.left=t,this.right=r};t.BinaryExpression=p;var d=function(e){this.type=n.Syntax.BlockStatement,this.body=e};t.BlockStatement=d;var m=function(e){this.type=n.Syntax.BreakStatement,this.label=e};t.BreakStatement=m;var g=function(e,t){this.type=n.Syntax.CallExpression,this.callee=e,this.arguments=t};t.CallExpression=g;var v=function(e,t){this.type=n.Syntax.CatchClause,this.param=e,this.body=t};t.CatchClause=v;var y=function(e){this.type=n.Syntax.ClassBody,this.body=e};t.ClassBody=y;var w=function(e,t,r){this.type=n.Syntax.ClassDeclaration,this.id=e,this.superClass=t,this.body=r};t.ClassDeclaration=w;var b=function(e,t,r){this.type=n.Syntax.ClassExpression,this.id=e,this.superClass=t,this.body=r};t.ClassExpression=b;var E=function(e,t){this.type=n.Syntax.MemberExpression,this.computed=!0,this.object=e,this.property=t};t.ComputedMemberExpression=E;var _=function(e,t,r){this.type=n.Syntax.ConditionalExpression,this.test=e,this.consequent=t,this.alternate=r};t.ConditionalExpression=_;var C=function(e){this.type=n.Syntax.ContinueStatement,this.label=e};t.ContinueStatement=C;var S=function(){this.type=n.Syntax.DebuggerStatement};t.DebuggerStatement=S;var k=function(e,t){this.type=n.Syntax.ExpressionStatement,this.expression=e,this.directive=t};t.Directive=k;var x=function(e,t){this.type=n.Syntax.DoWhileStatement,this.body=e,this.test=t};t.DoWhileStatement=x;var D=function(){this.type=n.Syntax.EmptyStatement};t.EmptyStatement=D;var A=function(e){this.type=n.Syntax.ExportAllDeclaration,this.source=e};t.ExportAllDeclaration=A;var T=function(e){this.type=n.Syntax.ExportDefaultDeclaration,this.declaration=e};t.ExportDefaultDeclaration=T;var R=function(e,t,r){this.type=n.Syntax.ExportNamedDeclaration,this.declaration=e,this.specifiers=t,this.source=r};t.ExportNamedDeclaration=R;var I=function(e,t){this.type=n.Syntax.ExportSpecifier,this.exported=t,this.local=e};t.ExportSpecifier=I;var P=function(e){this.type=n.Syntax.ExpressionStatement,this.expression=e};t.ExpressionStatement=P;var O=function(e,t,r){this.type=n.Syntax.ForInStatement,this.left=e,this.right=t,this.body=r,this.each=!1};t.ForInStatement=O;var F=function(e,t,r){this.type=n.Syntax.ForOfStatement,this.left=e,this.right=t,this.body=r};t.ForOfStatement=F;var N=function(e,t,r,i){this.type=n.Syntax.ForStatement,this.init=e,this.test=t,this.update=r,this.body=i};t.ForStatement=N;var L=function(e,t,r,i){this.type=n.Syntax.FunctionDeclaration,this.id=e,this.params=t,this.body=r,this.generator=i,this.expression=!1,this.async=!1};t.FunctionDeclaration=L;var B=function(e,t,r,i){this.type=n.Syntax.FunctionExpression,this.id=e,this.params=t,this.body=r,this.generator=i,this.expression=!1,this.async=!1};t.FunctionExpression=B;var M=function(e){this.type=n.Syntax.Identifier,this.name=e};t.Identifier=M;var U=function(e,t,r){this.type=n.Syntax.IfStatement,this.test=e,this.consequent=t,this.alternate=r};t.IfStatement=U;var j=function(e,t){this.type=n.Syntax.ImportDeclaration,this.specifiers=e,this.source=t};t.ImportDeclaration=j;var H=function(e){this.type=n.Syntax.ImportDefaultSpecifier,this.local=e};t.ImportDefaultSpecifier=H;var q=function(e){this.type=n.Syntax.ImportNamespaceSpecifier,this.local=e};t.ImportNamespaceSpecifier=q;var $=function(e,t){this.type=n.Syntax.ImportSpecifier,this.local=e,this.imported=t};t.ImportSpecifier=$;var G=function(e,t){this.type=n.Syntax.LabeledStatement,this.label=e,this.body=t};t.LabeledStatement=G;var W=function(e,t){this.type=n.Syntax.Literal,this.value=e,this.raw=t};t.Literal=W;var z=function(e,t){this.type=n.Syntax.MetaProperty,this.meta=e,this.property=t};t.MetaProperty=z;var V=function(e,t,r,i,o){this.type=n.Syntax.MethodDefinition,this.key=e,this.computed=t,this.value=r,this.kind=i,this.static=o};t.MethodDefinition=V;var K=function(e){this.type=n.Syntax.Program,this.body=e,this.sourceType="module"};t.Module=K;var X=function(e,t){this.type=n.Syntax.NewExpression,this.callee=e,this.arguments=t};t.NewExpression=X;var Y=function(e){this.type=n.Syntax.ObjectExpression,this.properties=e};t.ObjectExpression=Y;var J=function(e){this.type=n.Syntax.ObjectPattern,this.properties=e};t.ObjectPattern=J;var Q=function(e,t,r,i,o,s){this.type=n.Syntax.Property,this.key=t,this.computed=r,this.value=i,this.kind=e,this.method=o,this.shorthand=s};t.Property=Q;var Z=function(e,t,r,i){this.type=n.Syntax.Literal,this.value=e,this.raw=t,this.regex={pattern:r,flags:i}};t.RegexLiteral=Z;var ee=function(e){this.type=n.Syntax.RestElement,this.argument=e};t.RestElement=ee;var te=function(e){this.type=n.Syntax.ReturnStatement,this.argument=e};t.ReturnStatement=te;var re=function(e){this.type=n.Syntax.Program,this.body=e,this.sourceType="script"};t.Script=re;var ne=function(e){this.type=n.Syntax.SequenceExpression,this.expressions=e};t.SequenceExpression=ne;var ie=function(e){this.type=n.Syntax.SpreadElement,this.argument=e};t.SpreadElement=ie;var oe=function(e,t){this.type=n.Syntax.MemberExpression,this.computed=!1,this.object=e,this.property=t};t.StaticMemberExpression=oe;var se=function(){this.type=n.Syntax.Super};t.Super=se;var ae=function(e,t){this.type=n.Syntax.SwitchCase,this.test=e,this.consequent=t};t.SwitchCase=ae;var ce=function(e,t){this.type=n.Syntax.SwitchStatement,this.discriminant=e,this.cases=t};t.SwitchStatement=ce;var ue=function(e,t){this.type=n.Syntax.TaggedTemplateExpression,this.tag=e,this.quasi=t};t.TaggedTemplateExpression=ue;var le=function(e,t){this.type=n.Syntax.TemplateElement,this.value=e,this.tail=t};t.TemplateElement=le;var he=function(e,t){this.type=n.Syntax.TemplateLiteral,this.quasis=e,this.expressions=t};t.TemplateLiteral=he;var fe=function(){this.type=n.Syntax.ThisExpression};t.ThisExpression=fe;var pe=function(e){this.type=n.Syntax.ThrowStatement,this.argument=e};t.ThrowStatement=pe;var de=function(e,t,r){this.type=n.Syntax.TryStatement,this.block=e,this.handler=t,this.finalizer=r};t.TryStatement=de;var me=function(e,t){this.type=n.Syntax.UnaryExpression,this.operator=e,this.argument=t,this.prefix=!0};t.UnaryExpression=me;var ge=function(e,t,r){this.type=n.Syntax.UpdateExpression,this.operator=e,this.argument=t,this.prefix=r};t.UpdateExpression=ge;var ve=function(e,t){this.type=n.Syntax.VariableDeclaration,this.declarations=e,this.kind=t};t.VariableDeclaration=ve;var ye=function(e,t){this.type=n.Syntax.VariableDeclarator,this.id=e,this.init=t};t.VariableDeclarator=ye;var we=function(e,t){this.type=n.Syntax.WhileStatement,this.test=e,this.body=t};t.WhileStatement=we;var be=function(e,t){this.type=n.Syntax.WithStatement,this.object=e,this.body=t};t.WithStatement=be;var Ee=function(e,t){this.type=n.Syntax.YieldExpression,this.argument=e,this.delegate=t};t.YieldExpression=Ee},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),i=r(10),o=r(11),s=r(7),a=r(12),c=r(2),u=r(13),l=function(){function e(e,t,r){void 0===t&&(t={}),this.config={range:"boolean"==typeof t.range&&t.range,loc:"boolean"==typeof t.loc&&t.loc,source:null,tokens:"boolean"==typeof t.tokens&&t.tokens,comment:"boolean"==typeof t.comment&&t.comment,tolerant:"boolean"==typeof t.tolerant&&t.tolerant},this.config.loc&&t.source&&null!==t.source&&(this.config.source=String(t.source)),this.delegate=r,this.errorHandler=new i.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new a.Scanner(e,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return e.prototype.throwError=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=Array.prototype.slice.call(arguments,1),o=e.replace(/%(\d)/g,(function(e,t){return n.assert(t<i.length,"Message reference must be in range"),i[t]})),s=this.lastMarker.index,a=this.lastMarker.line,c=this.lastMarker.column+1;throw this.errorHandler.createError(s,a,c,o)},e.prototype.tolerateError=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=Array.prototype.slice.call(arguments,1),o=e.replace(/%(\d)/g,(function(e,t){return n.assert(t<i.length,"Message reference must be in range"),i[t]})),s=this.lastMarker.index,a=this.scanner.lineNumber,c=this.lastMarker.column+1;this.errorHandler.tolerateError(s,a,c,o)},e.prototype.unexpectedTokenError=function(e,t){var r,n=t||o.Messages.UnexpectedToken;if(e?(t||(n=2===e.type?o.Messages.UnexpectedEOS:3===e.type?o.Messages.UnexpectedIdentifier:6===e.type?o.Messages.UnexpectedNumber:8===e.type?o.Messages.UnexpectedString:10===e.type?o.Messages.UnexpectedTemplate:o.Messages.UnexpectedToken,4===e.type&&(this.scanner.isFutureReservedWord(e.value)?n=o.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(e.value)&&(n=o.Messages.StrictReservedWord))),r=e.value):r="ILLEGAL",n=n.replace("%0",r),e&&"number"==typeof e.lineNumber){var i=e.start,s=e.lineNumber,a=this.lastMarker.index-this.lastMarker.column,c=e.start-a+1;return this.errorHandler.createError(i,s,c,n)}return i=this.lastMarker.index,s=this.lastMarker.line,c=this.lastMarker.column+1,this.errorHandler.createError(i,s,c,n)},e.prototype.throwUnexpectedToken=function(e,t){throw this.unexpectedTokenError(e,t)},e.prototype.tolerateUnexpectedToken=function(e,t){this.errorHandler.tolerate(this.unexpectedTokenError(e,t))},e.prototype.collectComments=function(){if(this.config.comment){var e=this.scanner.scanComments();if(e.length>0&&this.delegate)for(var t=0;t<e.length;++t){var r=e[t],n=void 0;n={type:r.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(r.slice[0],r.slice[1])},this.config.range&&(n.range=r.range),this.config.loc&&(n.loc=r.loc);var i={start:{line:r.loc.start.line,column:r.loc.start.column,offset:r.range[0]},end:{line:r.loc.end.line,column:r.loc.end.column,offset:r.range[1]}};this.delegate(n,i)}}else this.scanner.scanComments()},e.prototype.getTokenRaw=function(e){return this.scanner.source.slice(e.start,e.end)},e.prototype.convertToken=function(e){var t={type:u.TokenName[e.type],value:this.getTokenRaw(e)};if(this.config.range&&(t.range=[e.start,e.end]),this.config.loc&&(t.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),9===e.type){var r=e.pattern,n=e.flags;t.regex={pattern:r,flags:n}}return t},e.prototype.nextToken=function(){var e=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var t=this.scanner.lex();return this.hasLineTerminator=e.lineNumber!==t.lineNumber,t&&this.context.strict&&3===t.type&&this.scanner.isStrictModeReservedWord(t.value)&&(t.type=4),this.lookahead=t,this.config.tokens&&2!==t.type&&this.tokens.push(this.convertToken(t)),e},e.prototype.nextRegexToken=function(){this.collectComments();var e=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(e))),this.lookahead=e,this.nextToken(),e},e.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},e.prototype.startNode=function(e,t){void 0===t&&(t=0);var r=e.start-e.lineStart,n=e.lineNumber;return r<0&&(r+=t,n--),{index:e.start,line:n,column:r}},e.prototype.finalize=function(e,t){if(this.config.range&&(t.range=[e.index,this.lastMarker.index]),this.config.loc&&(t.loc={start:{line:e.line,column:e.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(t.loc.source=this.config.source)),this.delegate){var r={start:{line:e.line,column:e.column,offset:e.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(t,r)}return t},e.prototype.expect=function(e){var t=this.nextToken();7===t.type&&t.value===e||this.throwUnexpectedToken(t)},e.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var e=this.lookahead;7===e.type&&","===e.value?this.nextToken():7===e.type&&";"===e.value?(this.nextToken(),this.tolerateUnexpectedToken(e)):this.tolerateUnexpectedToken(e,o.Messages.UnexpectedToken)}else this.expect(",")},e.prototype.expectKeyword=function(e){var t=this.nextToken();4===t.type&&t.value===e||this.throwUnexpectedToken(t)},e.prototype.match=function(e){return 7===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchKeyword=function(e){return 4===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchContextualKeyword=function(e){return 3===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchAssign=function(){if(7!==this.lookahead.type)return!1;var e=this.lookahead.value;return"="===e||"*="===e||"**="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e},e.prototype.isolateCoverGrammar=function(e){var t=this.context.isBindingElement,r=this.context.isAssignmentTarget,n=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var i=e.call(this);return null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=t,this.context.isAssignmentTarget=r,this.context.firstCoverInitializedNameError=n,i},e.prototype.inheritCoverGrammar=function(e){var t=this.context.isBindingElement,r=this.context.isAssignmentTarget,n=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var i=e.call(this);return this.context.isBindingElement=this.context.isBindingElement&&t,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&r,this.context.firstCoverInitializedNameError=n||this.context.firstCoverInitializedNameError,i},e.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(2===this.lookahead.type||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},e.prototype.parsePrimaryExpression=function(){var e,t,r,n=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&"await"===this.lookahead.value&&this.tolerateUnexpectedToken(this.lookahead),e=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(n,new s.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,o.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),r=this.getTokenRaw(t),e=this.finalize(n,new s.Literal(t.value,r));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),r=this.getTokenRaw(t),e=this.finalize(n,new s.Literal("true"===t.value,r));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),r=this.getTokenRaw(t),e=this.finalize(n,new s.Literal(null,r));break;case 10:e=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,e=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":e=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":e=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,t=this.nextRegexToken(),r=this.getTokenRaw(t),e=this.finalize(n,new s.RegexLiteral(t.regex,r,t.pattern,t.flags));break;default:e=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?e=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?e=this.finalize(n,new s.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?e=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),e=this.finalize(n,new s.ThisExpression)):e=this.matchKeyword("class")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:e=this.throwUnexpectedToken(this.nextToken())}return e},e.prototype.parseSpreadElement=function(){var e=this.createNode();this.expect("...");var t=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(e,new s.SpreadElement(t))},e.prototype.parseArrayInitializer=function(){var e=this.createNode(),t=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),t.push(null);else if(this.match("...")){var r=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),t.push(r)}else t.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(e,new s.ArrayExpression(t))},e.prototype.parsePropertyMethod=function(e){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var t=this.context.strict,r=this.context.allowStrictDirective;this.context.allowStrictDirective=e.simple;var n=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&e.firstRestricted&&this.tolerateUnexpectedToken(e.firstRestricted,e.message),this.context.strict&&e.stricted&&this.tolerateUnexpectedToken(e.stricted,e.message),this.context.strict=t,this.context.allowStrictDirective=r,n},e.prototype.parsePropertyMethodFunction=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var r=this.parseFormalParameters(),n=this.parsePropertyMethod(r);return this.context.allowYield=t,this.finalize(e,new s.FunctionExpression(null,r.params,n,!1))},e.prototype.parsePropertyMethodAsyncFunction=function(){var e=this.createNode(),t=this.context.allowYield,r=this.context.await;this.context.allowYield=!1,this.context.await=!0;var n=this.parseFormalParameters(),i=this.parsePropertyMethod(n);return this.context.allowYield=t,this.context.await=r,this.finalize(e,new s.AsyncFunctionExpression(null,n.params,i))},e.prototype.parseObjectPropertyKey=function(){var e,t=this.createNode(),r=this.nextToken();switch(r.type){case 8:case 6:this.context.strict&&r.octal&&this.tolerateUnexpectedToken(r,o.Messages.StrictOctalLiteral);var n=this.getTokenRaw(r);e=this.finalize(t,new s.Literal(r.value,n));break;case 3:case 1:case 5:case 4:e=this.finalize(t,new s.Identifier(r.value));break;case 7:"["===r.value?(e=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):e=this.throwUnexpectedToken(r);break;default:e=this.throwUnexpectedToken(r)}return e},e.prototype.isPropertyKey=function(e,t){return e.type===c.Syntax.Identifier&&e.name===t||e.type===c.Syntax.Literal&&e.value===t},e.prototype.parseObjectProperty=function(e){var t,r=this.createNode(),n=this.lookahead,i=null,a=null,c=!1,u=!1,l=!1,h=!1;if(3===n.type){var f=n.value;this.nextToken(),c=this.match("["),i=(h=!(this.hasLineTerminator||"async"!==f||this.match(":")||this.match("(")||this.match("*")||this.match(",")))?this.parseObjectPropertyKey():this.finalize(r,new s.Identifier(f))}else this.match("*")?this.nextToken():(c=this.match("["),i=this.parseObjectPropertyKey());var p=this.qualifiedPropertyName(this.lookahead);if(3===n.type&&!h&&"get"===n.value&&p)t="get",c=this.match("["),i=this.parseObjectPropertyKey(),this.context.allowYield=!1,a=this.parseGetterMethod();else if(3===n.type&&!h&&"set"===n.value&&p)t="set",c=this.match("["),i=this.parseObjectPropertyKey(),a=this.parseSetterMethod();else if(7===n.type&&"*"===n.value&&p)t="init",c=this.match("["),i=this.parseObjectPropertyKey(),a=this.parseGeneratorMethod(),u=!0;else if(i||this.throwUnexpectedToken(this.lookahead),t="init",this.match(":")&&!h)!c&&this.isPropertyKey(i,"__proto__")&&(e.value&&this.tolerateError(o.Messages.DuplicateProtoProperty),e.value=!0),this.nextToken(),a=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))a=h?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),u=!0;else if(3===n.type)if(f=this.finalize(r,new s.Identifier(n.value)),this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),l=!0;var d=this.isolateCoverGrammar(this.parseAssignmentExpression);a=this.finalize(r,new s.AssignmentPattern(f,d))}else l=!0,a=f;else this.throwUnexpectedToken(this.nextToken());return this.finalize(r,new s.Property(t,i,c,a,u,l))},e.prototype.parseObjectInitializer=function(){var e=this.createNode();this.expect("{");for(var t=[],r={value:!1};!this.match("}");)t.push(this.parseObjectProperty(r)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(e,new s.ObjectExpression(t))},e.prototype.parseTemplateHead=function(){n.assert(this.lookahead.head,"Template literal must start with a template head");var e=this.createNode(),t=this.nextToken(),r=t.value,i=t.cooked;return this.finalize(e,new s.TemplateElement({raw:r,cooked:i},t.tail))},e.prototype.parseTemplateElement=function(){10!==this.lookahead.type&&this.throwUnexpectedToken();var e=this.createNode(),t=this.nextToken(),r=t.value,n=t.cooked;return this.finalize(e,new s.TemplateElement({raw:r,cooked:n},t.tail))},e.prototype.parseTemplateLiteral=function(){var e=this.createNode(),t=[],r=[],n=this.parseTemplateHead();for(r.push(n);!n.tail;)t.push(this.parseExpression()),n=this.parseTemplateElement(),r.push(n);return this.finalize(e,new s.TemplateLiteral(r,t))},e.prototype.reinterpretExpressionAsPattern=function(e){switch(e.type){case c.Syntax.Identifier:case c.Syntax.MemberExpression:case c.Syntax.RestElement:case c.Syntax.AssignmentPattern:break;case c.Syntax.SpreadElement:e.type=c.Syntax.RestElement,this.reinterpretExpressionAsPattern(e.argument);break;case c.Syntax.ArrayExpression:e.type=c.Syntax.ArrayPattern;for(var t=0;t<e.elements.length;t++)null!==e.elements[t]&&this.reinterpretExpressionAsPattern(e.elements[t]);break;case c.Syntax.ObjectExpression:for(e.type=c.Syntax.ObjectPattern,t=0;t<e.properties.length;t++)this.reinterpretExpressionAsPattern(e.properties[t].value);break;case c.Syntax.AssignmentExpression:e.type=c.Syntax.AssignmentPattern,delete e.operator,this.reinterpretExpressionAsPattern(e.left)}},e.prototype.parseGroupExpression=function(){var e;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),e={type:"ArrowParameterPlaceHolder",params:[],async:!1};else{var t=this.lookahead,r=[];if(this.match("..."))e=this.parseRestElement(r),this.expect(")"),this.match("=>")||this.expect("=>"),e={type:"ArrowParameterPlaceHolder",params:[e],async:!1};else{var n=!1;if(this.context.isBindingElement=!0,e=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var i=[];for(this.context.isAssignmentTarget=!1,i.push(e);2!==this.lookahead.type&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var o=0;o<i.length;o++)this.reinterpretExpressionAsPattern(i[o]);n=!0,e={type:"ArrowParameterPlaceHolder",params:i,async:!1}}else if(this.match("...")){for(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),i.push(this.parseRestElement(r)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1,o=0;o<i.length;o++)this.reinterpretExpressionAsPattern(i[o]);n=!0,e={type:"ArrowParameterPlaceHolder",params:i,async:!1}}else i.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(n)break}n||(e=this.finalize(this.startNode(t),new s.SequenceExpression(i)))}if(!n){if(this.expect(")"),this.match("=>")&&(e.type===c.Syntax.Identifier&&"yield"===e.name&&(n=!0,e={type:"ArrowParameterPlaceHolder",params:[e],async:!1}),!n)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),e.type===c.Syntax.SequenceExpression)for(o=0;o<e.expressions.length;o++)this.reinterpretExpressionAsPattern(e.expressions[o]);else this.reinterpretExpressionAsPattern(e);e={type:"ArrowParameterPlaceHolder",params:e.type===c.Syntax.SequenceExpression?e.expressions:[e],async:!1}}this.context.isBindingElement=!1}}}return e},e.prototype.parseArguments=function(){this.expect("(");var e=[];if(!this.match(")"))for(;;){var t=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(e.push(t),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),e},e.prototype.isIdentifierName=function(e){return 3===e.type||4===e.type||1===e.type||5===e.type},e.prototype.parseIdentifierName=function(){var e=this.createNode(),t=this.nextToken();return this.isIdentifierName(t)||this.throwUnexpectedToken(t),this.finalize(e,new s.Identifier(t.value))},e.prototype.parseNewExpression=function(){var e,t=this.createNode(),r=this.parseIdentifierName();if(n.assert("new"===r.name,"New expression must start with `new`"),this.match("."))if(this.nextToken(),3===this.lookahead.type&&this.context.inFunctionBody&&"target"===this.lookahead.value){var i=this.parseIdentifierName();e=new s.MetaProperty(r,i)}else this.throwUnexpectedToken(this.lookahead);else{var o=this.isolateCoverGrammar(this.parseLeftHandSideExpression),a=this.match("(")?this.parseArguments():[];e=new s.NewExpression(o,a),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(t,e)},e.prototype.parseAsyncArgument=function(){var e=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,e},e.prototype.parseAsyncArguments=function(){this.expect("(");var e=[];if(!this.match(")"))for(;;){var t=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(e.push(t),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),e},e.prototype.parseLeftHandSideExpressionAllowCall=function(){var e,t=this.lookahead,r=this.matchContextualKeyword("async"),n=this.context.allowIn;for(this.context.allowIn=!0,this.matchKeyword("super")&&this.context.inFunctionBody?(e=this.createNode(),this.nextToken(),e=this.finalize(e,new s.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):e=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var i=this.parseIdentifierName();e=this.finalize(this.startNode(t),new s.StaticMemberExpression(e,i))}else if(this.match("(")){var o=r&&t.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var a=o?this.parseAsyncArguments():this.parseArguments();if(e=this.finalize(this.startNode(t),new s.CallExpression(e,a)),o&&this.match("=>")){for(var c=0;c<a.length;++c)this.reinterpretExpressionAsPattern(a[c]);e={type:"ArrowParameterPlaceHolder",params:a,async:!0}}}else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),i=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),e=this.finalize(this.startNode(t),new s.ComputedMemberExpression(e,i));else{if(10!==this.lookahead.type||!this.lookahead.head)break;var u=this.parseTemplateLiteral();e=this.finalize(this.startNode(t),new s.TaggedTemplateExpression(e,u))}return this.context.allowIn=n,e},e.prototype.parseSuper=function(){var e=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(e,new s.Super)},e.prototype.parseLeftHandSideExpression=function(){n.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var e=this.startNode(this.lookahead),t=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var r=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),t=this.finalize(e,new s.ComputedMemberExpression(t,r))}else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),r=this.parseIdentifierName(),t=this.finalize(e,new s.StaticMemberExpression(t,r));else{if(10!==this.lookahead.type||!this.lookahead.head)break;var i=this.parseTemplateLiteral();t=this.finalize(e,new s.TaggedTemplateExpression(t,i))}return t},e.prototype.parseUpdateExpression=function(){var e,t=this.lookahead;if(this.match("++")||this.match("--")){var r=this.startNode(t),n=this.nextToken();e=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&e.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(o.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment);var i=!0;e=this.finalize(r,new s.UpdateExpression(n.value,e,i)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(e=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&7===this.lookahead.type&&(this.match("++")||this.match("--"))){this.context.strict&&e.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(o.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var a=this.nextToken().value;i=!1,e=this.finalize(this.startNode(t),new s.UpdateExpression(a,e,i))}return e},e.prototype.parseAwaitExpression=function(){var e=this.createNode();this.nextToken();var t=this.parseUnaryExpression();return this.finalize(e,new s.AwaitExpression(t))},e.prototype.parseUnaryExpression=function(){var e;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var t=this.startNode(this.lookahead),r=this.nextToken();e=this.inheritCoverGrammar(this.parseUnaryExpression),e=this.finalize(t,new s.UnaryExpression(r.value,e)),this.context.strict&&"delete"===e.operator&&e.argument.type===c.Syntax.Identifier&&this.tolerateError(o.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else e=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression();return e},e.prototype.parseExponentiationExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseUnaryExpression);if(t.type!==c.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var r=t,n=this.isolateCoverGrammar(this.parseExponentiationExpression);t=this.finalize(this.startNode(e),new s.BinaryExpression("**",r,n))}return t},e.prototype.binaryPrecedence=function(e){var t=e.value;return 7===e.type?this.operatorPrecedence[t]||0:4===e.type&&("instanceof"===t||this.context.allowIn&&"in"===t)?7:0},e.prototype.parseBinaryExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseExponentiationExpression),r=this.lookahead,n=this.binaryPrecedence(r);if(n>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var i=[e,this.lookahead],o=t,a=this.isolateCoverGrammar(this.parseExponentiationExpression),c=[o,r.value,a],u=[n];!((n=this.binaryPrecedence(this.lookahead))<=0);){for(;c.length>2&&n<=u[u.length-1];){a=c.pop();var l=c.pop();u.pop(),o=c.pop(),i.pop();var h=this.startNode(i[i.length-1]);c.push(this.finalize(h,new s.BinaryExpression(l,o,a)))}c.push(this.nextToken().value),u.push(n),i.push(this.lookahead),c.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var f=c.length-1;t=c[f];for(var p=i.pop();f>1;){var d=i.pop(),m=p&&p.lineStart;h=this.startNode(d,m),l=c[f-1],t=this.finalize(h,new s.BinaryExpression(l,c[f-2],t)),f-=2,p=d}}return t},e.prototype.parseConditionalExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var r=this.context.allowIn;this.context.allowIn=!0;var n=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=r,this.expect(":");var i=this.isolateCoverGrammar(this.parseAssignmentExpression);t=this.finalize(this.startNode(e),new s.ConditionalExpression(t,n,i)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return t},e.prototype.checkPatternParam=function(e,t){switch(t.type){case c.Syntax.Identifier:this.validateParam(e,t,t.name);break;case c.Syntax.RestElement:this.checkPatternParam(e,t.argument);break;case c.Syntax.AssignmentPattern:this.checkPatternParam(e,t.left);break;case c.Syntax.ArrayPattern:for(var r=0;r<t.elements.length;r++)null!==t.elements[r]&&this.checkPatternParam(e,t.elements[r]);break;case c.Syntax.ObjectPattern:for(r=0;r<t.properties.length;r++)this.checkPatternParam(e,t.properties[r].value)}e.simple=e.simple&&t instanceof s.Identifier},e.prototype.reinterpretAsCoverFormalsList=function(e){var t,r=[e],n=!1;switch(e.type){case c.Syntax.Identifier:break;case"ArrowParameterPlaceHolder":r=e.params,n=e.async;break;default:return null}t={simple:!0,paramSet:{}};for(var i=0;i<r.length;++i)(s=r[i]).type===c.Syntax.AssignmentPattern?s.right.type===c.Syntax.YieldExpression&&(s.right.argument&&this.throwUnexpectedToken(this.lookahead),s.right.type=c.Syntax.Identifier,s.right.name="yield",delete s.right.argument,delete s.right.delegate):n&&s.type===c.Syntax.Identifier&&"await"===s.name&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(t,s),r[i]=s;if(this.context.strict||!this.context.allowYield)for(i=0;i<r.length;++i){var s;(s=r[i]).type===c.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(t.message===o.Messages.StrictParamDupe){var a=this.context.strict?t.stricted:t.firstRestricted;this.throwUnexpectedToken(a,t.message)}return{simple:t.simple,params:r,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},e.prototype.parseAssignmentExpression=function(){var e;if(!this.context.allowYield&&this.matchKeyword("yield"))e=this.parseYieldExpression();else{var t=this.lookahead,r=t;if(e=this.parseConditionalExpression(),3===r.type&&r.lineNumber===this.lookahead.lineNumber&&"async"===r.value&&(3===this.lookahead.type||this.matchKeyword("yield"))){var n=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(n),e={type:"ArrowParameterPlaceHolder",params:[n],async:!0}}if("ArrowParameterPlaceHolder"===e.type||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var i=e.async,a=this.reinterpretAsCoverFormalsList(e);if(a){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var u=this.context.strict,l=this.context.allowStrictDirective;this.context.allowStrictDirective=a.simple;var h=this.context.allowYield,f=this.context.await;this.context.allowYield=!0,this.context.await=i;var p=this.startNode(t);this.expect("=>");var d=void 0;if(this.match("{")){var m=this.context.allowIn;this.context.allowIn=!0,d=this.parseFunctionSourceElements(),this.context.allowIn=m}else d=this.isolateCoverGrammar(this.parseAssignmentExpression);var g=d.type!==c.Syntax.BlockStatement;this.context.strict&&a.firstRestricted&&this.throwUnexpectedToken(a.firstRestricted,a.message),this.context.strict&&a.stricted&&this.tolerateUnexpectedToken(a.stricted,a.message),e=i?this.finalize(p,new s.AsyncArrowFunctionExpression(a.params,d,g)):this.finalize(p,new s.ArrowFunctionExpression(a.params,d,g)),this.context.strict=u,this.context.allowStrictDirective=l,this.context.allowYield=h,this.context.await=f}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment),this.context.strict&&e.type===c.Syntax.Identifier){var v=e;this.scanner.isRestrictedWord(v.name)&&this.tolerateUnexpectedToken(r,o.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(v.name)&&this.tolerateUnexpectedToken(r,o.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(e):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);var y=(r=this.nextToken()).value,w=this.isolateCoverGrammar(this.parseAssignmentExpression);e=this.finalize(this.startNode(t),new s.AssignmentExpression(y,e,w)),this.context.firstCoverInitializedNameError=null}}return e},e.prototype.parseExpression=function(){var e=this.lookahead,t=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var r=[];for(r.push(t);2!==this.lookahead.type&&this.match(",");)this.nextToken(),r.push(this.isolateCoverGrammar(this.parseAssignmentExpression));t=this.finalize(this.startNode(e),new s.SequenceExpression(r))}return t},e.prototype.parseStatementListItem=function(){var e;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,4===this.lookahead.type)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,o.Messages.IllegalExportDeclaration),e=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,o.Messages.IllegalImportDeclaration),e=this.parseImportDeclaration();break;case"const":e=this.parseLexicalDeclaration({inFor:!1});break;case"function":e=this.parseFunctionDeclaration();break;case"class":e=this.parseClassDeclaration();break;case"let":e=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:e=this.parseStatement()}else e=this.parseStatement();return e},e.prototype.parseBlock=function(){var e=this.createNode();this.expect("{");for(var t=[];!this.match("}");)t.push(this.parseStatementListItem());return this.expect("}"),this.finalize(e,new s.BlockStatement(t))},e.prototype.parseLexicalBinding=function(e,t){var r=this.createNode(),n=this.parsePattern([],e);this.context.strict&&n.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(n.name)&&this.tolerateError(o.Messages.StrictVarName);var i=null;return"const"===e?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.match("=")?(this.nextToken(),i=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(o.Messages.DeclarationMissingInitializer,"const")):(!t.inFor&&n.type!==c.Syntax.Identifier||this.match("="))&&(this.expect("="),i=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(r,new s.VariableDeclarator(n,i))},e.prototype.parseBindingList=function(e,t){for(var r=[this.parseLexicalBinding(e,t)];this.match(",");)this.nextToken(),r.push(this.parseLexicalBinding(e,t));return r},e.prototype.isLexicalDeclaration=function(){var e=this.scanner.saveState();this.scanner.scanComments();var t=this.scanner.lex();return this.scanner.restoreState(e),3===t.type||7===t.type&&"["===t.value||7===t.type&&"{"===t.value||4===t.type&&"let"===t.value||4===t.type&&"yield"===t.value},e.prototype.parseLexicalDeclaration=function(e){var t=this.createNode(),r=this.nextToken().value;n.assert("let"===r||"const"===r,"Lexical declaration must be either let or const");var i=this.parseBindingList(r,e);return this.consumeSemicolon(),this.finalize(t,new s.VariableDeclaration(i,r))},e.prototype.parseBindingRestElement=function(e,t){var r=this.createNode();this.expect("...");var n=this.parsePattern(e,t);return this.finalize(r,new s.RestElement(n))},e.prototype.parseArrayPattern=function(e,t){var r=this.createNode();this.expect("[");for(var n=[];!this.match("]");)if(this.match(","))this.nextToken(),n.push(null);else{if(this.match("...")){n.push(this.parseBindingRestElement(e,t));break}n.push(this.parsePatternWithDefault(e,t)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(r,new s.ArrayPattern(n))},e.prototype.parsePropertyPattern=function(e,t){var r,n,i=this.createNode(),o=!1,a=!1;if(3===this.lookahead.type){var c=this.lookahead;r=this.parseVariableIdentifier();var u=this.finalize(i,new s.Identifier(c.value));if(this.match("=")){e.push(c),a=!0,this.nextToken();var l=this.parseAssignmentExpression();n=this.finalize(this.startNode(c),new s.AssignmentPattern(u,l))}else this.match(":")?(this.expect(":"),n=this.parsePatternWithDefault(e,t)):(e.push(c),a=!0,n=u)}else o=this.match("["),r=this.parseObjectPropertyKey(),this.expect(":"),n=this.parsePatternWithDefault(e,t);return this.finalize(i,new s.Property("init",r,o,n,!1,a))},e.prototype.parseObjectPattern=function(e,t){var r=this.createNode(),n=[];for(this.expect("{");!this.match("}");)n.push(this.parsePropertyPattern(e,t)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(r,new s.ObjectPattern(n))},e.prototype.parsePattern=function(e,t){var r;return this.match("[")?r=this.parseArrayPattern(e,t):this.match("{")?r=this.parseObjectPattern(e,t):(!this.matchKeyword("let")||"const"!==t&&"let"!==t||this.tolerateUnexpectedToken(this.lookahead,o.Messages.LetInLexicalBinding),e.push(this.lookahead),r=this.parseVariableIdentifier(t)),r},e.prototype.parsePatternWithDefault=function(e,t){var r=this.lookahead,n=this.parsePattern(e,t);if(this.match("=")){this.nextToken();var i=this.context.allowYield;this.context.allowYield=!0;var o=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=i,n=this.finalize(this.startNode(r),new s.AssignmentPattern(n,o))}return n},e.prototype.parseVariableIdentifier=function(e){var t=this.createNode(),r=this.nextToken();return 4===r.type&&"yield"===r.value?this.context.strict?this.tolerateUnexpectedToken(r,o.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(r):3!==r.type?this.context.strict&&4===r.type&&this.scanner.isStrictModeReservedWord(r.value)?this.tolerateUnexpectedToken(r,o.Messages.StrictReservedWord):(this.context.strict||"let"!==r.value||"var"!==e)&&this.throwUnexpectedToken(r):(this.context.isModule||this.context.await)&&3===r.type&&"await"===r.value&&this.tolerateUnexpectedToken(r),this.finalize(t,new s.Identifier(r.value))},e.prototype.parseVariableDeclaration=function(e){var t=this.createNode(),r=this.parsePattern([],"var");this.context.strict&&r.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(r.name)&&this.tolerateError(o.Messages.StrictVarName);var n=null;return this.match("=")?(this.nextToken(),n=this.isolateCoverGrammar(this.parseAssignmentExpression)):r.type===c.Syntax.Identifier||e.inFor||this.expect("="),this.finalize(t,new s.VariableDeclarator(r,n))},e.prototype.parseVariableDeclarationList=function(e){var t={inFor:e.inFor},r=[];for(r.push(this.parseVariableDeclaration(t));this.match(",");)this.nextToken(),r.push(this.parseVariableDeclaration(t));return r},e.prototype.parseVariableStatement=function(){var e=this.createNode();this.expectKeyword("var");var t=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(e,new s.VariableDeclaration(t,"var"))},e.prototype.parseEmptyStatement=function(){var e=this.createNode();return this.expect(";"),this.finalize(e,new s.EmptyStatement)},e.prototype.parseExpressionStatement=function(){var e=this.createNode(),t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new s.ExpressionStatement(t))},e.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(o.Messages.StrictFunction),this.parseStatement()},e.prototype.parseIfStatement=function(){var e,t=this.createNode(),r=null;this.expectKeyword("if"),this.expect("(");var n=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new s.EmptyStatement)):(this.expect(")"),e=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),r=this.parseIfClause())),this.finalize(t,new s.IfStatement(n,e,r))},e.prototype.parseDoWhileStatement=function(){var e=this.createNode();this.expectKeyword("do");var t=this.context.inIteration;this.context.inIteration=!0;var r=this.parseStatement();this.context.inIteration=t,this.expectKeyword("while"),this.expect("(");var n=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(e,new s.DoWhileStatement(r,n))},e.prototype.parseWhileStatement=function(){var e,t=this.createNode();this.expectKeyword("while"),this.expect("(");var r=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new s.EmptyStatement);else{this.expect(")");var n=this.context.inIteration;this.context.inIteration=!0,e=this.parseStatement(),this.context.inIteration=n}return this.finalize(t,new s.WhileStatement(r,e))},e.prototype.parseForStatement=function(){var e,t,r,n=null,i=null,a=null,u=!0,l=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){n=this.createNode(),this.nextToken();var h=this.context.allowIn;this.context.allowIn=!1;var f=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=h,1===f.length&&this.matchKeyword("in")){var p=f[0];p.init&&(p.id.type===c.Syntax.ArrayPattern||p.id.type===c.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(o.Messages.ForInOfLoopInitializer,"for-in"),n=this.finalize(n,new s.VariableDeclaration(f,"var")),this.nextToken(),e=n,t=this.parseExpression(),n=null}else 1===f.length&&null===f[0].init&&this.matchContextualKeyword("of")?(n=this.finalize(n,new s.VariableDeclaration(f,"var")),this.nextToken(),e=n,t=this.parseAssignmentExpression(),n=null,u=!1):(n=this.finalize(n,new s.VariableDeclaration(f,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){n=this.createNode();var d=this.nextToken().value;this.context.strict||"in"!==this.lookahead.value?(h=this.context.allowIn,this.context.allowIn=!1,f=this.parseBindingList(d,{inFor:!0}),this.context.allowIn=h,1===f.length&&null===f[0].init&&this.matchKeyword("in")?(n=this.finalize(n,new s.VariableDeclaration(f,d)),this.nextToken(),e=n,t=this.parseExpression(),n=null):1===f.length&&null===f[0].init&&this.matchContextualKeyword("of")?(n=this.finalize(n,new s.VariableDeclaration(f,d)),this.nextToken(),e=n,t=this.parseAssignmentExpression(),n=null,u=!1):(this.consumeSemicolon(),n=this.finalize(n,new s.VariableDeclaration(f,d)))):(n=this.finalize(n,new s.Identifier(d)),this.nextToken(),e=n,t=this.parseExpression(),n=null)}else{var m=this.lookahead;if(h=this.context.allowIn,this.context.allowIn=!1,n=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=h,this.matchKeyword("in"))this.context.isAssignmentTarget&&n.type!==c.Syntax.AssignmentExpression||this.tolerateError(o.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(n),e=n,t=this.parseExpression(),n=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&n.type!==c.Syntax.AssignmentExpression||this.tolerateError(o.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(n),e=n,t=this.parseAssignmentExpression(),n=null,u=!1;else{if(this.match(",")){for(var g=[n];this.match(",");)this.nextToken(),g.push(this.isolateCoverGrammar(this.parseAssignmentExpression));n=this.finalize(this.startNode(m),new s.SequenceExpression(g))}this.expect(";")}}if(void 0===e&&(this.match(";")||(i=this.parseExpression()),this.expect(";"),this.match(")")||(a=this.parseExpression())),!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),r=this.finalize(this.createNode(),new s.EmptyStatement);else{this.expect(")");var v=this.context.inIteration;this.context.inIteration=!0,r=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=v}return void 0===e?this.finalize(l,new s.ForStatement(n,i,a,r)):u?this.finalize(l,new s.ForInStatement(e,t,r)):this.finalize(l,new s.ForOfStatement(e,t,r))},e.prototype.parseContinueStatement=function(){var e=this.createNode();this.expectKeyword("continue");var t=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var r=this.parseVariableIdentifier();t=r;var n="$"+r.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,n)||this.throwError(o.Messages.UnknownLabel,r.name)}return this.consumeSemicolon(),null!==t||this.context.inIteration||this.throwError(o.Messages.IllegalContinue),this.finalize(e,new s.ContinueStatement(t))},e.prototype.parseBreakStatement=function(){var e=this.createNode();this.expectKeyword("break");var t=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var r=this.parseVariableIdentifier(),n="$"+r.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,n)||this.throwError(o.Messages.UnknownLabel,r.name),t=r}return this.consumeSemicolon(),null!==t||this.context.inIteration||this.context.inSwitch||this.throwError(o.Messages.IllegalBreak),this.finalize(e,new s.BreakStatement(t))},e.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(o.Messages.IllegalReturn);var e=this.createNode();this.expectKeyword("return");var t=(this.match(";")||this.match("}")||this.hasLineTerminator||2===this.lookahead.type)&&8!==this.lookahead.type&&10!==this.lookahead.type?null:this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new s.ReturnStatement(t))},e.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(o.Messages.StrictModeWith);var e,t=this.createNode();this.expectKeyword("with"),this.expect("(");var r=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new s.EmptyStatement)):(this.expect(")"),e=this.parseStatement()),this.finalize(t,new s.WithStatement(r,e))},e.prototype.parseSwitchCase=function(){var e,t=this.createNode();this.matchKeyword("default")?(this.nextToken(),e=null):(this.expectKeyword("case"),e=this.parseExpression()),this.expect(":");for(var r=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)r.push(this.parseStatementListItem());return this.finalize(t,new s.SwitchCase(e,r))},e.prototype.parseSwitchStatement=function(){var e=this.createNode();this.expectKeyword("switch"),this.expect("(");var t=this.parseExpression();this.expect(")");var r=this.context.inSwitch;this.context.inSwitch=!0;var n=[],i=!1;for(this.expect("{");!this.match("}");){var a=this.parseSwitchCase();null===a.test&&(i&&this.throwError(o.Messages.MultipleDefaultsInSwitch),i=!0),n.push(a)}return this.expect("}"),this.context.inSwitch=r,this.finalize(e,new s.SwitchStatement(t,n))},e.prototype.parseLabelledStatement=function(){var e,t=this.createNode(),r=this.parseExpression();if(r.type===c.Syntax.Identifier&&this.match(":")){this.nextToken();var n=r,i="$"+n.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,i)&&this.throwError(o.Messages.Redeclaration,"Label",n.name),this.context.labelSet[i]=!0;var a=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),a=this.parseClassDeclaration();else if(this.matchKeyword("function")){var u=this.lookahead,l=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(u,o.Messages.StrictFunction):l.generator&&this.tolerateUnexpectedToken(u,o.Messages.GeneratorInLegacyContext),a=l}else a=this.parseStatement();delete this.context.labelSet[i],e=new s.LabeledStatement(n,a)}else this.consumeSemicolon(),e=new s.ExpressionStatement(r);return this.finalize(t,e)},e.prototype.parseThrowStatement=function(){var e=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(o.Messages.NewlineAfterThrow);var t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new s.ThrowStatement(t))},e.prototype.parseCatchClause=function(){var e=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var t=[],r=this.parsePattern(t),n={},i=0;i<t.length;i++){var a="$"+t[i].value;Object.prototype.hasOwnProperty.call(n,a)&&this.tolerateError(o.Messages.DuplicateBinding,t[i].value),n[a]=!0}this.context.strict&&r.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(r.name)&&this.tolerateError(o.Messages.StrictCatchVariable),this.expect(")");var u=this.parseBlock();return this.finalize(e,new s.CatchClause(r,u))},e.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},e.prototype.parseTryStatement=function(){var e=this.createNode();this.expectKeyword("try");var t=this.parseBlock(),r=this.matchKeyword("catch")?this.parseCatchClause():null,n=this.matchKeyword("finally")?this.parseFinallyClause():null;return r||n||this.throwError(o.Messages.NoCatchOrFinally),this.finalize(e,new s.TryStatement(t,r,n))},e.prototype.parseDebuggerStatement=function(){var e=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(e,new s.DebuggerStatement)},e.prototype.parseStatement=function(){var e;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:e=this.parseExpressionStatement();break;case 7:var t=this.lookahead.value;e="{"===t?this.parseBlock():"("===t?this.parseExpressionStatement():";"===t?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:e=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":e=this.parseBreakStatement();break;case"continue":e=this.parseContinueStatement();break;case"debugger":e=this.parseDebuggerStatement();break;case"do":e=this.parseDoWhileStatement();break;case"for":e=this.parseForStatement();break;case"function":e=this.parseFunctionDeclaration();break;case"if":e=this.parseIfStatement();break;case"return":e=this.parseReturnStatement();break;case"switch":e=this.parseSwitchStatement();break;case"throw":e=this.parseThrowStatement();break;case"try":e=this.parseTryStatement();break;case"var":e=this.parseVariableStatement();break;case"while":e=this.parseWhileStatement();break;case"with":e=this.parseWithStatement();break;default:e=this.parseExpressionStatement()}break;default:e=this.throwUnexpectedToken(this.lookahead)}return e},e.prototype.parseFunctionSourceElements=function(){var e=this.createNode();this.expect("{");var t=this.parseDirectivePrologues(),r=this.context.labelSet,n=this.context.inIteration,i=this.context.inSwitch,o=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;2!==this.lookahead.type&&!this.match("}");)t.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=r,this.context.inIteration=n,this.context.inSwitch=i,this.context.inFunctionBody=o,this.finalize(e,new s.BlockStatement(t))},e.prototype.validateParam=function(e,t,r){var n="$"+r;this.context.strict?(this.scanner.isRestrictedWord(r)&&(e.stricted=t,e.message=o.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(e.paramSet,n)&&(e.stricted=t,e.message=o.Messages.StrictParamDupe)):e.firstRestricted||(this.scanner.isRestrictedWord(r)?(e.firstRestricted=t,e.message=o.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(r)?(e.firstRestricted=t,e.message=o.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(e.paramSet,n)&&(e.stricted=t,e.message=o.Messages.StrictParamDupe)),"function"==typeof Object.defineProperty?Object.defineProperty(e.paramSet,n,{value:!0,enumerable:!0,writable:!0,configurable:!0}):e.paramSet[n]=!0},e.prototype.parseRestElement=function(e){var t=this.createNode();this.expect("...");var r=this.parsePattern(e);return this.match("=")&&this.throwError(o.Messages.DefaultRestParameter),this.match(")")||this.throwError(o.Messages.ParameterAfterRestParameter),this.finalize(t,new s.RestElement(r))},e.prototype.parseFormalParameter=function(e){for(var t=[],r=this.match("...")?this.parseRestElement(t):this.parsePatternWithDefault(t),n=0;n<t.length;n++)this.validateParam(e,t[n],t[n].value);e.simple=e.simple&&r instanceof s.Identifier,e.params.push(r)},e.prototype.parseFormalParameters=function(e){var t;if(t={simple:!0,params:[],firstRestricted:e},this.expect("("),!this.match(")"))for(t.paramSet={};2!==this.lookahead.type&&(this.parseFormalParameter(t),!this.match(")"))&&(this.expect(","),!this.match(")")););return this.expect(")"),{simple:t.simple,params:t.params,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},e.prototype.matchAsyncFunction=function(){var e=this.matchContextualKeyword("async");if(e){var t=this.scanner.saveState();this.scanner.scanComments();var r=this.scanner.lex();this.scanner.restoreState(t),e=t.lineNumber===r.lineNumber&&4===r.type&&"function"===r.value}return e},e.prototype.parseFunctionDeclaration=function(e){var t=this.createNode(),r=this.matchContextualKeyword("async");r&&this.nextToken(),this.expectKeyword("function");var n,i=!r&&this.match("*");i&&this.nextToken();var a=null,c=null;if(!e||!this.match("(")){var u=this.lookahead;a=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(u.value)&&this.tolerateUnexpectedToken(u,o.Messages.StrictFunctionName):this.scanner.isRestrictedWord(u.value)?(c=u,n=o.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(u.value)&&(c=u,n=o.Messages.StrictReservedWord)}var l=this.context.await,h=this.context.allowYield;this.context.await=r,this.context.allowYield=!i;var f=this.parseFormalParameters(c),p=f.params,d=f.stricted;c=f.firstRestricted,f.message&&(n=f.message);var m=this.context.strict,g=this.context.allowStrictDirective;this.context.allowStrictDirective=f.simple;var v=this.parseFunctionSourceElements();return this.context.strict&&c&&this.throwUnexpectedToken(c,n),this.context.strict&&d&&this.tolerateUnexpectedToken(d,n),this.context.strict=m,this.context.allowStrictDirective=g,this.context.await=l,this.context.allowYield=h,r?this.finalize(t,new s.AsyncFunctionDeclaration(a,p,v)):this.finalize(t,new s.FunctionDeclaration(a,p,v,i))},e.prototype.parseFunctionExpression=function(){var e=this.createNode(),t=this.matchContextualKeyword("async");t&&this.nextToken(),this.expectKeyword("function");var r,n=!t&&this.match("*");n&&this.nextToken();var i,a=null,c=this.context.await,u=this.context.allowYield;if(this.context.await=t,this.context.allowYield=!n,!this.match("(")){var l=this.lookahead;a=this.context.strict||n||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(l.value)&&this.tolerateUnexpectedToken(l,o.Messages.StrictFunctionName):this.scanner.isRestrictedWord(l.value)?(i=l,r=o.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(l.value)&&(i=l,r=o.Messages.StrictReservedWord)}var h=this.parseFormalParameters(i),f=h.params,p=h.stricted;i=h.firstRestricted,h.message&&(r=h.message);var d=this.context.strict,m=this.context.allowStrictDirective;this.context.allowStrictDirective=h.simple;var g=this.parseFunctionSourceElements();return this.context.strict&&i&&this.throwUnexpectedToken(i,r),this.context.strict&&p&&this.tolerateUnexpectedToken(p,r),this.context.strict=d,this.context.allowStrictDirective=m,this.context.await=c,this.context.allowYield=u,t?this.finalize(e,new s.AsyncFunctionExpression(a,f,g)):this.finalize(e,new s.FunctionExpression(a,f,g,n))},e.prototype.parseDirective=function(){var e=this.lookahead,t=this.createNode(),r=this.parseExpression(),n=r.type===c.Syntax.Literal?this.getTokenRaw(e).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(t,n?new s.Directive(r,n):new s.ExpressionStatement(r))},e.prototype.parseDirectivePrologues=function(){for(var e=null,t=[];;){var r=this.lookahead;if(8!==r.type)break;var n=this.parseDirective();t.push(n);var i=n.directive;if("string"!=typeof i)break;"use strict"===i?(this.context.strict=!0,e&&this.tolerateUnexpectedToken(e,o.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(r,o.Messages.IllegalLanguageModeDirective)):!e&&r.octal&&(e=r)}return t},e.prototype.qualifiedPropertyName=function(e){switch(e.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return"["===e.value}return!1},e.prototype.parseGetterMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var r=this.parseFormalParameters();r.params.length>0&&this.tolerateError(o.Messages.BadGetterArity);var n=this.parsePropertyMethod(r);return this.context.allowYield=t,this.finalize(e,new s.FunctionExpression(null,r.params,n,!1))},e.prototype.parseSetterMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var r=this.parseFormalParameters();1!==r.params.length?this.tolerateError(o.Messages.BadSetterArity):r.params[0]instanceof s.RestElement&&this.tolerateError(o.Messages.BadSetterRestParameter);var n=this.parsePropertyMethod(r);return this.context.allowYield=t,this.finalize(e,new s.FunctionExpression(null,r.params,n,!1))},e.prototype.parseGeneratorMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var r=this.parseFormalParameters();this.context.allowYield=!1;var n=this.parsePropertyMethod(r);return this.context.allowYield=t,this.finalize(e,new s.FunctionExpression(null,r.params,n,!0))},e.prototype.isStartOfExpression=function(){var e=!0,t=this.lookahead.value;switch(this.lookahead.type){case 7:e="["===t||"("===t||"{"===t||"+"===t||"-"===t||"!"===t||"~"===t||"++"===t||"--"===t||"/"===t||"/="===t;break;case 4:e="class"===t||"delete"===t||"function"===t||"let"===t||"new"===t||"super"===t||"this"===t||"typeof"===t||"void"===t||"yield"===t}return e},e.prototype.parseYieldExpression=function(){var e=this.createNode();this.expectKeyword("yield");var t=null,r=!1;if(!this.hasLineTerminator){var n=this.context.allowYield;this.context.allowYield=!1,(r=this.match("*"))?(this.nextToken(),t=this.parseAssignmentExpression()):this.isStartOfExpression()&&(t=this.parseAssignmentExpression()),this.context.allowYield=n}return this.finalize(e,new s.YieldExpression(t,r))},e.prototype.parseClassElement=function(e){var t=this.lookahead,r=this.createNode(),n="",i=null,a=null,c=!1,u=!1,l=!1,h=!1;if(this.match("*"))this.nextToken();else if(c=this.match("["),"static"===(i=this.parseObjectPropertyKey()).name&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(t=this.lookahead,l=!0,c=this.match("["),this.match("*")?this.nextToken():i=this.parseObjectPropertyKey()),3===t.type&&!this.hasLineTerminator&&"async"===t.value){var f=this.lookahead.value;":"!==f&&"("!==f&&"*"!==f&&(h=!0,t=this.lookahead,i=this.parseObjectPropertyKey(),3===t.type&&"constructor"===t.value&&this.tolerateUnexpectedToken(t,o.Messages.ConstructorIsAsync))}var p=this.qualifiedPropertyName(this.lookahead);return 3===t.type?"get"===t.value&&p?(n="get",c=this.match("["),i=this.parseObjectPropertyKey(),this.context.allowYield=!1,a=this.parseGetterMethod()):"set"===t.value&&p&&(n="set",c=this.match("["),i=this.parseObjectPropertyKey(),a=this.parseSetterMethod()):7===t.type&&"*"===t.value&&p&&(n="init",c=this.match("["),i=this.parseObjectPropertyKey(),a=this.parseGeneratorMethod(),u=!0),!n&&i&&this.match("(")&&(n="init",a=h?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),u=!0),n||this.throwUnexpectedToken(this.lookahead),"init"===n&&(n="method"),c||(l&&this.isPropertyKey(i,"prototype")&&this.throwUnexpectedToken(t,o.Messages.StaticPrototype),!l&&this.isPropertyKey(i,"constructor")&&(("method"!==n||!u||a&&a.generator)&&this.throwUnexpectedToken(t,o.Messages.ConstructorSpecialMethod),e.value?this.throwUnexpectedToken(t,o.Messages.DuplicateConstructor):e.value=!0,n="constructor")),this.finalize(r,new s.MethodDefinition(i,c,a,n,l))},e.prototype.parseClassElementList=function(){var e=[],t={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():e.push(this.parseClassElement(t));return this.expect("}"),e},e.prototype.parseClassBody=function(){var e=this.createNode(),t=this.parseClassElementList();return this.finalize(e,new s.ClassBody(t))},e.prototype.parseClassDeclaration=function(e){var t=this.createNode(),r=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var n=e&&3!==this.lookahead.type?null:this.parseVariableIdentifier(),i=null;this.matchKeyword("extends")&&(this.nextToken(),i=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var o=this.parseClassBody();return this.context.strict=r,this.finalize(t,new s.ClassDeclaration(n,i,o))},e.prototype.parseClassExpression=function(){var e=this.createNode(),t=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var r=3===this.lookahead.type?this.parseVariableIdentifier():null,n=null;this.matchKeyword("extends")&&(this.nextToken(),n=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var i=this.parseClassBody();return this.context.strict=t,this.finalize(e,new s.ClassExpression(r,n,i))},e.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var e=this.createNode(),t=this.parseDirectivePrologues();2!==this.lookahead.type;)t.push(this.parseStatementListItem());return this.finalize(e,new s.Module(t))},e.prototype.parseScript=function(){for(var e=this.createNode(),t=this.parseDirectivePrologues();2!==this.lookahead.type;)t.push(this.parseStatementListItem());return this.finalize(e,new s.Script(t))},e.prototype.parseModuleSpecifier=function(){var e=this.createNode();8!==this.lookahead.type&&this.throwError(o.Messages.InvalidModuleSpecifier);var t=this.nextToken(),r=this.getTokenRaw(t);return this.finalize(e,new s.Literal(t.value,r))},e.prototype.parseImportSpecifier=function(){var e,t,r=this.createNode();return 3===this.lookahead.type?(t=e=this.parseVariableIdentifier(),this.matchContextualKeyword("as")&&(this.nextToken(),t=this.parseVariableIdentifier())):(t=e=this.parseIdentifierName(),this.matchContextualKeyword("as")?(this.nextToken(),t=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(r,new s.ImportSpecifier(t,e))},e.prototype.parseNamedImports=function(){this.expect("{");for(var e=[];!this.match("}");)e.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),e},e.prototype.parseImportDefaultSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName();return this.finalize(e,new s.ImportDefaultSpecifier(t))},e.prototype.parseImportNamespaceSpecifier=function(){var e=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(o.Messages.NoAsAfterImportNamespace),this.nextToken();var t=this.parseIdentifierName();return this.finalize(e,new s.ImportNamespaceSpecifier(t))},e.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(o.Messages.IllegalImportDeclaration);var e,t=this.createNode();this.expectKeyword("import");var r=[];if(8===this.lookahead.type)e=this.parseModuleSpecifier();else{if(this.match("{")?r=r.concat(this.parseNamedImports()):this.match("*")?r.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(r.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?r.push(this.parseImportNamespaceSpecifier()):this.match("{")?r=r.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var n=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause;this.throwError(n,this.lookahead.value)}this.nextToken(),e=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(t,new s.ImportDeclaration(r,e))},e.prototype.parseExportSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName(),r=t;return this.matchContextualKeyword("as")&&(this.nextToken(),r=this.parseIdentifierName()),this.finalize(e,new s.ExportSpecifier(t,r))},e.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(o.Messages.IllegalExportDeclaration);var e,t=this.createNode();if(this.expectKeyword("export"),this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var r=this.parseFunctionDeclaration(!0);e=this.finalize(t,new s.ExportDefaultDeclaration(r))}else this.matchKeyword("class")?(r=this.parseClassDeclaration(!0),e=this.finalize(t,new s.ExportDefaultDeclaration(r))):this.matchContextualKeyword("async")?(r=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression(),e=this.finalize(t,new s.ExportDefaultDeclaration(r))):(this.matchContextualKeyword("from")&&this.throwError(o.Messages.UnexpectedToken,this.lookahead.value),r=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression(),this.consumeSemicolon(),e=this.finalize(t,new s.ExportDefaultDeclaration(r)));else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var n=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause;this.throwError(n,this.lookahead.value)}this.nextToken();var i=this.parseModuleSpecifier();this.consumeSemicolon(),e=this.finalize(t,new s.ExportAllDeclaration(i))}else if(4===this.lookahead.type){switch(r=void 0,this.lookahead.value){case"let":case"const":r=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":r=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}e=this.finalize(t,new s.ExportNamedDeclaration(r,[],null))}else if(this.matchAsyncFunction())r=this.parseFunctionDeclaration(),e=this.finalize(t,new s.ExportNamedDeclaration(r,[],null));else{var a=[],c=null,u=!1;for(this.expect("{");!this.match("}");)u=u||this.matchKeyword("default"),a.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");this.expect("}"),this.matchContextualKeyword("from")?(this.nextToken(),c=this.parseModuleSpecifier(),this.consumeSemicolon()):u?(n=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause,this.throwError(n,this.lookahead.value)):this.consumeSemicolon(),e=this.finalize(t,new s.ExportNamedDeclaration(null,a,c))}return e},e}();t.Parser=l},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e,t){if(!e)throw new Error("ASSERT: "+t)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.errors=[],this.tolerant=!1}return e.prototype.recordError=function(e){this.errors.push(e)},e.prototype.tolerate=function(e){if(!this.tolerant)throw e;this.recordError(e)},e.prototype.constructError=function(e,t){var r=new Error(e);try{throw r}catch(e){Object.create&&Object.defineProperty&&(r=Object.create(e),Object.defineProperty(r,"column",{value:t}))}return r},e.prototype.createError=function(e,t,r,n){var i="Line "+t+": "+n,o=this.constructError(i,r);return o.index=e,o.lineNumber=t,o.description=n,o},e.prototype.throwError=function(e,t,r,n){throw this.createError(e,t,r,n)},e.prototype.tolerateError=function(e,t,r,n){var i=this.createError(e,t,r,n);if(!this.tolerant)throw i;this.recordError(i)},e}();t.ErrorHandler=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),i=r(4),o=r(11);function s(e){return"0123456789abcdef".indexOf(e.toLowerCase())}function a(e){return"01234567".indexOf(e)}var c=function(){function e(e,t){this.source=e,this.errorHandler=t,this.trackComment=!1,this.isModule=!1,this.length=e.length,this.index=0,this.lineNumber=e.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return e.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},e.prototype.restoreState=function(e){this.index=e.index,this.lineNumber=e.lineNumber,this.lineStart=e.lineStart},e.prototype.eof=function(){return this.index>=this.length},e.prototype.throwUnexpectedToken=function(e){return void 0===e&&(e=o.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,e)},e.prototype.tolerateUnexpectedToken=function(e){void 0===e&&(e=o.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,e)},e.prototype.skipSingleLineComment=function(e){var t,r,n=[];for(this.trackComment&&(n=[],t=this.index-e,r={start:{line:this.lineNumber,column:this.index-this.lineStart-e},end:{}});!this.eof();){var o=this.source.charCodeAt(this.index);if(++this.index,i.Character.isLineTerminator(o)){if(this.trackComment){r.end={line:this.lineNumber,column:this.index-this.lineStart-1};var s={multiLine:!1,slice:[t+e,this.index-1],range:[t,this.index-1],loc:r};n.push(s)}return 13===o&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,n}}return this.trackComment&&(r.end={line:this.lineNumber,column:this.index-this.lineStart},s={multiLine:!1,slice:[t+e,this.index],range:[t,this.index],loc:r},n.push(s)),n},e.prototype.skipMultiLineComment=function(){var e,t,r=[];for(this.trackComment&&(r=[],e=this.index-2,t={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var n=this.source.charCodeAt(this.index);if(i.Character.isLineTerminator(n))13===n&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(42===n){if(47===this.source.charCodeAt(this.index+1)){if(this.index+=2,this.trackComment){t.end={line:this.lineNumber,column:this.index-this.lineStart};var o={multiLine:!0,slice:[e+2,this.index-2],range:[e,this.index],loc:t};r.push(o)}return r}++this.index}else++this.index}return this.trackComment&&(t.end={line:this.lineNumber,column:this.index-this.lineStart},o={multiLine:!0,slice:[e+2,this.index],range:[e,this.index],loc:t},r.push(o)),this.tolerateUnexpectedToken(),r},e.prototype.scanComments=function(){var e;this.trackComment&&(e=[]);for(var t=0===this.index;!this.eof();){var r=this.source.charCodeAt(this.index);if(i.Character.isWhiteSpace(r))++this.index;else if(i.Character.isLineTerminator(r))++this.index,13===r&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,t=!0;else if(47===r)if(47===(r=this.source.charCodeAt(this.index+1))){this.index+=2;var n=this.skipSingleLineComment(2);this.trackComment&&(e=e.concat(n)),t=!0}else{if(42!==r)break;this.index+=2,n=this.skipMultiLineComment(),this.trackComment&&(e=e.concat(n))}else if(t&&45===r){if(45!==this.source.charCodeAt(this.index+1)||62!==this.source.charCodeAt(this.index+2))break;this.index+=3,n=this.skipSingleLineComment(3),this.trackComment&&(e=e.concat(n))}else{if(60!==r||this.isModule)break;if("!--"!==this.source.slice(this.index+1,this.index+4))break;this.index+=4,n=this.skipSingleLineComment(4),this.trackComment&&(e=e.concat(n))}}return e},e.prototype.isFutureReservedWord=function(e){switch(e){case"enum":case"export":case"import":case"super":return!0;default:return!1}},e.prototype.isStrictModeReservedWord=function(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},e.prototype.isRestrictedWord=function(e){return"eval"===e||"arguments"===e},e.prototype.isKeyword=function(e){switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}},e.prototype.codePointAt=function(e){var t=this.source.charCodeAt(e);if(t>=55296&&t<=56319){var r=this.source.charCodeAt(e+1);r>=56320&&r<=57343&&(t=1024*(t-55296)+r-56320+65536)}return t},e.prototype.scanHexEscape=function(e){for(var t="u"===e?4:2,r=0,n=0;n<t;++n){if(this.eof()||!i.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;r=16*r+s(this.source[this.index++])}return String.fromCharCode(r)},e.prototype.scanUnicodeCodePointEscape=function(){var e=this.source[this.index],t=0;for("}"===e&&this.throwUnexpectedToken();!this.eof()&&(e=this.source[this.index++],i.Character.isHexDigit(e.charCodeAt(0)));)t=16*t+s(e);return(t>1114111||"}"!==e)&&this.throwUnexpectedToken(),i.Character.fromCodePoint(t)},e.prototype.getIdentifier=function(){for(var e=this.index++;!this.eof();){var t=this.source.charCodeAt(this.index);if(92===t)return this.index=e,this.getComplexIdentifier();if(t>=55296&&t<57343)return this.index=e,this.getComplexIdentifier();if(!i.Character.isIdentifierPart(t))break;++this.index}return this.source.slice(e,this.index)},e.prototype.getComplexIdentifier=function(){var e,t=this.codePointAt(this.index),r=i.Character.fromCodePoint(t);for(this.index+=r.length,92===t&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,e=this.scanUnicodeCodePointEscape()):null!==(e=this.scanHexEscape("u"))&&"\\"!==e&&i.Character.isIdentifierStart(e.charCodeAt(0))||this.throwUnexpectedToken(),r=e);!this.eof()&&(t=this.codePointAt(this.index),i.Character.isIdentifierPart(t));)r+=e=i.Character.fromCodePoint(t),this.index+=e.length,92===t&&(r=r.substr(0,r.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,e=this.scanUnicodeCodePointEscape()):null!==(e=this.scanHexEscape("u"))&&"\\"!==e&&i.Character.isIdentifierPart(e.charCodeAt(0))||this.throwUnexpectedToken(),r+=e);return r},e.prototype.octalToDecimal=function(e){var t="0"!==e,r=a(e);return!this.eof()&&i.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(t=!0,r=8*r+a(this.source[this.index++]),"0123".indexOf(e)>=0&&!this.eof()&&i.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(r=8*r+a(this.source[this.index++]))),{code:r,octal:t}},e.prototype.scanIdentifier=function(){var e,t=this.index,r=92===this.source.charCodeAt(t)?this.getComplexIdentifier():this.getIdentifier();if(3!=(e=1===r.length?3:this.isKeyword(r)?4:"null"===r?5:"true"===r||"false"===r?1:3)&&t+r.length!==this.index){var n=this.index;this.index=t,this.tolerateUnexpectedToken(o.Messages.InvalidEscapedReservedWord),this.index=n}return{type:e,value:r,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},e.prototype.scanPunctuator=function(){var e=this.index,t=this.source[this.index];switch(t){case"(":case"{":"{"===t&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,"."===this.source[this.index]&&"."===this.source[this.index+1]&&(this.index+=2,t="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:">>>="===(t=this.source.substr(this.index,4))?this.index+=4:"==="===(t=t.substr(0,3))||"!=="===t||">>>"===t||"<<="===t||">>="===t||"**="===t?this.index+=3:"&&"===(t=t.substr(0,2))||"||"===t||"=="===t||"!="===t||"+="===t||"-="===t||"*="===t||"/="===t||"++"===t||"--"===t||"<<"===t||">>"===t||"&="===t||"|="===t||"^="===t||"%="===t||"<="===t||">="===t||"=>"===t||"**"===t?this.index+=2:(t=this.source[this.index],"<>=!+-*%&|^/".indexOf(t)>=0&&++this.index)}return this.index===e&&this.throwUnexpectedToken(),{type:7,value:t,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanHexLiteral=function(e){for(var t="";!this.eof()&&i.Character.isHexDigit(this.source.charCodeAt(this.index));)t+=this.source[this.index++];return 0===t.length&&this.throwUnexpectedToken(),i.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+t,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanBinaryLiteral=function(e){for(var t,r="";!this.eof()&&("0"===(t=this.source[this.index])||"1"===t);)r+=this.source[this.index++];return 0===r.length&&this.throwUnexpectedToken(),this.eof()||(t=this.source.charCodeAt(this.index),(i.Character.isIdentifierStart(t)||i.Character.isDecimalDigit(t))&&this.throwUnexpectedToken()),{type:6,value:parseInt(r,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanOctalLiteral=function(e,t){var r="",n=!1;for(i.Character.isOctalDigit(e.charCodeAt(0))?(n=!0,r="0"+this.source[this.index++]):++this.index;!this.eof()&&i.Character.isOctalDigit(this.source.charCodeAt(this.index));)r+=this.source[this.index++];return n||0!==r.length||this.throwUnexpectedToken(),(i.Character.isIdentifierStart(this.source.charCodeAt(this.index))||i.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(r,8),octal:n,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},e.prototype.isImplicitOctalLiteral=function(){for(var e=this.index+1;e<this.length;++e){var t=this.source[e];if("8"===t||"9"===t)return!1;if(!i.Character.isOctalDigit(t.charCodeAt(0)))return!0}return!0},e.prototype.scanNumericLiteral=function(){var e=this.index,t=this.source[e];n.assert(i.Character.isDecimalDigit(t.charCodeAt(0))||"."===t,"Numeric literal must start with a decimal digit or a decimal point");var r="";if("."!==t){if(r=this.source[this.index++],t=this.source[this.index],"0"===r){if("x"===t||"X"===t)return++this.index,this.scanHexLiteral(e);if("b"===t||"B"===t)return++this.index,this.scanBinaryLiteral(e);if("o"===t||"O"===t)return this.scanOctalLiteral(t,e);if(t&&i.Character.isOctalDigit(t.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(t,e)}for(;i.Character.isDecimalDigit(this.source.charCodeAt(this.index));)r+=this.source[this.index++];t=this.source[this.index]}if("."===t){for(r+=this.source[this.index++];i.Character.isDecimalDigit(this.source.charCodeAt(this.index));)r+=this.source[this.index++];t=this.source[this.index]}if("e"===t||"E"===t)if(r+=this.source[this.index++],"+"!==(t=this.source[this.index])&&"-"!==t||(r+=this.source[this.index++]),i.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;i.Character.isDecimalDigit(this.source.charCodeAt(this.index));)r+=this.source[this.index++];else this.throwUnexpectedToken();return i.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(r),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanStringLiteral=function(){var e=this.index,t=this.source[e];n.assert("'"===t||'"'===t,"String literal must starts with a quote"),++this.index;for(var r=!1,s="";!this.eof();){var a=this.source[this.index++];if(a===t){t="";break}if("\\"===a)if((a=this.source[this.index++])&&i.Character.isLineTerminator(a.charCodeAt(0)))++this.lineNumber,"\r"===a&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(a){case"u":if("{"===this.source[this.index])++this.index,s+=this.scanUnicodeCodePointEscape();else{var c=this.scanHexEscape(a);null===c&&this.throwUnexpectedToken(),s+=c}break;case"x":var u=this.scanHexEscape(a);null===u&&this.throwUnexpectedToken(o.Messages.InvalidHexEscapeSequence),s+=u;break;case"n":s+="\n";break;case"r":s+="\r";break;case"t":s+="\t";break;case"b":s+="\b";break;case"f":s+="\f";break;case"v":s+="\v";break;case"8":case"9":s+=a,this.tolerateUnexpectedToken();break;default:if(a&&i.Character.isOctalDigit(a.charCodeAt(0))){var l=this.octalToDecimal(a);r=l.octal||r,s+=String.fromCharCode(l.code)}else s+=a}else{if(i.Character.isLineTerminator(a.charCodeAt(0)))break;s+=a}}return""!==t&&(this.index=e,this.throwUnexpectedToken()),{type:8,value:s,octal:r,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanTemplate=function(){var e="",t=!1,r=this.index,n="`"===this.source[r],s=!1,a=2;for(++this.index;!this.eof();){var c=this.source[this.index++];if("`"===c){a=1,s=!0,t=!0;break}if("$"===c){if("{"===this.source[this.index]){this.curlyStack.push("${"),++this.index,t=!0;break}e+=c}else if("\\"===c)if(c=this.source[this.index++],i.Character.isLineTerminator(c.charCodeAt(0)))++this.lineNumber,"\r"===c&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(c){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"u":if("{"===this.source[this.index])++this.index,e+=this.scanUnicodeCodePointEscape();else{var u=this.index,l=this.scanHexEscape(c);null!==l?e+=l:(this.index=u,e+=c)}break;case"x":var h=this.scanHexEscape(c);null===h&&this.throwUnexpectedToken(o.Messages.InvalidHexEscapeSequence),e+=h;break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:"0"===c?(i.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(o.Messages.TemplateOctalLiteral),e+="\0"):i.Character.isOctalDigit(c.charCodeAt(0))?this.throwUnexpectedToken(o.Messages.TemplateOctalLiteral):e+=c}else i.Character.isLineTerminator(c.charCodeAt(0))?(++this.lineNumber,"\r"===c&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,e+="\n"):e+=c}return t||this.throwUnexpectedToken(),n||this.curlyStack.pop(),{type:10,value:this.source.slice(r+1,this.index-a),cooked:e,head:n,tail:s,lineNumber:this.lineNumber,lineStart:this.lineStart,start:r,end:this.index}},e.prototype.testRegExp=function(e,t){var r=e,n=this;t.indexOf("u")>=0&&(r=r.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,(function(e,t,r){var i=parseInt(t||r,16);return i>1114111&&n.throwUnexpectedToken(o.Messages.InvalidRegExp),i<=65535?String.fromCharCode(i):"￿"})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"￿"));try{RegExp(r)}catch(e){this.throwUnexpectedToken(o.Messages.InvalidRegExp)}try{return new RegExp(e,t)}catch(e){return null}},e.prototype.scanRegExpBody=function(){var e=this.source[this.index];n.assert("/"===e,"Regular expression literal must start with a slash");for(var t=this.source[this.index++],r=!1,s=!1;!this.eof();)if(t+=e=this.source[this.index++],"\\"===e)e=this.source[this.index++],i.Character.isLineTerminator(e.charCodeAt(0))&&this.throwUnexpectedToken(o.Messages.UnterminatedRegExp),t+=e;else if(i.Character.isLineTerminator(e.charCodeAt(0)))this.throwUnexpectedToken(o.Messages.UnterminatedRegExp);else if(r)"]"===e&&(r=!1);else{if("/"===e){s=!0;break}"["===e&&(r=!0)}return s||this.throwUnexpectedToken(o.Messages.UnterminatedRegExp),t.substr(1,t.length-2)},e.prototype.scanRegExpFlags=function(){for(var e="";!this.eof();){var t=this.source[this.index];if(!i.Character.isIdentifierPart(t.charCodeAt(0)))break;if(++this.index,"\\"!==t||this.eof())e+=t;else if("u"===(t=this.source[this.index])){++this.index;var r=this.index,n=this.scanHexEscape("u");if(null!==n)for(e+=n;r<this.index;++r)this.source[r];else this.index=r,e+="u";this.tolerateUnexpectedToken()}else this.tolerateUnexpectedToken()}return e},e.prototype.scanRegExp=function(){var e=this.index,t=this.scanRegExpBody(),r=this.scanRegExpFlags();return{type:9,value:"",pattern:t,flags:r,regex:this.testRegExp(t,r),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var e=this.source.charCodeAt(this.index);return i.Character.isIdentifierStart(e)?this.scanIdentifier():40===e||41===e||59===e?this.scanPunctuator():39===e||34===e?this.scanStringLiteral():46===e?i.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():i.Character.isDecimalDigit(e)?this.scanNumericLiteral():96===e||125===e&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():e>=55296&&e<57343&&i.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},e}();t.Scanner=c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenName={},t.TokenName[1]="Boolean",t.TokenName[2]="<end>",t.TokenName[3]="Identifier",t.TokenName[4]="Keyword",t.TokenName[5]="Null",t.TokenName[6]="Numeric",t.TokenName[7]="Punctuator",t.TokenName[8]="String",t.TokenName[9]="RegularExpression",t.TokenName[10]="Template"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",frasl:"⁄",euro:"€",image:"ℑ",weierp:"℘",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",lang:"⟨",rang:"⟩"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),i=r(12),o=r(13),s=function(){function e(){this.values=[],this.curly=this.paren=-1}return e.prototype.beforeFunctionExpression=function(e){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(e)>=0},e.prototype.isRegexStart=function(){var e=this.values[this.values.length-1],t=null!==e;switch(e){case"this":case"]":t=!1;break;case")":var r=this.values[this.paren-1];t="if"===r||"while"===r||"for"===r||"with"===r;break;case"}":if(t=!1,"function"===this.values[this.curly-3])t=!!(n=this.values[this.curly-4])&&!this.beforeFunctionExpression(n);else if("function"===this.values[this.curly-4]){var n;t=!(n=this.values[this.curly-5])||!this.beforeFunctionExpression(n)}}return t},e.prototype.push=function(e){7===e.type||4===e.type?("{"===e.value?this.curly=this.values.length:"("===e.value&&(this.paren=this.values.length),this.values.push(e.value)):this.values.push(null)},e}(),a=function(){function e(e,t){this.errorHandler=new n.ErrorHandler,this.errorHandler.tolerant=!!t&&"boolean"==typeof t.tolerant&&t.tolerant,this.scanner=new i.Scanner(e,this.errorHandler),this.scanner.trackComment=!!t&&"boolean"==typeof t.comment&&t.comment,this.trackRange=!!t&&"boolean"==typeof t.range&&t.range,this.trackLoc=!!t&&"boolean"==typeof t.loc&&t.loc,this.buffer=[],this.reader=new s}return e.prototype.errors=function(){return this.errorHandler.errors},e.prototype.getNextToken=function(){if(0===this.buffer.length){var e=this.scanner.scanComments();if(this.scanner.trackComment)for(var t=0;t<e.length;++t){var r=e[t],n=this.scanner.source.slice(r.slice[0],r.slice[1]),i={type:r.multiLine?"BlockComment":"LineComment",value:n};this.trackRange&&(i.range=r.range),this.trackLoc&&(i.loc=r.loc),this.buffer.push(i)}if(!this.scanner.eof()){var s=void 0;this.trackLoc&&(s={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var a="/"===this.scanner.source[this.scanner.index]&&this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(a);var c={type:o.TokenName[a.type],value:this.scanner.source.slice(a.start,a.end)};if(this.trackRange&&(c.range=[a.start,a.end]),this.trackLoc&&(s.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},c.loc=s),9===a.type){var u=a.pattern,l=a.flags;c.regex={pattern:u,flags:l}}this.buffer.push(c)}}return this.buffer.shift()},e}();t.Tokenizer=a}])},e.exports=n()},function(e,t,r){"use strict";var n=r(57),i=r(75),o=r(85),s=r(76),a=Object.prototype.toString,c=Object.prototype.hasOwnProperty,u=9,l=10,h=32,f=33,p=34,d=35,m=37,g=38,v=39,y=42,w=44,b=45,E=58,_=62,C=63,S=64,k=91,x=93,D=96,A=123,T=124,R=125,I={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},P=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function O(e){var t,r,o;if(t=e.toString(16).toUpperCase(),e<=255)r="x",o=2;else if(e<=65535)r="u",o=4;else{if(!(e<=4294967295))throw new i("code point within a string may not be greater than 0xFFFFFFFF");r="U",o=8}return"\\"+r+n.repeat("0",o-t.length)+t}function F(e){this.schema=e.schema||o,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=n.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var r,n,i,o,s,a,u;if(null===t)return{};for(r={},i=0,o=(n=Object.keys(t)).length;i<o;i+=1)s=n[i],a=String(t[s]),"!!"===s.slice(0,2)&&(s="tag:yaml.org,2002:"+s.slice(2)),(u=e.compiledTypeMap.fallback[s])&&c.call(u.styleAliases,a)&&(a=u.styleAliases[a]),r[s]=a;return r}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function N(e,t){for(var r,i=n.repeat(" ",t),o=0,s=-1,a="",c=e.length;o<c;)-1===(s=e.indexOf("\n",o))?(r=e.slice(o),o=c):(r=e.slice(o,s+1),o=s+1),r.length&&"\n"!==r&&(a+=i),a+=r;return a}function L(e,t){return"\n"+n.repeat(" ",e.indent*t)}function B(e){return e===h||e===u}function M(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&65279!==e||65536<=e&&e<=1114111}function U(e){return M(e)&&65279!==e&&e!==w&&e!==k&&e!==x&&e!==A&&e!==R&&e!==E&&e!==d}function j(e){return/^\n* /.test(e)}var H=1,q=2,$=3,G=4,W=5;function z(e,t,r,n,i){var o,s,a,c=!1,u=!1,h=-1!==n,I=-1,P=M(a=e.charCodeAt(0))&&65279!==a&&!B(a)&&a!==b&&a!==C&&a!==E&&a!==w&&a!==k&&a!==x&&a!==A&&a!==R&&a!==d&&a!==g&&a!==y&&a!==f&&a!==T&&a!==_&&a!==v&&a!==p&&a!==m&&a!==S&&a!==D&&!B(e.charCodeAt(e.length-1));if(t)for(o=0;o<e.length;o++){if(!M(s=e.charCodeAt(o)))return W;P=P&&U(s)}else{for(o=0;o<e.length;o++){if((s=e.charCodeAt(o))===l)c=!0,h&&(u=u||o-I-1>n&&" "!==e[I+1],I=o);else if(!M(s))return W;P=P&&U(s)}u=u||h&&o-I-1>n&&" "!==e[I+1]}return c||u?r>9&&j(e)?W:u?G:$:P&&!i(e)?H:q}function V(e,t,r,n){e.dump=function(){if(0===t.length)return"''";if(!e.noCompatMode&&-1!==P.indexOf(t))return"'"+t+"'";var o=e.indent*Math.max(1,r),s=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),a=n||e.flowLevel>-1&&r>=e.flowLevel;switch(z(t,a,e.indent,s,(function(t){return function(e,t){var r,n;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(e.implicitTypes[r].resolve(t))return!0;return!1}(e,t)}))){case H:return t;case q:return"'"+t.replace(/'/g,"''")+"'";case $:return"|"+K(t,e.indent)+X(N(t,o));case G:return">"+K(t,e.indent)+X(N(function(e,t){var r,n,i=/(\n+)([^\n]*)/g,o=(a=e.indexOf("\n"),a=-1!==a?a:e.length,i.lastIndex=a,Y(e.slice(0,a),t)),s="\n"===e[0]||" "===e[0];var a;for(;n=i.exec(e);){var c=n[1],u=n[2];r=" "===u[0],o+=c+(s||r||""===u?"":"\n")+Y(u,t),s=r}return o}(t,s),o));case W:return'"'+function(e){for(var t,r,n,i="",o=0;o<e.length;o++)(t=e.charCodeAt(o))>=55296&&t<=56319&&(r=e.charCodeAt(o+1))>=56320&&r<=57343?(i+=O(1024*(t-55296)+r-56320+65536),o++):(n=I[t],i+=!n&&M(t)?e[o]:n||O(t));return i}(t)+'"';default:throw new i("impossible error: invalid scalar style")}}()}function K(e,t){var r=j(e)?String(t):"",n="\n"===e[e.length-1];return r+(n&&("\n"===e[e.length-2]||"\n"===e)?"+":n?"":"-")+"\n"}function X(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function Y(e,t){if(""===e||" "===e[0])return e;for(var r,n,i=/ [^ ]/g,o=0,s=0,a=0,c="";r=i.exec(e);)(a=r.index)-o>t&&(n=s>o?s:a,c+="\n"+e.slice(o,n),o=n+1),s=a;return c+="\n",e.length-o>t&&s>o?c+=e.slice(o,s)+"\n"+e.slice(s+1):c+=e.slice(o),c.slice(1)}function J(e,t,r){var n,o,s,u,l,h;for(s=0,u=(o=r?e.explicitTypes:e.implicitTypes).length;s<u;s+=1)if(((l=o[s]).instanceOf||l.predicate)&&(!l.instanceOf||"object"==typeof t&&t instanceof l.instanceOf)&&(!l.predicate||l.predicate(t))){if(e.tag=r?l.tag:"?",l.represent){if(h=e.styleMap[l.tag]||l.defaultStyle,"[object Function]"===a.call(l.represent))n=l.represent(t,h);else{if(!c.call(l.represent,h))throw new i("!<"+l.tag+'> tag resolver accepts not "'+h+'" style');n=l.represent[h](t,h)}e.dump=n}return!0}return!1}function Q(e,t,r,n,o,s){e.tag=null,e.dump=r,J(e,r,!1)||J(e,r,!0);var c=a.call(e.dump);n&&(n=e.flowLevel<0||e.flowLevel>t);var u,h,f="[object Object]"===c||"[object Array]"===c;if(f&&(h=-1!==(u=e.duplicates.indexOf(r))),(null!==e.tag&&"?"!==e.tag||h||2!==e.indent&&t>0)&&(o=!1),h&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(f&&h&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),"[object Object]"===c)n&&0!==Object.keys(e.dump).length?(!function(e,t,r,n){var o,s,a,c,u,h,f="",p=e.tag,d=Object.keys(r);if(!0===e.sortKeys)d.sort();else if("function"==typeof e.sortKeys)d.sort(e.sortKeys);else if(e.sortKeys)throw new i("sortKeys must be a boolean or a function");for(o=0,s=d.length;o<s;o+=1)h="",n&&0===o||(h+=L(e,t)),c=r[a=d[o]],Q(e,t+1,a,!0,!0,!0)&&((u=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&l===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,u&&(h+=L(e,t)),Q(e,t+1,c,!0,u)&&(e.dump&&l===e.dump.charCodeAt(0)?h+=":":h+=": ",f+=h+=e.dump));e.tag=p,e.dump=f||"{}"}(e,t,e.dump,o),h&&(e.dump="&ref_"+u+e.dump)):(!function(e,t,r){var n,i,o,s,a,c="",u=e.tag,l=Object.keys(r);for(n=0,i=l.length;n<i;n+=1)a=e.condenseFlow?'"':"",0!==n&&(a+=", "),s=r[o=l[n]],Q(e,t,o,!1,!1)&&(e.dump.length>1024&&(a+="? "),a+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Q(e,t,s,!1,!1)&&(c+=a+=e.dump));e.tag=u,e.dump="{"+c+"}"}(e,t,e.dump),h&&(e.dump="&ref_"+u+" "+e.dump));else if("[object Array]"===c){var p=e.noArrayIndent&&t>0?t-1:t;n&&0!==e.dump.length?(!function(e,t,r,n){var i,o,s="",a=e.tag;for(i=0,o=r.length;i<o;i+=1)Q(e,t+1,r[i],!0,!0)&&(n&&0===i||(s+=L(e,t)),e.dump&&l===e.dump.charCodeAt(0)?s+="-":s+="- ",s+=e.dump);e.tag=a,e.dump=s||"[]"}(e,p,e.dump,o),h&&(e.dump="&ref_"+u+e.dump)):(!function(e,t,r){var n,i,o="",s=e.tag;for(n=0,i=r.length;n<i;n+=1)Q(e,t,r[n],!1,!1)&&(0!==n&&(o+=","+(e.condenseFlow?"":" ")),o+=e.dump);e.tag=s,e.dump="["+o+"]"}(e,p,e.dump),h&&(e.dump="&ref_"+u+" "+e.dump))}else{if("[object String]"!==c){if(e.skipInvalid)return!1;throw new i("unacceptable kind of an object to dump "+c)}"?"!==e.tag&&V(e,e.dump,t,s)}null!==e.tag&&"?"!==e.tag&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function Z(e,t){var r,n,i=[],o=[];for(function e(t,r,n){var i,o,s;if(null!==t&&"object"==typeof t)if(-1!==(o=r.indexOf(t)))-1===n.indexOf(o)&&n.push(o);else if(r.push(t),Array.isArray(t))for(o=0,s=t.length;o<s;o+=1)e(t[o],r,n);else for(i=Object.keys(t),o=0,s=i.length;o<s;o+=1)e(t[i[o]],r,n)}(e,i,o),r=0,n=o.length;r<n;r+=1)t.duplicates.push(i[o[r]]);t.usedDuplicates=new Array(n)}function ee(e,t){var r=new F(t=t||{});return r.noRefs||Z(e,r),Q(r,0,e,!0,!0)?r.dump+"\n":""}e.exports.dump=ee,e.exports.safeDump=function(e,t){return ee(e,n.extend({schema:s},t))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(157),i=r(1),o=r(8);t.setupMonitor=async function(e,t,r){let s;const a=new Promise(e=>s=e),c=new n.Queue,u=[],l=await n.createServer("vscode-remote-containers",async(e,t)=>{const i=await n.readJSON(e);let o=[];if("poll"===i.type)try{o=await c.dequeue(6e4)}catch(e){}else if("reply"===i.type){const e=u[i.sequence];e&&(e(i.reply),delete u[i.sequence])}else"done"===i.type&&s?s():"trace"===i.type&&r.write(`Shutdown monitor: ${i.message}`);t.write(JSON.stringify(o)),t.end()});l.server.unref();const h=i.join(__dirname,"shutdownMonitorProcess"),f=[l.ipcHandlePath,e,o.LogLevel[t],i.dirname(r.logFilePath)];r.write(`Forking shutdown monitor: ${h} ${f.join(" ")}\r\n`);const p=o.fork(h,f,{stdio:["ignore","ignore","ignore","ipc"],detached:!0,execArgv:[]});return p.on("error",e=>{console.error(e)}),p.unref(),{queue:c,sequence:0,replies:u,done:a}},t.configureMonitor=async function(e,t,r){const n=e.sequence++,i=new Promise(t=>e.replies[n]=t);return e.queue.push({type:"configure",sequence:n,options:t}),await i},t.cleanupMonitor=async function({queue:e,done:t}){e.push({type:"cleanup"}),await t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL=!0;var n=r(3),i=r(7),o=r(1),s=r(18),a=r(342),c=function(){function e(e,t,r){var i=this;this.extensionId=e,this.extensionVersion=t,this.userOptIn=!1;var a=process.env.VSCODE_LOGS||"";a&&e&&"trace"===process.env.VSCODE_LOG_LEVEL&&(a=o.join(a,e+".txt"),this.logStream=n.createWriteStream(a,{flags:"a",encoding:"utf8",autoClose:!0})),this.updateUserOptIn(r),this.configListener=s.workspace.onDidChangeConfiguration((function(){return i.updateUserOptIn(r)}))}return e.prototype.updateUserOptIn=function(t){var r=s.workspace.getConfiguration(e.TELEMETRY_CONFIG_ID);this.userOptIn!==r.get(e.TELEMETRY_CONFIG_ENABLED_ID,!0)&&(this.userOptIn=r.get(e.TELEMETRY_CONFIG_ENABLED_ID,!0),this.userOptIn?this.createAppInsightsClient(t):this.dispose())},e.prototype.createAppInsightsClient=function(e){a.defaultClient?(this.appInsightsClient=new a.TelemetryClient(e),this.appInsightsClient.channel.setUseDiskRetryCaching(!0)):(a.setup(e).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setUseDiskRetryCaching(!0).start(),this.appInsightsClient=a.defaultClient),this.appInsightsClient.commonProperties=this.getCommonProperties(),s&&s.env&&(this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.userId]=s.env.machineId,this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.sessionId]=s.env.sessionId),e&&0===e.indexOf("AIF-")&&(this.appInsightsClient.config.endpointUrl="https://vortex.data.microsoft.com/collect/v1")},e.prototype.getCommonProperties=function(){var e=Object.create(null);return e["common.os"]=i.platform(),e["common.platformversion"]=(i.release()||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,s&&s.env&&(e["common.vscodemachineid"]=s.env.machineId,e["common.vscodesessionid"]=s.env.sessionId,e["common.vscodeversion"]=s.version),e},e.prototype.sendTelemetryEvent=function(e,t,r){this.userOptIn&&e&&this.appInsightsClient&&(this.appInsightsClient.trackEvent({name:this.extensionId+"/"+e,properties:t,measurements:r}),this.logStream&&this.logStream.write("telemetry/"+e+" "+JSON.stringify({properties:t,measurements:r})+"\n"))},e.prototype.sendTelemetryException=function(e,t,r){this.userOptIn&&e&&this.appInsightsClient&&(this.appInsightsClient.trackException({exception:e,properties:t,measurements:r}),this.logStream&&this.logStream.write("telemetry/"+e.name+" "+e.message+" "+JSON.stringify({properties:t,measurements:r})+"\n"))},e.prototype.dispose=function(){var e=this;this.configListener.dispose();var t=new Promise((function(t){if(!e.logStream)return t(void 0);e.logStream.on("finish",t),e.logStream.end()})),r=new Promise((function(t){e.appInsightsClient?e.appInsightsClient.flush({callback:function(){e.appInsightsClient=void 0,t(void 0)}}):t(void 0)}));return Promise.all([r,t])},e.TELEMETRY_CONFIG_ID="telemetry",e.TELEMETRY_CONFIG_ENABLED_ID="enableTelemetry",e}();t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(79),o=r(373),s=r(394),a=r(162),c=r(86),u=r(229),l=r(61),h=r(13),f=r(402),p=r(405);t.TelemetryClient=r(406),t.Contracts=r(24),function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C"}(n=t.DistributedTracingModes||(t.DistributedTracingModes={}));var d,m,g,v,y,w,b,E,_,C=!0,S=!1,k=!0,x=!0,D=!0,A=!0,T=!0,R=!0,I=!1,P=!0,O=void 0,F=void 0,N=!1;function L(){return t.defaultClient?(N=!0,g.enable(C,S),v.enable(k),y.enable(x),w.enable(P,m),b.useAutoCorrelation(R,d),b.enable(D),E.enable(A),t.liveMetricsClient&&I&&t.liveMetricsClient.enable(I)):h.warn("Start cannot be called before setup"),B}t.setup=function(e){return t.defaultClient?h.info("The default client is already setup"):(t.defaultClient=new t.TelemetryClient(e),g=new o(t.defaultClient),v=new s(t.defaultClient),y=new a(t.defaultClient),b=new u(t.defaultClient),E=new c(t.defaultClient),w||(w=new p.AutoCollectNativePerformance(t.defaultClient))),t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(T,O,F),B},t.start=L,t.getCorrelationContext=function(){return R?i.CorrelationContextManager.getCurrentContext():null},t.wrapWithCorrelationContext=function(e){return i.CorrelationContextManager.wrapCallback(e)};var B=function(){function e(){}return e.setDistributedTracingMode=function(t){return l.w3cEnabled=t===n.AI_AND_W3C,e},e.setAutoCollectConsole=function(t,r){return void 0===r&&(r=!1),C=t,S=r,N&&g.enable(t,r),e},e.setAutoCollectExceptions=function(t){return k=t,N&&v.enable(t),e},e.setAutoCollectPerformance=function(t,r){void 0===r&&(r=!0),x=t;var n=p.AutoCollectNativePerformance.parseEnabled(r);return P=n.isEnabled,m=n.disabledMetrics,N&&(y.enable(t),w.enable(n.isEnabled,n.disabledMetrics)),e},e.setAutoCollectRequests=function(t){return D=t,N&&b.enable(t),e},e.setAutoCollectDependencies=function(t){return A=t,N&&E.enable(t),e},e.setAutoDependencyCorrelation=function(t,r){return R=t,d=r,N&&b.useAutoCorrelation(t,r),e},e.setUseDiskRetryCaching=function(r,n,i){return T=r,O=n,F=i,t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(r,n,i),e},e.setInternalLogging=function(t,r){return void 0===t&&(t=!1),void 0===r&&(r=!0),h.enableDebug=t,h.disableWarnings=!r,e},e.setSendLiveMetrics=function(r){return void 0===r&&(r=!1),t.defaultClient?(t.liveMetricsClient?t.liveMetricsClient.enable(r):(t.liveMetricsClient=new f(t.defaultClient.config.instrumentationKey),_=new a(t.liveMetricsClient,1e3,!0),t.liveMetricsClient.addCollector(_),t.defaultClient.quickPulseClient=t.liveMetricsClient,I=r),e):(h.warn("Live metrics client cannot be setup without the default client"),e)},e.start=L,e}();t.Configuration=B,t.dispose=function(){t.defaultClient=null,N=!1,g&&g.dispose(),v&&v.dispose(),y&&y.dispose(),w&&w.dispose(),b&&b.dispose(),E&&E.dispose()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(344);t.bunyan=n;var i=r(346);t.console=i;var o=r(348);t.mongodbCore=o;var s=r(349);t.mongodb=s;var a=r(350);t.mysql=a;var c=r(353);t.pgPool=c;var u=r(354);t.pg=u;var l=r(355);t.redis=l;var h=r(356);t.winston=h,t.enable=function(){n.enable(),i.enable(),o.enable(),s.enable(),a.enable(),u.enable(),c.enable(),l.enable(),h.enable()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12);t.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(e){var t=e.prototype._emit;return e.prototype._emit=function(e,r){var i=t.apply(this,arguments);if(!r){var o=i;o||(o=t.call(this,e,!0)),n.channel.publish("bunyan",{level:e.level,result:o})}return i},e}},t.enable=function(){n.channel.registerMonkeyPatch("bunyan",t.bunyan)}},function(e){e.exports=JSON.parse('{"name":"diagnostic-channel","version":"0.2.0","main":"./dist/src/channel.js","types":"./dist/src/channel.d.ts","scripts":{"build":"tsc","lint":"tslint -c tslint.json -p tsconfig.json","clean":"rimraf ./dist","test":"mocha ./dist/tests/**/*.js"},"homepage":"https://github.com/Microsoft/node-diagnostic-channel","bugs":{"url":"https://github.com/Microsoft/node-diagnostic-channel/issues"},"repository":{"type":"git","url":"https://github.com/Microsoft/node-diagnostic-channel.git"},"description":"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers","dependencies":{"semver":"^5.3.0"},"devDependencies":{"@types/mocha":"^2.2.40","@types/node":"^7.0.12","mocha":"^3.2.0","rimraf":"^2.6.1","tslint":"^5.0.0","typescript":"^2.2.1"},"files":["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],"license":"MIT"}')},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),i=r(11);t.console={versionSpecifier:">= 4.0.0",patch:function(e){var t=new i.Writable,r=new i.Writable;t.write=function(e){if(!e)return!0;var t=e.toString();return n.channel.publish("console",{message:t}),!0},r.write=function(e){if(!e)return!0;var t=e.toString();return n.channel.publish("console",{message:t,stderr:!0}),!0};for(var o=new e.Console(t,r),s=function(t){var r=e[t];r&&(e[t]=function(){if(o[t])try{o[t].apply(o,arguments)}catch(e){}return r.apply(e,arguments)})},a=0,c=["log","info","warn","error","dir","time","timeEnd","trace","assert"];a<c.length;a++){s(c[a])}return e}},t.enable=function(){n.channel.registerMonkeyPatch("console",t.console),r(347)}},function(e,t){e.exports=require("console")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12);t.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(e){var t=e.Server.prototype.connect;return e.Server.prototype.connect=function(){var e=t.apply(this,arguments),r=this.s.pool.write;this.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=n.channel.bindToContext(arguments[e])),r.apply(this,arguments)};var i=this.s.pool.logout;return this.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=n.channel.bindToContext(arguments[1])),i.apply(this,arguments)},e},e}},t.enable=function(){n.channel.registerMonkeyPatch("mongodb-core",t.mongoCore)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12);t.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:function(e){var t=e.instrument({operationIdGenerator:{next:function(){return n.channel.bindToContext((function(e){return e()}))}}}),r={};return t.on("started",(function(e){r[e.requestId]||(r[e.requestId]=e)})),t.on("succeeded",(function(e){var t=r[e.requestId];t&&delete r[e.requestId],e.operationId((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})}))})),t.on("failed",(function(e){var t=r[e.requestId];t&&delete r[e.requestId],e.operationId((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})}))})),e}},t.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:function(e){var t=e.instrument(),r={},i={};return t.on("started",(function(e){r[e.requestId]||(i[e.requestId]=n.channel.bindToContext((function(e){return e()})),r[e.requestId]=e)})),t.on("succeeded",(function(e){var t=r[e.requestId];t&&delete r[e.requestId],"object"==typeof e&&"function"==typeof i[e.requestId]&&(i[e.requestId]((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),delete i[e.requestId])})),t.on("failed",(function(e){var t=r[e.requestId];t&&delete r[e.requestId],"object"==typeof e&&"function"==typeof i[e.requestId]&&(i[e.requestId]((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),delete i[e.requestId])})),e}},t.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:function(e){!function(e){var t=e.Server.prototype.connect;e.Server.prototype.connect=function(){var e=t.apply(this,arguments),r=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=n.channel.bindToContext(arguments[e])),r.apply(this,arguments)};var i=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=n.channel.bindToContext(arguments[1])),i.apply(this,arguments)},e}}(e);var t=e.instrument(),r={},i={};return t.on("started",(function(e){r[e.requestId]||(i[e.requestId]=n.channel.bindToContext((function(e){return e()})),r[e.requestId]=e)})),t.on("succeeded",(function(e){var t=r[e.requestId];t&&delete r[e.requestId],"object"==typeof e&&"function"==typeof i[e.requestId]&&(i[e.requestId]((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),delete i[e.requestId])})),t.on("failed",(function(e){var t=r[e.requestId];t&&delete r[e.requestId],"object"==typeof e&&"function"==typeof i[e.requestId]&&(i[e.requestId]((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),delete i[e.requestId])})),e}},t.enable=function(){n.channel.registerMonkeyPatch("mongodb",t.mongo2),n.channel.registerMonkeyPatch("mongodb",t.mongo3),n.channel.registerMonkeyPatch("mongodb",t.mongo330)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),i=r(1);t.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:function(e,t){var o=function(e,t){return function(t,r){var i=e[t];i&&(e[t]=function(){for(var e=arguments.length-1,t=arguments.length-1;t>=0;--t){if("function"==typeof arguments[t]){e=t;break}if(void 0!==arguments[t])break}var o=arguments[e],s={result:null,startTime:null};"function"==typeof o&&(r?(s.startTime=process.hrtime(),arguments[e]=n.channel.bindToContext(r(s,o))):arguments[e]=n.channel.bindToContext(o));var a=i.apply(this,arguments);return s.result=a,a})}},s=function(e,t){return o(e.prototype)},a=r(351)(i.dirname(t)+"/lib/Connection");["connect","changeUser","ping","statistics","end"].forEach((function(e){return s(a)(e)})),o(a)("createQuery",(function(e,t){return function(r){var i=process.hrtime(e.startTime),o=1e3*i[0]+i[1]/1e6|0;n.channel.publish("mysql",{query:e.result,callbackArgs:arguments,err:r,duration:o}),t.apply(this,arguments)}}));var c=r(352)(i.dirname(t)+"/lib/Pool");return["_enqueueCallback"].forEach((function(e){return s(c)(e)})),e}},t.enable=function(){n.channel.registerMonkeyPatch("mysql",t.mysql)}},function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=351},function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=352},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12);t.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:function(e){var t=e.prototype.connect;return e.prototype.connect=function(e){return e&&(arguments[0]=n.channel.bindToContext(e)),t.apply(this,arguments)},e}},t.enable=function(){n.channel.registerMonkeyPatch("pg-pool",t.postgresPool1)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),i=r(6);t.postgres6={versionSpecifier:"6.*",patch:function(e,t){var r=e.Client.prototype.query,o="__diagnosticOriginalFunc";return e.Client.prototype.query=function(e,t,s){var a,c={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0},u=process.hrtime();function l(e){e&&e[o]&&(e=e[o]);var t=n.channel.bindToContext((function(t,r){var o=process.hrtime(u);if(c.result=r&&{rowCount:r.rowCount,command:r.command},c.error=t,c.duration=Math.ceil(1e3*o[0]+o[1]/1e6),n.channel.publish("postgres",c),t){if(e)return e.apply(this,arguments);a&&a instanceof i.EventEmitter&&a.emit("error",t)}else e&&e.apply(this,arguments)}));try{return Object.defineProperty(t,o,{value:e}),t}catch(t){return e}}try{"string"==typeof e?t instanceof Array?(c.query.preparable={text:e,args:t},s=l(s)):(c.query.text=e,s?s=l(s):t=l(t)):("string"==typeof e.name?c.query.plan=e.name:e.values instanceof Array?c.query.preparable={text:e.text,args:e.values}:c.query.text=e.text,s?s=l(s):t?t=l(t):e.callback=l(e.callback))}catch(e){return r.apply(this,arguments)}return arguments[0]=e,arguments[1]=t,arguments[2]=s,arguments.length=arguments.length>3?arguments.length:3,a=r.apply(this,arguments)},e}},t.postgres7={versionSpecifier:"7.*",patch:function(e,t){var r=e.Client.prototype.query,o="__diagnosticOriginalFunc";return e.Client.prototype.query=function(e,t,s){var a,c=this,u=!!s,l={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0},h=process.hrtime();function f(e){e&&e[o]&&(e=e[o]);var t=n.channel.bindToContext((function(t,r){var o=process.hrtime(h);if(l.result=r&&{rowCount:r.rowCount,command:r.command},l.error=t,l.duration=Math.ceil(1e3*o[0]+o[1]/1e6),n.channel.publish("postgres",l),t){if(e)return e.apply(this,arguments);a&&a instanceof i.EventEmitter&&a.emit("error",t)}else e&&e.apply(this,arguments)}));try{return Object.defineProperty(t,o,{value:e}),t}catch(t){return e}}try{"string"==typeof e?t instanceof Array?(l.query.preparable={text:e,args:t},u="function"==typeof s,s=s?f(s):s):(l.query.text=e,s?s=(u="function"==typeof s)?f(s):s:t=(u="function"==typeof t)?f(t):t):("string"==typeof e.name?l.query.plan=e.name:e.values instanceof Array?l.query.preparable={text:e.text,args:e.values}:l.query.text=e.text,s?(u="function"==typeof s,s=f(s)):t?t=(u="function"==typeof t)?f(t):t:(u="function"==typeof e.callback,e.callback=u?f(e.callback):e.callback))}catch(e){return r.apply(this,arguments)}return arguments[0]=e,arguments[1]=t,arguments[2]=s,arguments.length=arguments.length>3?arguments.length:3,a=r.apply(this,arguments),u?a:a.then((function(e){return f()(void 0,e),new c._Promise((function(t,r){t(e)}))})).catch((function(e){return f()(e,void 0),new c._Promise((function(t,r){r(e)}))}))},e}},t.enable=function(){n.channel.registerMonkeyPatch("pg",t.postgres6),n.channel.registerMonkeyPatch("pg",t.postgres7)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12);t.redis={versionSpecifier:">= 2.0.0 < 3.0.0",patch:function(e){var t=e.RedisClient.prototype.internal_send_command;return e.RedisClient.prototype.internal_send_command=function(e){if(e){var r=e.callback;if(!r||!r.pubsubBound){var i=this.address,o=process.hrtime();e.callback=n.channel.bindToContext((function(t,s){var a=process.hrtime(o),c=1e3*a[0]+a[1]/1e6|0;n.channel.publish("redis",{duration:c,address:i,commandObj:e,err:t,result:s}),"function"==typeof r&&r.apply(this,arguments)})),e.callback.pubsubBound=!0}}return t.call(this,e)},e}},t.enable=function(){n.channel.registerMonkeyPatch("redis",t.redis)}},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&(r[n[i]]=e[n[i]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var s=r(12);t.winston3={versionSpecifier:"3.x",patch:function(e){var t=function(e){function t(t,r){var n=e.call(this,r)||this;return n.winston=t,n}return i(t,e),t.prototype.log=function(e,t){var r=e.message,n=e.level,i=e.meta,a=o(e,["message","level","meta"]);n="function"==typeof Symbol.for?e[Symbol.for("level")]:n;var c=function(e,t){return null!=e.config.npm.levels[t]?"npm":null!=e.config.syslog.levels[t]?"syslog":"unknown"}(this.winston,n);for(var u in i=i||{},a)a.hasOwnProperty(u)&&(i[u]=a[u]);s.channel.publish("winston",{message:r,level:n,levelKind:c,meta:i}),t()},t}(e.Transport);function r(){var r,n=arguments[0].levels||e.config.npm.levels;for(var i in n)n.hasOwnProperty(i)&&(r=void 0===r||n[i]>n[r]?i:r);this.add(new t(e,{level:r}))}var n=e.createLogger;e.createLogger=function(){var i,o=arguments[0].levels||e.config.npm.levels;for(var s in o)o.hasOwnProperty(s)&&(i=void 0===i||o[s]>o[i]?s:i);var a=n.apply(this,arguments);a.add(new t(e,{level:i}));var c=a.configure;return a.configure=function(){c.apply(this,arguments),r.apply(this,arguments)},a};var a=e.createLogger;return e.configure=function(){a.apply(this,arguments),r.apply(this,arguments)},e.add(new t(e)),e}},t.winston2={versionSpecifier:"2.x",patch:function(e){var t,r=e.Logger.prototype.log,n=function(r,n,i){var o;return o=t===e.config.npm.levels?"npm":t===e.config.syslog.levels?"syslog":"unknown",s.channel.publish("winston",{level:r,message:n,meta:i,levelKind:o}),n};return e.Logger.prototype.log=function(){return t=this.levels,this.filters&&0!==this.filters.length?this.filters[this.filters.length-1]!==n&&(this.filters=this.filters.filter((function(e){return e!==n})),this.filters.push(n)):this.filters=[n],r.apply(this,arguments)},e}},t.enable=function(){s.channel.registerMonkeyPatch("winston",t.winston2),s.channel.registerMonkeyPatch("winston",t.winston3)}},function(e,t,r){"use strict";const n=r(358);process&&n.gte(process.versions.node,"8.0.0")?e.exports=r(359):e.exports=r(361)},function(e,t){var r;t=e.exports=V,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=t.re=[],s=t.src=[],a=0,c=a++;s[c]="0|[1-9]\\d*";var u=a++;s[u]="[0-9]+";var l=a++;s[l]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var h=a++;s[h]="("+s[c]+")\\.("+s[c]+")\\.("+s[c]+")";var f=a++;s[f]="("+s[u]+")\\.("+s[u]+")\\.("+s[u]+")";var p=a++;s[p]="(?:"+s[c]+"|"+s[l]+")";var d=a++;s[d]="(?:"+s[u]+"|"+s[l]+")";var m=a++;s[m]="(?:-("+s[p]+"(?:\\."+s[p]+")*))";var g=a++;s[g]="(?:-?("+s[d]+"(?:\\."+s[d]+")*))";var v=a++;s[v]="[0-9A-Za-z-]+";var y=a++;s[y]="(?:\\+("+s[v]+"(?:\\."+s[v]+")*))";var w=a++,b="v?"+s[h]+s[m]+"?"+s[y]+"?";s[w]="^"+b+"$";var E="[v=\\s]*"+s[f]+s[g]+"?"+s[y]+"?",_=a++;s[_]="^"+E+"$";var C=a++;s[C]="((?:<|>)?=?)";var S=a++;s[S]=s[u]+"|x|X|\\*";var k=a++;s[k]=s[c]+"|x|X|\\*";var x=a++;s[x]="[v=\\s]*("+s[k]+")(?:\\.("+s[k]+")(?:\\.("+s[k]+")(?:"+s[m]+")?"+s[y]+"?)?)?";var D=a++;s[D]="[v=\\s]*("+s[S]+")(?:\\.("+s[S]+")(?:\\.("+s[S]+")(?:"+s[g]+")?"+s[y]+"?)?)?";var A=a++;s[A]="^"+s[C]+"\\s*"+s[x]+"$";var T=a++;s[T]="^"+s[C]+"\\s*"+s[D]+"$";var R=a++;s[R]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var I=a++;s[I]="(?:~>?)";var P=a++;s[P]="(\\s*)"+s[I]+"\\s+",o[P]=new RegExp(s[P],"g");var O=a++;s[O]="^"+s[I]+s[x]+"$";var F=a++;s[F]="^"+s[I]+s[D]+"$";var N=a++;s[N]="(?:\\^)";var L=a++;s[L]="(\\s*)"+s[N]+"\\s+",o[L]=new RegExp(s[L],"g");var B=a++;s[B]="^"+s[N]+s[x]+"$";var M=a++;s[M]="^"+s[N]+s[D]+"$";var U=a++;s[U]="^"+s[C]+"\\s*("+E+")$|^$";var j=a++;s[j]="^"+s[C]+"\\s*("+b+")$|^$";var H=a++;s[H]="(\\s*)"+s[C]+"\\s*("+E+"|"+s[x]+")",o[H]=new RegExp(s[H],"g");var q=a++;s[q]="^\\s*("+s[x]+")\\s+-\\s+("+s[x]+")\\s*$";var $=a++;s[$]="^\\s*("+s[D]+")\\s+-\\s+("+s[D]+")\\s*$";var G=a++;s[G]="(<|>)?=?\\s*\\*";for(var W=0;W<35;W++)r(W,s[W]),o[W]||(o[W]=new RegExp(s[W]));function z(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof V)return e;if("string"!=typeof e)return null;if(e.length>n)return null;if(!(t.loose?o[_]:o[w]).test(e))return null;try{return new V(e,t)}catch(e){return null}}function V(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof V){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof V))return new V(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var s=e.trim().match(t.loose?o[_]:o[w]);if(!s)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}t.parse=z,t.valid=function(e,t){var r=z(e,t);return r?r.version:null},t.clean=function(e,t){var r=z(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=V,V.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},V.prototype.toString=function(){return this.version},V.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof V||(e=new V(e,this.options)),this.compareMain(e)||this.comparePre(e)},V.prototype.compareMain=function(e){return e instanceof V||(e=new V(e,this.options)),X(this.major,e.major)||X(this.minor,e.minor)||X(this.patch,e.patch)},V.prototype.comparePre=function(e){if(e instanceof V||(e=new V(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return X(n,i)}while(++t)},V.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new V(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(Z(e,t))return null;var r=z(e),n=z(t),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var o="prerelease"}for(var s in r)if(("major"===s||"minor"===s||"patch"===s)&&r[s]!==n[s])return i+s;return o},t.compareIdentifiers=X;var K=/^[0-9]+$/;function X(e,t){var r=K.test(e),n=K.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function Y(e,t,r){return new V(e,r).compare(new V(t,r))}function J(e,t,r){return Y(e,t,r)>0}function Q(e,t,r){return Y(e,t,r)<0}function Z(e,t,r){return 0===Y(e,t,r)}function ee(e,t,r){return 0!==Y(e,t,r)}function te(e,t,r){return Y(e,t,r)>=0}function re(e,t,r){return Y(e,t,r)<=0}function ne(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return Z(e,r,n);case"!=":return ee(e,r,n);case">":return J(e,r,n);case">=":return te(e,r,n);case"<":return Q(e,r,n);case"<=":return re(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function ie(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ie){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ie))return new ie(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===oe?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return X(t,e)},t.major=function(e,t){return new V(e,t).major},t.minor=function(e,t){return new V(e,t).minor},t.patch=function(e,t){return new V(e,t).patch},t.compare=Y,t.compareLoose=function(e,t){return Y(e,t,!0)},t.rcompare=function(e,t,r){return Y(t,e,r)},t.sort=function(e,r){return e.sort((function(e,n){return t.compare(e,n,r)}))},t.rsort=function(e,r){return e.sort((function(e,n){return t.rcompare(e,n,r)}))},t.gt=J,t.lt=Q,t.eq=Z,t.neq=ee,t.gte=te,t.lte=re,t.cmp=ne,t.Comparator=ie;var oe={};function se(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof se)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new se(e.raw,t);if(e instanceof ie)return new se(e.value,t);if(!(this instanceof se))return new se(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function ae(e){return!e||"x"===e.toLowerCase()||"*"===e}function ce(e,t,r,n,i,o,s,a,c,u,l,h,f){return((t=ae(r)?"":ae(n)?">="+r+".0.0":ae(i)?">="+r+"."+n+".0":">="+t)+" "+(a=ae(c)?"":ae(u)?"<"+(+c+1)+".0.0":ae(l)?"<"+c+"."+(+u+1)+".0":h?"<="+c+"."+u+"."+l+"-"+h:"<="+a)).trim()}function ue(e,t,n){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(i=0;i<e.length;i++)if(r(e[i].semver),e[i].semver!==oe&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function le(e,t,r){try{t=new se(t,r)}catch(e){return!1}return t.test(e)}function he(e,t,r,n){var i,o,s,a,c;switch(e=new V(e,n),t=new se(t,n),r){case">":i=J,o=re,s=Q,a=">",c=">=";break;case"<":i=Q,o=te,s=J,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(le(e,t,n))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],h=null,f=null;if(l.forEach((function(e){e.semver===oe&&(e=new ie(">=0.0.0")),h=h||e,f=f||e,i(e.semver,h.semver,n)?h=e:s(e.semver,f.semver,n)&&(f=e)})),h.operator===a||h.operator===c)return!1;if((!f.operator||f.operator===a)&&o(e,f.semver))return!1;if(f.operator===c&&s(e,f.semver))return!1}return!0}ie.prototype.parse=function(e){var t=this.options.loose?o[U]:o[j],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new V(r[2],this.options.loose):this.semver=oe},ie.prototype.toString=function(){return this.value},ie.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===oe||("string"==typeof e&&(e=new V(e,this.options)),ne(e,this.operator,this.semver,this.options))},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new se(e.value,t),le(this.value,r,t);if(""===e.operator)return r=new se(this.value,t),le(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=ne(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=ne(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||i||o&&s||a||c},t.Range=se,se.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},se.prototype.toString=function(){return this.range},se.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?o[$]:o[q];e=e.replace(n,ce),r("hyphen replace",e),e=e.replace(o[H],"$1$2$3"),r("comparator trim",e,o[H]),e=(e=(e=e.replace(o[P],"$1~")).replace(o[L],"$1^")).split(/\s+/).join(" ");var i=t?o[U]:o[j],s=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?o[M]:o[B];return e.replace(n,(function(t,n,i,o,s){var a;return r("caret",e,t,n,i,o,s),ae(n)?a="":ae(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":ae(o)?a="0"===n?">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":">="+n+"."+i+".0 <"+(+n+1)+".0.0":s?(r("replaceCaret pr",s),a="0"===n?"0"===i?">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+"-"+s+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===i?">="+n+"."+i+"."+o+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+" <"+(+n+1)+".0.0"),r("caret return",a),a}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?o[F]:o[O];return e.replace(n,(function(t,n,i,o,s){var a;return r("tilde",e,t,n,i,o,s),ae(n)?a="":ae(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":ae(o)?a=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":s?(r("replaceTilde pr",s),a=">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+(+i+1)+".0"):a=">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0",r("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?o[T]:o[A];return e.replace(n,(function(t,n,i,o,s,a){r("xRange",e,t,n,i,o,s,a);var c=ae(i),u=c||ae(o),l=u||ae(s);return"="===n&&l&&(n=""),c?t=">"===n||"<"===n?"<0.0.0":"*":n&&l?(u&&(o=0),s=0,">"===n?(n=">=",u?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===n&&(n="<",u?i=+i+1:o=+o+1),t=n+i+"."+o+"."+s):u?t=">="+i+".0.0 <"+(+i+1)+".0.0":l&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(o[G],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(i)}))),s=s.map((function(e){return new ie(e,this.options)}),this)},se.prototype.intersects=function(e,t){if(!(e instanceof se))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new se(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},se.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new V(e,this.options));for(var t=0;t<this.set.length;t++)if(ue(this.set[t],e,this.options))return!0;return!1},t.satisfies=le,t.maxSatisfying=function(e,t,r){var n=null,i=null;try{var o=new se(t,r)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(n&&-1!==i.compare(e)||(i=new V(n=e,r)))})),n},t.minSatisfying=function(e,t,r){var n=null,i=null;try{var o=new se(t,r)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(n&&1!==i.compare(e)||(i=new V(n=e,r)))})),n},t.minVersion=function(e,t){e=new se(e,t);var r=new V("0.0.0");if(e.test(r))return r;if(r=new V("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;n<e.set.length;++n){e.set[n].forEach((function(e){var t=new V(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!J(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}if(r&&e.test(r))return r;return null},t.validRange=function(e,t){try{return new se(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return he(e,t,"<",r)},t.gtr=function(e,t,r){return he(e,t,">",r)},t.outside=he,t.prerelease=function(e,t){var r=z(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new se(e,r),t=new se(t,r),e.intersects(t)},t.coerce=function(e){if(e instanceof V)return e;if("string"!=typeof e)return null;var t=e.match(o[R]);if(null==t)return null;return z(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}},function(e,t,r){"use strict";const n=r(0),i=r(48),o=r(160),s=r(360),a="cls@contexts",c=process.env.DEBUG_CLS_HOOKED;let u=-1;function l(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}function h(e){return process.namespaces[e]}function f(e){let t=h(e);i.ok(t,"can't delete nonexistent namespace! \""+e+'"'),i.ok(t.id,"don't assign to process.namespaces directly! "+n.inspect(t)),process.namespaces[e]=null}function p(...e){c&&process._rawDebug(`${n.format(...e)}`)}e.exports={getNamespace:h,createNamespace:function(e){i.ok(e,"namespace must be given a name."),c&&p(`NS-CREATING NAMESPACE (${e})`);let t=new l(e);return t.id=u,s.createHook({init(r,i,o,a){u=s.executionAsyncId();if(t.active){t._contexts.set(r,t.active);if(c){const s=" ".repeat(t._indent<0?0:t._indent);p(`${s}INIT [${i}] (${e}) asyncId:${r} currentUid:${u} triggerId:${o} active:${n.inspect(t.active,{showHidden:true,depth:2,colors:true})} resource:${a}`)}}else if(u===0){const o=s.triggerAsyncId();const l=t._contexts.get(o);if(l){t._contexts.set(r,l);if(c){const s=" ".repeat(t._indent<0?0:t._indent);p(`${s}INIT USING CONTEXT FROM TRIGGERID [${i}] (${e}) asyncId:${r} currentUid:${u} triggerId:${o} active:${n.inspect(t.active,{showHidden:true,depth:2,colors:true})} resource:${a}`)}}else if(c){const s=" ".repeat(t._indent<0?0:t._indent);p(`${s}INIT MISSING CONTEXT [${i}] (${e}) asyncId:${r} currentUid:${u} triggerId:${o} active:${n.inspect(t.active,{showHidden:true,depth:2,colors:true})} resource:${a}`)}}if(c&&i==="PROMISE"){p(n.inspect(a,{showHidden:true}));const s=a.parentId;const c=" ".repeat(t._indent<0?0:t._indent);p(`${c}INIT RESOURCE-PROMISE [${i}] (${e}) parentId:${s} asyncId:${r} currentUid:${u} triggerId:${o} active:${n.inspect(t.active,{showHidden:true,depth:2,colors:true})} resource:${a}`)}},before(r){u=s.executionAsyncId();let i;i=t._contexts.get(r)||t._contexts.get(u);if(i){if(c){const o=s.triggerAsyncId();const a=" ".repeat(t._indent<0?0:t._indent);p(`${a}BEFORE (${e}) asyncId:${r} currentUid:${u} triggerId:${o} active:${n.inspect(t.active,{showHidden:true,depth:2,colors:true})} context:${n.inspect(i)}`);t._indent+=2}t.enter(i)}else if(c){const i=s.triggerAsyncId();const o=" ".repeat(t._indent<0?0:t._indent);p(`${o}BEFORE MISSING CONTEXT (${e}) asyncId:${r} currentUid:${u} triggerId:${i} active:${n.inspect(t.active,{showHidden:true,depth:2,colors:true})} namespace._contexts:${n.inspect(t._contexts,{showHidden:true,depth:2,colors:true})}`);t._indent+=2}},after(r){u=s.executionAsyncId();let i;i=t._contexts.get(r)||t._contexts.get(u);if(i){if(c){const o=s.triggerAsyncId();t._indent-=2;const a=" ".repeat(t._indent<0?0:t._indent);p(`${a}AFTER (${e}) asyncId:${r} currentUid:${u} triggerId:${o} active:${n.inspect(t.active,{showHidden:true,depth:2,colors:true})} context:${n.inspect(i)}`)}t.exit(i)}else if(c){const o=s.triggerAsyncId();t._indent-=2;const a=" ".repeat(t._indent<0?0:t._indent);p(`${a}AFTER MISSING CONTEXT (${e}) asyncId:${r} currentUid:${u} triggerId:${o} active:${n.inspect(t.active,{showHidden:true,depth:2,colors:true})} context:${n.inspect(i)}`)}},destroy(r){u=s.executionAsyncId();if(c){const i=s.triggerAsyncId();const o=" ".repeat(t._indent<0?0:t._indent);p(`${o}DESTROY (${e}) currentUid:${u} asyncId:${r} triggerId:${i} active:${n.inspect(t.active,{showHidden:true,depth:2,colors:true})} context:${n.inspect(t._contexts.get(u))}`)}t._contexts.delete(r)}}).enable(),process.namespaces[e]=t,t},destroyNamespace:f,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){f(e)}));process.namespaces=Object.create(null)},ERROR_SYMBOL:"error@context"},l.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");if(this.active[e]=t,c){p(" ".repeat(this._indent<0?0:this._indent)+"CONTEXT-SET KEY:"+e+"="+t+" in ns:"+this.name+" currentUid:"+u+" active:"+n.inspect(this.active,{showHidden:!0,depth:2,colors:!0}))}return t},l.prototype.get=function(e){if(this.active){if(c){const t=s.executionAsyncId(),r=s.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);p(i+"CONTEXT-GETTING KEY:"+e+"="+this.active[e]+" ("+this.name+") currentUid:"+u+" active:"+n.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),p(`${i}CONTEXT-GETTING KEY: (${this.name}) ${e}=${this.active[e]} currentUid:${u} asyncHooksCurrentId:${t} triggerId:${r} len:${this._set.length} active:${n.inspect(this.active)}`)}return this.active[e]}if(c){const t=s.currentId(),r=s.triggerAsyncId();p(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${e}=undefined currentUid:${u} asyncHooksCurrentId:${t} triggerId:${r} len:${this._set.length}`)}},l.prototype.createContext=function(){let e=Object.create(this.active?this.active:Object.prototype);if(e._ns_name=this.name,e.id=u,c){const t=s.executionAsyncId(),r=s.triggerAsyncId();p(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-CREATED Context: (${this.name}) currentUid:${u} asyncHooksCurrentId:${t} triggerId:${r} len:${this._set.length} context:${n.inspect(e,{showHidden:!0,depth:2,colors:!0})}`)}return e},l.prototype.run=function(e){let t=this.createContext();this.enter(t);try{if(c){const e=s.triggerAsyncId(),r=s.executionAsyncId();p(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${u} triggerId:${e} asyncHooksCurrentId:${r} len:${this._set.length} context:${n.inspect(t)}`)}return e(t),t}catch(e){throw e&&(e["error@context"]=t),e}finally{if(c){const e=s.triggerAsyncId(),r=s.executionAsyncId();p(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN END: (${this.name}) currentUid:${u} triggerId:${e} asyncHooksCurrentId:${r} len:${this._set.length} ${n.inspect(t)}`)}this.exit(t)}},l.prototype.runAndReturn=function(e){let t;return this.run((function(r){t=e(r)})),t},l.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let r=e(t);if(!r||!r.then||!r.catch)throw new Error("fn must return a promise.");return c&&p("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+n.inspect(t)),r.then(e=>(c&&p("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t),e)).catch(e=>{throw e["error@context"]=t,c&&p("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t),e})},l.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let r=this;return function(){r.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e["error@context"]=t),e}finally{r.exit(t)}}},l.prototype.enter=function(e){if(i.ok(e,"context must be provided for entering"),c){const t=s.executionAsyncId(),r=s.triggerAsyncId();p(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-ENTER: (${this.name}) currentUid:${u} triggerId:${r} asyncHooksCurrentId:${t} len:${this._set.length} ${n.inspect(e)}`)}this._set.push(this.active),this.active=e},l.prototype.exit=function(e){if(i.ok(e,"context must be provided for exiting"),c){const t=s.executionAsyncId(),r=s.triggerAsyncId();p(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-EXIT: (${this.name}) currentUid:${u} triggerId:${r} asyncHooksCurrentId:${t} len:${this._set.length} ${n.inspect(e)}`)}if(this.active===e)return i.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(c&&p("??ERROR?? context exiting but not entered - ignoring: "+n.inspect(e)),i.ok(t>=0,"context not currently entered; can't exit. \n"+n.inspect(this)+"\n"+n.inspect(e))):(i.ok(t,"can't remove top context"),this._set.splice(t,1))},l.prototype.bindEmitter=function(e){i.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,r="context@"+this.name;o(e,(function(e){e&&(e[a]||(e[a]=Object.create(null)),e[a][r]={namespace:t,context:t.active})}),(function(e){if(!e||!e[a])return e;let t=e,r=e[a];return Object.keys(r).forEach((function(e){let n=r[e];t=n.namespace.bind(t,n.context)})),t}))},l.prototype.fromException=function(e){return e["error@context"]},process.namespaces={}},function(e,t){e.exports=require("async_hooks")},function(e,t,r){"use strict";const n=r(0),i=r(48),o=r(160),s=r(362),a="cls@contexts",c=[];for(let e in s.providers)c[s.providers[e]]=e;const u=process.env.DEBUG_CLS_HOOKED;let l=-1;function h(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map}function f(e){return process.namespaces[e]}function p(e){let t=f(e);i.ok(t,"can't delete nonexistent namespace! \""+e+'"'),i.ok(t.id,"don't assign to process.namespaces directly! "+n.inspect(t)),process.namespaces[e]=null}function d(e){process.env.DEBUG&&process._rawDebug(e)}function m(e){return e?"function"==typeof e?e.name?e.name:(e.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1]:e.constructor&&e.constructor.name?e.constructor.name:void 0:e}if(e.exports={getNamespace:f,createNamespace:function(e){i.ok(e,"namespace must be given a name."),u&&d("CREATING NAMESPACE "+e);let t=new h(e);return t.id=l,s.addHooks({init(r,i,o,s,a){l=r,s?(t._contexts.set(r,t._contexts.get(s)),u&&d("PARENTID: "+e+" uid:"+r+" parent:"+s+" provider:"+o)):t._contexts.set(l,t.active),u&&d("INIT "+e+" uid:"+r+" parent:"+s+" provider:"+c[o]+" active:"+n.inspect(t.active,!0))},pre(r,i){l=r;let o=t._contexts.get(r);o?(u&&d(" PRE "+e+" uid:"+r+" handle:"+m(i)+" context:"+n.inspect(o)),t.enter(o)):u&&d(" PRE MISSING CONTEXT "+e+" uid:"+r+" handle:"+m(i))},post(r,i){l=r;let o=t._contexts.get(r);o?(u&&d(" POST "+e+" uid:"+r+" handle:"+m(i)+" context:"+n.inspect(o)),t.exit(o)):u&&d(" POST MISSING CONTEXT "+e+" uid:"+r+" handle:"+m(i))},destroy(r){l=r,u&&d("DESTROY "+e+" uid:"+r+" context:"+n.inspect(t._contexts.get(l))+" active:"+n.inspect(t.active,!0)),t._contexts.delete(r)}}),process.namespaces[e]=t,t},destroyNamespace:p,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){p(e)}));process.namespaces=Object.create(null)},ERROR_SYMBOL:"error@context"},h.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return u&&d("    SETTING KEY:"+e+"="+t+" in ns:"+this.name+" uid:"+l+" active:"+n.inspect(this.active,!0)),this.active[e]=t,t},h.prototype.get=function(e){if(this.active)return u&&d("    GETTING KEY:"+e+"="+this.active[e]+" "+this.name+" uid:"+l+" active:"+n.inspect(this.active,!0)),this.active[e];u&&d("    GETTING KEY:"+e+"=undefined "+this.name+" uid:"+l+" active:"+n.inspect(this.active,!0))},h.prototype.createContext=function(){u&&d("   CREATING Context: "+this.name+" uid:"+l+" len:"+this._set.length+"  active:"+n.inspect(this.active,!0,2,!0));let e=Object.create(this.active?this.active:Object.prototype);return e._ns_name=this.name,e.id=l,u&&d("   CREATED Context: "+this.name+" uid:"+l+" len:"+this._set.length+"  context:"+n.inspect(e,!0,2,!0)),e},h.prototype.run=function(e){let t=this.createContext();this.enter(t);try{return u&&d(" BEFORE RUN: "+this.name+" uid:"+l+" len:"+this._set.length+" "+n.inspect(t)),e(t),t}catch(e){throw e&&(e["error@context"]=t),e}finally{u&&d(" AFTER RUN: "+this.name+" uid:"+l+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t)}},h.prototype.runAndReturn=function(e){var t;return this.run((function(r){t=e(r)})),t},h.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let r=e(t);if(!r||!r.then||!r.catch)throw new Error("fn must return a promise.");return u&&d(" BEFORE runPromise: "+this.name+" uid:"+l+" len:"+this._set.length+" "+n.inspect(t)),r.then(e=>(u&&d(" AFTER runPromise: "+this.name+" uid:"+l+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t),e)).catch(e=>{throw e["error@context"]=t,u&&d(" AFTER runPromise: "+this.name+" uid:"+l+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t),e})},h.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let r=this;return function(){r.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e["error@context"]=t),e}finally{r.exit(t)}}},h.prototype.enter=function(e){i.ok(e,"context must be provided for entering"),u&&d("  ENTER "+this.name+" uid:"+l+" len:"+this._set.length+" context: "+n.inspect(e)),this._set.push(this.active),this.active=e},h.prototype.exit=function(e){if(i.ok(e,"context must be provided for exiting"),u&&d("  EXIT "+this.name+" uid:"+l+" len:"+this._set.length+" context: "+n.inspect(e)),this.active===e)return i.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(u&&d("??ERROR?? context exiting but not entered - ignoring: "+n.inspect(e)),i.ok(t>=0,"context not currently entered; can't exit. \n"+n.inspect(this)+"\n"+n.inspect(e))):(i.ok(t,"can't remove top context"),this._set.splice(t,1))},h.prototype.bindEmitter=function(e){i.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,r="context@"+this.name;o(e,(function(e){e&&(e[a]||(e[a]=Object.create(null)),e[a][r]={namespace:t,context:t.active})}),(function(e){if(!e||!e[a])return e;let t=e,r=e[a];return Object.keys(r).forEach((function(e){let n=r[e];t=n.namespace.bind(t,n.context)})),t}))},h.prototype.fromException=function(e){return e["error@context"]},process.namespaces={},s._state&&!s._state.enabled&&s.enable(),u){var g=r(221);for(var v in g.filter._modifiers)g.filter.deattach(v)}},function(e,t,r){"use strict";const n=r(363);if(global._asyncHook){if(global._asyncHook.version!==r(220).version)throw new Error("Conflicting version of async-hook-jl found");e.exports=global._asyncHook}else{r(221).filter.attach((function(e,t){return t.filter((function(e){const t=e.getFileName();return!(t&&t.slice(0,__dirname.length)===__dirname)}))})),e.exports=global._asyncHook=new n}},function(e,t,r){"use strict";const n=process.binding("async_wrap"),i=n.Providers.TIMERWRAP,o={nextTick:r(364),promise:r(365),timers:r(366)},s=new Set;function a(){this.enabled=!1,this.counter=0}function c(){const e=this.initFns=[],t=this.preFns=[],r=this.postFns=[],n=this.destroyFns=[];this.init=function(t,r,n,o){if(r!==i)for(const i of e)i(t,this,r,n,o);else s.add(t)},this.pre=function(e){if(!s.has(e))for(const r of t)r(e,this)},this.post=function(e,t){if(!s.has(e))for(const n of r)n(e,this,t)},this.destroy=function(e){if(s.has(e))s.delete(e);else for(const t of n)t(e)}}function u(e,t){const r=e.indexOf(t);-1!==r&&e.splice(r,1)}function l(){this._state=new a,this._hooks=new c,this.version=r(220).version,this.providers=n.Providers;for(const e of Object.keys(o))o[e].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),n.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}c.prototype.add=function(e){e.init&&this.initFns.push(e.init),e.pre&&this.preFns.push(e.pre),e.post&&this.postFns.push(e.post),e.destroy&&this.destroyFns.push(e.destroy)},c.prototype.remove=function(e){e.init&&u(this.initFns,e.init),e.pre&&u(this.preFns,e.pre),e.post&&u(this.postFns,e.post),e.destroy&&u(this.destroyFns,e.destroy)},e.exports=l,l.prototype.addHooks=function(e){this._hooks.add(e)},l.prototype.removeHooks=function(e){this._hooks.remove(e)},l.prototype.enable=function(){this._state.enabled=!0,n.enable()},l.prototype.disable=function(){this._state.enabled=!1,n.disable()}},function(e,t,r){"use strict";function n(){}e.exports=function(){const e=this._hooks,t=this._state,r=process.nextTick;process.nextTick=function(){if(!t.enabled)return r.apply(process,arguments);const i=new Array(arguments.length);for(let e=0;e<arguments.length;e++)i[e]=arguments[e];const o=i[0];if("function"!=typeof o)throw new TypeError("callback is not a function");const s=new n,a=--t.counter;return e.init.call(s,a,0,null,null),i[0]=function(){e.pre.call(s,a);let t=!0;try{o.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(s,a,!0),e.destroy.call(null,a)}))}e.post.call(s,a,!1),e.destroy.call(null,a)},r.apply(process,i)}}},function(e,t,r){"use strict";function n(){}e.exports=function(){const e=this._hooks,t=this._state,r=global.Promise,i=r.prototype.then;function o(t,r,n,i){return"function"!=typeof t?i?function(t){return function(r){return e.destroy.call(null,t),r}}(n):function(t){return function(r){throw e.destroy.call(null,t),r}}(n):function(){e.pre.call(r,n);try{return t.apply(this,arguments)}finally{e.post.call(r,n,!1),e.destroy.call(null,n)}}}r.prototype.then=function(r,s){if(!t.enabled)return i.call(this,r,s);const a=new n,c=--t.counter;return e.init.call(a,c,0,null,null),i.call(this,o(r,a,c,!0),o(s,a,c,!1))}}},function(e,t,r){"use strict";const n=r(219);function i(){}function o(){}function s(){}const a=new Map,c=new Map,u=new Map;let l=null,h=!1;function f(e,t,r,i,o,s,a){const c=n[r],u=n[i];n[r]=function(){if(!t.enabled)return c.apply(n,arguments);const r=new Array(arguments.length);for(let e=0;e<arguments.length;e++)r[e]=arguments[e];const i=r[0];if("function"!=typeof i)throw new TypeError('"callback" argument must be a function');const u=new o,f=--t.counter;let p=void 0;return e.init.call(u,f,0,null,null),r[0]=function(){l=p,e.pre.call(u,f);let t=!0;try{i.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(u,f,!0),s.delete(p),e.destroy.call(null,f)}))}e.post.call(u,f,!1),l=null,(a||h)&&(h=!1,s.delete(p),e.destroy.call(null,f))},p=c.apply(n,r),s.set(p,f),p},n[i]=function(t){if(l===t&&null!==t)h=!0;else if(s.has(t)){const r=s.get(t);s.delete(t),e.destroy.call(null,r)}u.apply(n,arguments)}}e.exports=function(){f(this._hooks,this._state,"setTimeout","clearTimeout",i,a,!0),f(this._hooks,this._state,"setInterval","clearInterval",o,c,!1),f(this._hooks,this._state,"setImmediate","clearImmediate",s,u,!0),global.setTimeout=n.setTimeout,global.setInterval=n.setInterval,global.setImmediate=n.setImmediate,global.clearTimeout=n.clearTimeout,global.clearInterval=n.clearInterval,global.clearImmediate=n.clearImmediate}},function(e,t,r){var n=r(368);function i(){this.extend=new a,this.filter=new a,this.format=new c,this.version=r(222).version}var o=!1;i.prototype.callSite=function e(t){t||(t={}),o=!0;var r={};Error.captureStackTrace(r,e);var n=r.stack;return o=!1,n=n.slice(t.slice||0),t.extend&&(n=this.extend._modify(r,n)),t.filter&&(n=this.filter._modify(r,n)),n};var s=new i;function a(){this._modifiers=[]}function c(){this._formater=n,this._previous=void 0}a.prototype._modify=function(e,t){for(var r=0,n=this._modifiers.length;r<n;r++)t=this._modifiers[r](e,t);return t},a.prototype.attach=function(e){this._modifiers.push(e)},a.prototype.deattach=function(e){var t=this._modifiers.indexOf(e);return-1!==t&&(this._modifiers.splice(t,1),!0)},c.prototype.replace=function(e){e?this._formater=e:this.restore()},c.prototype.restore=function(){this._formater=n,this._previous=void 0},c.prototype._backup=function(){this._previous=this._formater},c.prototype._roolback=function(){this._previous===n?this.replace(void 0):this.replace(this._previous),this._previous=void 0},Error.prepareStackTrace&&s.format.replace(Error.prepareStackTrace);var u=!1;function l(e,t){if(o)return t;if(u)return n(e,t);var r=t.concat();r=s.extend._modify(e,r),r=(r=s.filter._modify(e,r)).slice(0,Error.stackTraceLimit),Object.isExtensible(e)&&void 0===Object.getOwnPropertyDescriptor(e,"callSite")&&(e.callSite={original:t,mutated:r}),u=!0;var i=s.format._formater(e,r);return u=!1,i}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return l},set:function(e){e===l?s.format._roolback():(s.format._backup(),s.format.replace(e))}}),Object.defineProperty(Error.prototype,"callSite",{get:function(){return this.stack,this.callSite},set:function(e){Object.defineProperty(this,"callSite",{value:e,writable:!0,configurable:!0})},configurable:!0}),e.exports=s},function(e,t){e.exports=function(e,t){var r=[];r.push(function(e){try{return Error.prototype.toString.call(e)}catch(e){try{return"<error: "+e+">"}catch(e){return"<error>"}}}(e));for(var n=0;n<t.length;n++){var i,o=t[n];try{i=o.toString()}catch(e){try{i="<error: "+e+">"}catch(e){i="<error>"}}r.push("    at "+i)}return r.join("\n")}},function(e,t,r){"use strict";var n=r(48),i=r(160),o="cls@contexts";function s(e){this.name=e,this.active=null,this._set=[],this.id=null}function a(e){return process.namespaces[e]}function c(e){var t=a(e);n.ok(t,"can't delete nonexistent namespace!"),n.ok(t.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(t.id),process.namespaces[e]=null}function u(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){c(e)})),process.namespaces=Object.create(null)}process.addAsyncListener||r(370),s.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,t},s.prototype.get=function(e){if(this.active)return this.active[e]},s.prototype.createContext=function(){return Object.create(this.active)},s.prototype.run=function(e){var t=this.createContext();this.enter(t);try{return e(t),t}catch(e){throw e&&(e["error@context"]=t),e}finally{this.exit(t)}},s.prototype.runAndReturn=function(e){var t;return this.run((function(r){t=e(r)})),t},s.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());var r=this;return function(){r.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e["error@context"]=t),e}finally{r.exit(t)}}},s.prototype.enter=function(e){n.ok(e,"context must be provided for entering"),this._set.push(this.active),this.active=e},s.prototype.exit=function(e){if(n.ok(e,"context must be provided for exiting"),this.active===e)return n.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());var t=this._set.lastIndexOf(e);n.ok(t>=0,"context not currently entered; can't exit"),n.ok(t,"can't remove top context"),this._set.splice(t,1)},s.prototype.bindEmitter=function(e){n.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");var t=this,r="context@"+this.name;i(e,(function(e){e&&(e[o]||(e[o]=Object.create(null)),e[o][r]={namespace:t,context:t.active})}),(function(e){if(!e||!e[o])return e;var t=e,r=e[o];return Object.keys(r).forEach((function(e){var n=r[e];t=n.namespace.bind(t,n.context)})),t}))},s.prototype.fromException=function(e){return e["error@context"]},process.namespaces||u(),e.exports={getNamespace:a,createNamespace:function(e){n.ok(e,"namespace must be given a name!");var t=new s(e);return t.id=process.addAsyncListener({create:function(){return t.active},before:function(e,r){r&&t.enter(r)},after:function(e,r){r&&t.exit(r)},error:function(e){e&&t.exit(e)}}),process.namespaces[e]=t,t},destroyNamespace:c,reset:u}},function(e,t,r){"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var n=r(161),i=r(217),o=n.wrap,s=n.massWrap,a=r(371),c=r(0),u=i.gte(process.version,"6.0.0"),l=i.gte(process.version,"7.0.0"),h=i.gte(process.version,"8.0.0"),f=i.gte(process.version,"11.0.0"),p=r(33);function d(e){return function(){this.on("connection",(function(e){e._handle&&(e._handle.onread=a(e._handle.onread))}));try{return e.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=a(this._handle.onconnection))}}}function m(e){if(e&&e._handle){var t=e._handle;t._originalOnread||(t._originalOnread=t.onread),t.onread=a(t._originalOnread)}}l&&!p._normalizeArgs?p._normalizeArgs=function(e){if(0===e.length)return[{},null];var t,r,n=e[0],i={};"object"==typeof n&&null!==n?i=n:"string"==typeof(t=n)&&!1===(r=t,(r=Number(r))>=0&&r)?i.path=n:(i.port=n,e.length>1&&"string"==typeof e[1]&&(i.host=e[1]));var o=e[e.length-1];return"function"!=typeof o?[i,null]:[i,o]}:l||p._normalizeConnectArgs||(p._normalizeConnectArgs=function(e){var t,r={};"object"==typeof e[0]&&null!==e[0]?r=e[0]:"string"==typeof e[0]&&!1===(t=e[0],(t=Number(t))>=0&&t)?r.path=e[0]:(r.port=e[0],"string"==typeof e[1]&&(r.host=e[1]));var n=e[e.length-1];return"function"==typeof n?[r,n]:[r]}),"_setUpListenHandle"in p.Server.prototype?o(p.Server.prototype,"_setUpListenHandle",d):o(p.Server.prototype,"_listen2",d),o(p.Socket.prototype,"connect",(function(e){return function(){var t;(t=h&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?arguments[0]:l?p._normalizeArgs(arguments):p._normalizeConnectArgs(arguments))[1]&&(t[1]=a(t[1]));var r=e.apply(this,t);return m(this),r}}));var g=r(10);o(g.Agent.prototype,"addRequest",(function(e){return function(t){var r=t.onSocket;return t.onSocket=a((function(e){return m(e),r.apply(this,arguments)})),e.apply(this,arguments)}}));var v=r(28);function y(e){Array.isArray(e.stdio)&&e.stdio.forEach((function(e){e&&e._handle&&(e._handle.onread=a(e._handle.onread),o(e._handle,"close",P))})),e._handle&&(e._handle.onexit=a(e._handle.onexit))}v.ChildProcess?o(v.ChildProcess.prototype,"spawn",(function(e){return function(){var t=e.apply(this,arguments);return y(this),t}})):s(v,["execFile","fork","spawn"],(function(e){return function(){var t=e.apply(this,arguments);return y(t),t}})),process._fatalException||(process._originalNextTick=process.nextTick);var w=[];process._nextDomainTick&&w.push("_nextDomainTick"),process._tickDomainCallback&&w.push("_tickDomainCallback"),s(process,w,I),o(process,"nextTick",P);var b=["setTimeout","setInterval"];global.setImmediate&&b.push("setImmediate");var E=r(219),_=global.setTimeout===E.setTimeout;s(E,b,P),_&&s(global,b,P);var C=r(173);s(C,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],I),C.resolveNaptr&&o(C,"resolveNaptr",I);var S,k,x=r(3);s(x,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],I),x.lchown&&o(x,"lchown",I),x.lchmod&&o(x,"lchmod",I),x.ftruncate&&o(x,"ftruncate",I);try{S=r(81)}catch(e){}if(S&&S.Deflate&&S.Deflate.prototype){var D=Object.getPrototypeOf(S.Deflate.prototype);D._transform?o(D,"_transform",I):D.write&&D.flush&&D.end&&s(D,["write","flush","end"],I)}try{k=r(15)}catch(e){}if(k){var A=["pbkdf2","randomBytes"];f||A.push("pseudoRandomBytes"),s(k,A,I)}var T=!!global.Promise&&"function Promise() { [native code] }"===Promise.toString()&&"function toString() { [native code] }"===Promise.toString.toString();if(T){var R=process.addAsyncListener({create:function(){T=!1}});global.Promise.resolve(!0).then((function(){T=!1})),process.removeAsyncListener(R)}function I(e){var t=function(){var t,r=arguments.length-1;if("function"==typeof arguments[r]){t=Array(arguments.length);for(var n=0;n<arguments.length-1;n++)t[n]=arguments[n];t[r]=a(arguments[r])}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(r){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r))};case 2:return function(r,n){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,r,n))};case 3:return function(r,n,i){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof i&&(i=a(i)),e.call(this,r,n,i))};case 4:return function(r,n,i,o){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof o&&(o=a(o)),e.call(this,r,n,i,o))};case 5:return function(r,n,i,o,s){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof s&&(s=a(s)),e.call(this,r,n,i,o,s))};case 6:return function(r,n,i,o,s,c){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof c&&(c=a(c)),e.call(this,r,n,i,o,s,c))};default:return t}}function P(e){var t=function(){var t;if("function"==typeof arguments[0]){(t=Array(arguments.length))[0]=a(arguments[0]);for(var r=1;r<arguments.length;r++)t[r]=arguments[r]}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(r){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r))};case 2:return function(r,n){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r,n))};case 3:return function(r,n,i){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r,n,i))};case 4:return function(r,n,i,o){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r,n,i,o))};case 5:return function(r,n,i,o,s){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r,n,i,o,s))};case 6:return function(r,n,i,o,s,c){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r,n,i,o,s,c))};default:return t}}T&&function(){var e=global.Promise;function t(r){if(!(this instanceof t))return e(r);if("function"!=typeof r)return new e(r);var i,o,s=new e((function(e,t){i=this,o=[function(t){return n(s,!1),e(t)},function(e){return n(s,!1),t(e)}]}));s.__proto__=t.prototype;try{r.apply(i,o)}catch(e){o[1](e)}return s}c.inherits(t,e),o(e.prototype,"then",s),e.prototype.chain&&o(e.prototype,"chain",s);if(u)global.Promise=r(372)(e,n);else{["all","race","reject","resolve","accept","defer"].forEach((function(r){"function"==typeof e[r]&&(t[r]=e[r])})),global.Promise=t}function n(e,t){e.__asl_wrapper&&!t||(e.__asl_wrapper=a(i))}function i(t,r,o,s){var a;try{return{returnVal:a=r.call(t,o),error:!1}}catch(e){return{errorVal:e,error:!0}}finally{a instanceof e?s.__asl_wrapper=function(){var e=a.__asl_wrapper||i;return e.apply(this,arguments)}:n(s,!0)}}function s(e){return function(){var t=this,r=e.apply(t,Array.prototype.map.call(arguments,n));return r.__asl_wrapper=function(e,n,o,s){return t.__asl_wrapper?(t.__asl_wrapper(e,(function(){}),null,r),r.__asl_wrapper(e,n,o,s)):i(e,n,o,s)},r;function n(e){return"function"!=typeof e?e:a((function(n){var o=(t.__asl_wrapper||i)(this,e,n,r);if(o.error)throw o.errorVal;return o.returnVal}))}}}}()},function(e,t,r){var n,i,o=r(161).wrap,s=1,a=2,c=4,u=8,l=[],h=0,f=!1,p=[];function d(e,t){var r=e.length,n=t.length,i=[];if(0===r&&0===n)return i;for(var o=0;o<r;o++)i[o]=e[o];if(0===n)return i;for(var s=0;s<n;s++){var a=!0;for(o=0;o<r;o++)if(e[o].uid===t[s].uid){a=!1;break}a&&i.push(t[s])}return i}if(process._fatalException){var m,g=!1;n=function(e){var t=l.length;if(g||0===t)return!1;var r=!1;g=!0;for(var n=0;n<t;++n){var i=l[n];if(0!=(i.flags&u)){var o=m&&m[i.uid];r=i.error(o,e)||r}}return g=!1,p.length>0&&(l=p.pop()),m=void 0,r&&!f},i=function(e,t,r){var n=[];f=!0;for(var i=0;i<r;++i){var o=t[i];if(n[o.uid]=o.data,0!=(o.flags&s)){var u=o.create(o.data);void 0!==u&&(n[o.uid]=u)}}return f=!1,function(){m=n,p.push(l),l=d(t,l),f=!0;for(var i=0;i<r;++i)(t[i].flags&a)>0&&t[i].before(this,n[t[i].uid]);f=!1;var o=e.apply(this,arguments);for(f=!0,i=0;i<r;++i)(t[i].flags&c)>0&&t[i].after(this,n[t[i].uid]);return f=!1,l=p.pop(),m=void 0,o}},o(process,"_fatalException",(function(e){return function(t){return n(t)||e(t)}}))}else{var v=!1;n=function(e){if(v)throw e;for(var t=!1,r=l.length,n=0;n<r;++n){var i=l[n];0!=(i.flags&u)&&(t=i.error(null,e)||t)}if(!t&&f)throw e},i=function(e,t,r){var i=[];f=!0;for(var o=0;o<r;++o){var h=t[o];if(i[h.uid]=h.data,0!=(h.flags&s)){var m=h.create(h.data);void 0!==m&&(i[h.uid]=m)}}return f=!1,function(){var o,s=!1,h=!1;p.push(l),l=d(t,l),f=!0;for(var m=0;m<r;++m)(t[m].flags&a)>0&&t[m].before(this,i[t[m].uid]);f=!1;try{o=e.apply(this,arguments)}catch(e){s=!0;for(m=0;m<r;++m)if(0!=(l[m].flags&u))try{h=l[m].error(i[t[m].uid],e)||h}catch(e){throw v=!0,e}if(!h)throw process.removeListener("uncaughtException",n),process._originalNextTick((function(){process.addListener("uncaughtException",n)})),e}finally{if(!s||h){for(f=!0,m=0;m<r;++m)(t[m].flags&c)>0&&t[m].after(this,i[t[m].uid]);f=!1}l=p.pop()}return o}},process.addListener("uncaughtException",n)}function y(e,t){"function"==typeof e.create&&(this.create=e.create,this.flags|=s),"function"==typeof e.before&&(this.before=e.before,this.flags|=a),"function"==typeof e.after&&(this.after=e.after,this.flags|=c),"function"==typeof e.error&&(this.error=e.error,this.flags|=u),this.uid=++h,this.data=void 0===t?null:t}function w(e,t){if("object"!=typeof e||!e)throw new TypeError("callbacks argument must be an object");return e instanceof y?e:new y(e,t)}y.prototype.create=void 0,y.prototype.before=void 0,y.prototype.after=void 0,y.prototype.error=void 0,y.prototype.data=void 0,y.prototype.uid=0,y.prototype.flags=0,process.createAsyncListener=w,process.addAsyncListener=function(e,t){var r;r=e instanceof y?e:w(e,t);for(var n=!1,i=0;i<l.length;i++)if(r===l[i]){n=!0;break}return n||l.push(r),r},process.removeAsyncListener=function(e){for(var t=0;t<l.length;t++)if(e===l[t]){l.splice(t,1);break}},e.exports=function(e){var t=l.length;if(0===t)return e;for(var r=l.slice(),n=0;n<t;++n)if(r[n].flags>0)return i(e,r,t);return function(e,t,r){f=!0;for(var n=0;n<r;++n){var i=t[n];i.create&&i.create(i.data)}return f=!1,function(){p.push(l),l=d(t,l);var r=e.apply(this,arguments);return l=p.pop(),r}}(e,r,t)}},function(e,t,r){"use strict";e.exports=(e,t)=>(class extends e{constructor(e){var r,n;super((function(e,o){r=this,n=[function(r){return t(i,!1),e(r)},function(e){return t(i,!1),o(e)}]}));var i=this;try{e.apply(r,n)}catch(e){n[1](e)}return i}})},function(e,t,r){"use strict";var n=r(159),i=function(){function e(t){if(e.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=t,e.INSTANCE=this}return e.prototype.enable=function(e,t){n.IsInitialized&&(r(374).enable(e&&t,this._client),r(392).enable(e,this._client),r(393).enable(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1,!1)},e._methodNames=["debug","info","log","warn","error"],e}();e.exports=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(24),i=r(12),o=[],s=function(e){o.forEach((function(t){var r=e.data.message;r.lastIndexOf("\n")==r.length-1&&(r=r.substring(0,r.length-1)),t.trackTrace({message:r,severity:e.data.stderr?n.SeverityLevel.Warning:n.SeverityLevel.Information})}))};t.enable=function(e,t){e?(0===o.length&&i.channel.subscribe("console",s),o.push(t)):0===(o=o.filter((function(e){return e!=t}))).length&&i.channel.unsubscribe("console",s)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(223),i=function(){function e(){}return e.TYPE_HTTP="Http",e.TYPE_AI="Http (tracked component)",e}();t.RemoteDependencyDataConstants=i,t.domainSupportsProperties=function(e){return"properties"in e||e instanceof n.EventData||e instanceof n.ExceptionData||e instanceof n.MessageData||e instanceof n.MetricData||e instanceof n.PageViewData||e instanceof n.RemoteDependencyData||e instanceof n.RequestData}},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(r(36));e.exports=o},function(e,t,r){"use strict";var n=function(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"};e.exports=n},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=function(e){function t(){return e.call(this)||this}return i(t,e),t}(r(224));e.exports=o},function(e,t,r){"use strict";var n=r(225),i=function(){this.kind=n.Measurement};e.exports=i},function(e,t,r){"use strict";var n=function(){this.ver=1,this.sampleRate=100,this.tags={}};e.exports=n},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.exceptions=[],t.properties={},t.measurements={},t}return i(t,e),t}(r(36));e.exports=o},function(e,t,r){"use strict";var n=function(){this.hasFullStack=!0,this.parsedStack=[]};e.exports=n},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t}return i(t,e),t}(r(36));e.exports=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.metrics=[],t.properties={},t}return i(t,e),t}(r(36));e.exports=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(r(226));e.exports=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.success=!0,t.properties={},t.measurements={},t}return i(t,e),t}(r(36));e.exports=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(r(36));e.exports=o},function(e,t,r){"use strict";var n;!function(e){e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"}(n||(n={})),e.exports=n},function(e,t,r){"use strict";var n=function(){};e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(391))},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.telemetryTypeToBaseType=function(e){switch(e){case n.Event:return"EventData";case n.Exception:return"ExceptionData";case n.Trace:return"MessageData";case n.Metric:return"MetricData";case n.Request:return"RequestData";case n.Dependency:return"RemoteDependencyData"}},t.baseTypeToTelemetryType=function(e){switch(e){case"EventData":return n.Event;case"ExceptionData":return n.Exception;case"MessageData":return n.Trace;case"MetricData":return n.Metric;case"RequestData":return n.Request;case"RemoteDependencyData":return n.Dependency}},t.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData"},function(e){e[e.Event=0]="Event",e[e.Exception=1]="Exception",e[e.Trace=2]="Trace",e[e.Metric=3]="Metric",e[e.Request=4]="Request",e[e.Dependency=5]="Dependency"}(n=t.TelemetryType||(t.TelemetryType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(24),i=r(12),o=[],s={10:n.SeverityLevel.Verbose,20:n.SeverityLevel.Verbose,30:n.SeverityLevel.Information,40:n.SeverityLevel.Warning,50:n.SeverityLevel.Error,60:n.SeverityLevel.Critical},a=function(e){o.forEach((function(t){var r=s[e.data.level];t.trackTrace({message:e.data.result,severity:r})}))};t.enable=function(e,t){e?(0===o.length&&i.channel.subscribe("bunyan",a),o.push(t)):0===(o=o.filter((function(e){return e!=t}))).length&&i.channel.unsubscribe("bunyan",a)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(24),i=r(12),o=[],s={syslog:function(e){var t={emerg:n.SeverityLevel.Critical,alert:n.SeverityLevel.Critical,crit:n.SeverityLevel.Critical,error:n.SeverityLevel.Error,warning:n.SeverityLevel.Warning,notice:n.SeverityLevel.Information,info:n.SeverityLevel.Information,debug:n.SeverityLevel.Verbose};return void 0===t[e]?n.SeverityLevel.Information:t[e]},npm:function(e){var t={error:n.SeverityLevel.Error,warn:n.SeverityLevel.Warning,info:n.SeverityLevel.Information,verbose:n.SeverityLevel.Verbose,debug:n.SeverityLevel.Verbose,silly:n.SeverityLevel.Verbose};return void 0===t[e]?n.SeverityLevel.Information:t[e]},unknown:function(e){return n.SeverityLevel.Information}},a=function(e){o.forEach((function(t){var r=s[e.data.levelKind](e.data.level);t.trackTrace({message:e.data.message,severity:r,properties:e.data.meta})}))};t.enable=function(e,t){e?(0===o.length&&i.channel.subscribe("winston",a),o.push(t)):0===(o=o.filter((function(e){return e!=t}))).length&&i.channel.unsubscribe("winston",a)}},function(e,t,r){"use strict";var n=function(){function e(t){if(e.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return Object.defineProperty(e,"UNCAUGHT_EXCEPTION_HANDLER_NAME",{get:function(){return"uncaughtException"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"UNHANDLED_REJECTION_HANDLER_NAME",{get:function(){return"unhandledRejection"},enumerable:!0,configurable:!0}),e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.enable=function(t){var r=this;if(t){this._isInitialized=!0;if(!this._exceptionListenerHandle){var n=function(e,t){if(r._client.trackException({exception:t}),r._client.flush({isAppCrashing:!0}),e)throw t};this._exceptionListenerHandle=n.bind(this,!0),this._rejectionListenerHandle=n.bind(this,!1),process.on(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)}}else this._exceptionListenerHandle&&(process.removeListener(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.INSTANCE=null,e}();e.exports=n},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=r(32),s=r(24),a=r(25),c=r(80),u=r(227),l=r(61),h=function(e){function t(r,n){var i=e.call(this)||this;return n&&n.method&&r&&(i.method=n.method,i.url=t._getUrlFromRequestOptions(r,n),i.startTime=+new Date),i}return i(t,e),t.prototype.onError=function(e){this._setStatus(void 0,e)},t.prototype.onResponse=function(e){this._setStatus(e.statusCode,void 0),this.correlationId=a.getCorrelationContextTarget(e,c.requestContextTargetKey)},t.prototype.getDependencyTelemetry=function(e,t){var r=o.parse(this.url);r.search=void 0,r.hash=void 0;var n=this.method.toUpperCase()+" "+r.pathname,i=s.RemoteDependencyDataConstants.TYPE_HTTP,a=r.hostname;this.correlationId?(i=s.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==l.correlationIdPrefix&&(a=r.hostname+" | "+this.correlationId)):i=s.RemoteDependencyDataConstants.TYPE_HTTP;var c={id:t,name:n,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:i,target:a};if(e){for(var u in e)c[u]||(c[u]=e[u]);if(e.properties)for(var u in e.properties)c.properties[u]=e.properties[u]}return c},t._getUrlFromRequestOptions=function(e,t){if("string"==typeof e)e=o.parse(e);else{var r=e;e={},r&&Object.keys(r).forEach((function(t){e[t]=r[t]}))}if(e.path){var n=o.parse(e.path);e.pathname=n.pathname,e.search=n.search}e.host&&e.port&&(!o.parse("http://"+e.host).port&&e.port&&(e.hostname=e.host,delete e.host));return e.protocol=e.protocol||t.agent&&t.agent.protocol||void 0,e.hostname=e.hostname||"localhost",o.format(e)},t}(u);e.exports=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),i=[];t.subscriber=function(e){i.forEach((function(t){var r=e.data.startedData&&e.data.startedData.databaseName||"Unknown database";t.trackDependency({target:r,data:e.data.event.commandName,name:e.data.event.commandName,duration:e.data.event.duration,success:e.data.succeeded,resultCode:e.data.succeeded?"0":"1",dependencyTypeName:"mongodb"})}))},t.enable=function(e,r){e?(0===i.length&&n.channel.subscribe("mongodb",t.subscriber),i.push(r)):0===(i=i.filter((function(e){return e!=r}))).length&&n.channel.unsubscribe("mongodb",t.subscriber)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),i=[];t.subscriber=function(e){i.forEach((function(t){var r=e.data.query||{},n=r.sql||"Unknown query",i=!e.data.err,o=(r._connection||{}).config||{},s=o.socketPath?o.socketPath:(o.host||"localhost")+":"+o.port;t.trackDependency({target:s,data:n,name:n,duration:e.data.duration,success:i,resultCode:i?"0":"1",dependencyTypeName:"mysql"})}))},t.enable=function(e,r){e?(0===i.length&&n.channel.subscribe("mysql",t.subscriber),i.push(r)):0===(i=i.filter((function(e){return e!=r}))).length&&n.channel.unsubscribe("mysql",t.subscriber)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),i=[];t.subscriber=function(e){i.forEach((function(t){"info"!==e.data.commandObj.command&&t.trackDependency({target:e.data.address,name:e.data.commandObj.command,data:e.data.commandObj.command,duration:e.data.duration,success:!e.data.err,resultCode:e.data.err?"1":"0",dependencyTypeName:"redis"})}))},t.enable=function(e,r){e?(0===i.length&&n.channel.subscribe("redis",t.subscriber),i.push(r)):0===(i=i.filter((function(e){return e!=r}))).length&&n.channel.unsubscribe("redis",t.subscriber)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),i=[];t.subscriber=function(e){i.forEach((function(t){var r=e.data.query,n=r.preparable&&r.preparable.text||r.plan||r.text||"unknown query",i=!e.data.error,o=e.data.database.host+":"+e.data.database.port;t.trackDependency({target:o,data:n,name:n,duration:e.data.duration,success:i,resultCode:i?"0":"1",dependencyTypeName:"postgres"})}))},t.enable=function(e,r){e?(0===i.length&&n.channel.subscribe("postgres",t.subscriber),i.push(r)):0===(i=i.filter((function(e){return e!=r}))).length&&n.channel.unsubscribe("postgres",t.subscriber)}},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=r(32),s=r(24),a=r(25),c=r(80),u=r(227),l=r(61),h=r(401),f=r(228),p=function(e){function t(t,r){var n=e.call(this)||this;return t&&(n.method=t.method,n.url=n._getAbsoluteUrl(t),n.startTime=+new Date,n.socketRemoteAddress=t.socket&&t.socket.remoteAddress,n.parseHeaders(t,r),t.connection&&(n.connectionRemoteAddress=t.connection.remoteAddress,n.legacySocketRemoteAddress=t.connection.socket&&t.connection.socket.remoteAddress)),n}return i(t,e),t.prototype.onError=function(e,t){this._setStatus(void 0,e),t&&(this.duration=t)},t.prototype.onResponse=function(e,t){this._setStatus(e.statusCode,void 0),t&&(this.duration=t)},t.prototype.getRequestTelemetry=function(e){var t={id:this.requestId,name:this.method+" "+o.parse(this.url).pathname,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(e){for(var r in e)t[r]||(t[r]=e[r]);if(e.properties)for(var r in e.properties)t.properties[r]=e.properties[r]}return t},t.prototype.getRequestTags=function(e){var r={};for(var n in e)r[n]=e[n];return r[t.keys.locationIp]=e[t.keys.locationIp]||this._getIp(),r[t.keys.sessionId]=e[t.keys.sessionId]||this._getId("ai_session"),r[t.keys.userId]=e[t.keys.userId]||this._getId("ai_user"),r[t.keys.userAuthUserId]=e[t.keys.userAuthUserId]||this._getId("ai_authUser"),r[t.keys.operationName]=this.getOperationName(e),r[t.keys.operationParentId]=this.getOperationParentId(e),r[t.keys.operationId]=this.getOperationId(e),r},t.prototype.getOperationId=function(e){return e[t.keys.operationId]||this.operationId},t.prototype.getOperationParentId=function(e){return e[t.keys.operationParentId]||this.parentId||this.getOperationId(e)},t.prototype.getOperationName=function(e){return e[t.keys.operationName]||this.method+" "+o.parse(this.url).pathname},t.prototype.getRequestId=function(){return this.requestId},t.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},t.prototype.getTraceparent=function(){return this.traceparent},t.prototype.getTracestate=function(){return this.tracestate},t.prototype.getLegacyRootId=function(){return this.legacyRootId},t.prototype._getAbsoluteUrl=function(e){if(!e.headers)return e.url;var t=e.connection?e.connection.encrypted:null,r=o.parse(e.url),n=r.pathname,i=r.search;return o.format({protocol:t?"https":"http",host:e.headers.host,pathname:n,search:i})},t.prototype._getIp=function(){var e=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,t=function(t){var r=e.exec(t);if(r)return r[0]},r=t(this.rawHeaders["x-forwarded-for"])||t(this.rawHeaders["x-client-ip"])||t(this.rawHeaders["x-real-ip"])||t(this.connectionRemoteAddress)||t(this.socketRemoteAddress)||t(this.legacySocketRemoteAddress);return!r&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&"::"===this.connectionRemoteAddress.substr(0,2)&&(r="127.0.0.1"),r},t.prototype._getId=function(e){var r=this.rawHeaders&&this.rawHeaders.cookie&&"string"==typeof this.rawHeaders.cookie&&this.rawHeaders.cookie||"";return t.parseId(a.getCookie(e,r))},t.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},t.prototype.parseHeaders=function(e,t){if(this.rawHeaders=e.headers||e.rawHeaders,this.userAgent=e.headers&&e.headers["user-agent"],this.sourceCorrelationId=a.getCorrelationContextTarget(e,c.requestContextSourceKey),e.headers){var r=e.headers[c.traceStateHeader],n=e.headers[c.traceparentHeader],i=e.headers[c.requestIdHeader],o=e.headers[c.parentIdHeader],s=e.headers[c.rootIdHeader];this.correlationContextHeader=e.headers[c.correlationContextHeader],l.w3cEnabled&&(n||r)?(this.traceparent=new f(n),this.tracestate=n&&r&&new h(r),this.setBackCompatFromThisTraceContext()):i?l.w3cEnabled?(this.traceparent=new f(null,i),this.setBackCompatFromThisTraceContext()):(this.parentId=i,this.requestId=l.generateRequestId(this.parentId),this.operationId=l.getRootId(this.requestId)):l.w3cEnabled?(this.traceparent=new f,this.traceparent.parentId=o,this.traceparent.legacyRootId=s||o,this.setBackCompatFromThisTraceContext()):(this.parentId=o,this.requestId=l.generateRequestId(s||this.parentId),this.correlationContextHeader=null,this.operationId=l.getRootId(this.requestId)),t&&(this.requestId=t,this.operationId=l.getRootId(this.requestId))}},t.parseId=function(e){var t=e.split("|");return t.length>0?t[0]:""},t.keys=new s.ContextTagKeys,t}(u);e.exports=p},function(e,t,r){"use strict";var n=function(){function e(e){this.fieldmap=[],e&&(this.fieldmap=this.parseHeader(e))}return e.prototype.toString=function(){var e=this.fieldmap;return e&&0!=e.length?e.join(", "):null},e.validateKeyChars=function(e){var t=e.split("@");if(2==t.length){var r=t[0].trim(),n=t[1].trim(),i=Boolean(r.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/)),o=Boolean(n.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/));return i&&o}return 1==t.length&&Boolean(e.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/))},e.prototype.parseHeader=function(t){var r=[],n={},i=t.split(",");if(i.length>32)return null;for(var o=0,s=i;o<s.length;o++){var a=s[o].trim();if(0!==a.length){var c=a.split("=");if(2!==c.length)return null;if(!e.validateKeyChars(c[0]))return null;if(n[c[0]])return null;n[c[0]]=!0,r.push(a)}}return r},e.strict=!0,e}();e.exports=n},function(e,t,r){"use strict";var n=r(13),i=r(164),o=r(403),s=r(404),a=r(163),c=r(165),u=function(){function e(e,t){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this.config=new i(e),this.context=t||new c,this._sender=new s(this.config),this._isEnabled=!1}return e.prototype.addCollector=function(e){this._collectors.push(e)},e.prototype.trackMetric=function(e){this._addMetric(e)},e.prototype.addDocument=function(e){var t=o.telemetryEnvelopeToQuickPulseDocument(e);t&&this._documents.push(t)},e.prototype.enable=function(e){e&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!e&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},e.prototype.enableCollectors=function(e){this._collectors.forEach((function(t){t.enable(e)}))},e.prototype._addMetric=function(e){var t=e.value,r=e.count||1,n=a.PerformanceToQuickPulseCounter[e.name];n&&(this._metrics[n]?(this._metrics[n].Value=(this._metrics[n].Value*this._metrics[n].Weight+t*r)/(this._metrics[n].Weight+r),this._metrics[n].Weight+=r):(this._metrics[n]=o.createQuickPulseMetric(e),this._metrics[n].Name=n,this._metrics[n].Weight=1))},e.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},e.prototype._goQuickPulse=function(){var t=this,r=Object.keys(this._metrics).map((function(e){return t._metrics[e]})),n=o.createQuickPulseEnvelope(r,this._documents.slice(),this.config,this.context);this._resetQuickPulseBuffer(),this._isCollectingData?this._post(n):this._ping(n);var i=this._isCollectingData?e.POST_INTERVAL:e.PING_INTERVAL;this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,i=e.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(i=e.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),i),this._handle.unref()},e.prototype._ping=function(e){this._sender.ping(e,this._quickPulseDone.bind(this))},e.prototype._post=function(e){this._sender.post(e,this._quickPulseDone.bind(this))},e.prototype._quickPulseDone=function(e,t){null!=e?(this._isCollectingData!==e&&(n.info("Live Metrics sending data",e),this.enableCollectors(e)),this._isCollectingData=e,t&&t.statusCode<300&&t.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},e.MAX_POST_WAIT_TIME=2e4,e.MAX_PING_WAIT_TIME=6e4,e.FALLBACK_INTERVAL=6e4,e.PING_INTERVAL=5e3,e.POST_INTERVAL=1e3,e}();e.exports=u},function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=r(7),o=r(24),s=r(163),a=r(25),c=r(13),u=a.w3cTraceId(),l=function(){function e(){}return e.createQuickPulseEnvelope=function(e,t,r,n){var o=i&&"function"==typeof i.hostname&&i.hostname()||"Unknown",s=n.tags&&n.keys&&n.keys.cloudRoleInstance&&n.tags[n.keys.cloudRoleInstance]||o;return{Documents:t.length>0?t:null,InstrumentationKey:r.instrumentationKey||"",Metrics:e.length>0?e:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:n.tags[n.keys.internalSdkVersion],StreamId:u,MachineName:o,Instance:s}},e.createQuickPulseMetric=function(e){return{Name:e.name,Value:e.value,Weight:e.count||1}},e.telemetryEnvelopeToQuickPulseDocument=function(t){switch(t.data.baseType){case o.TelemetryTypeString.Event:return e.createQuickPulseEventDocument(t);case o.TelemetryTypeString.Exception:return e.createQuickPulseExceptionDocument(t);case o.TelemetryTypeString.Trace:return e.createQuickPulseTraceDocument(t);case o.TelemetryTypeString.Dependency:return e.createQuickPulseDependencyDocument(t);case o.TelemetryTypeString.Request:return e.createQuickPulseRequestDocument(t)}return null},e.createQuickPulseEventDocument=function(t){var r=e.createQuickPulseDocument(t),i=t.data.baseData.name;return n({},r,{Name:i})},e.createQuickPulseTraceDocument=function(t){var r=e.createQuickPulseDocument(t),i=t.data.baseData.severityLevel||0;return n({},r,{Message:t.data.baseData.message,SeverityLevel:o.SeverityLevel[i]})},e.createQuickPulseExceptionDocument=function(t){var r=e.createQuickPulseDocument(t),i=t.data.baseData.exceptions,o="",s="",a="";return i&&i.length>0&&(i[0].parsedStack&&i[0].parsedStack.length>0?i[0].parsedStack.forEach((function(e){o+=e.assembly+"\n"})):i[0].stack&&i[0].stack.length>0&&(o=i[0].stack),s=i[0].message,a=i[0].typeName),n({},r,{Exception:o,ExceptionMessage:s,ExceptionType:a})},e.createQuickPulseRequestDocument=function(t){var r=e.createQuickPulseDocument(t),i=t.data.baseData;return n({},r,{Name:i.name,Success:i.success,Duration:i.duration,ResponseCode:i.responseCode,OperationName:i.name})},e.createQuickPulseDependencyDocument=function(t){var r=e.createQuickPulseDocument(t),i=t.data.baseData;return n({},r,{Name:i.name,Target:i.target,Success:i.success,Duration:i.duration,ResultCode:i.resultCode,CommandName:i.data,OperationName:r.OperationId,DependencyTypeName:i.type})},e.createQuickPulseDocument=function(t){var r,n;return t.data.baseType?(n=s.TelemetryTypeStringToQuickPulseType[t.data.baseType],r=s.TelemetryTypeStringToQuickPulseDocumentType[t.data.baseType]):c.warn("Document type invalid; not sending live metric document",t.data.baseType),{DocumentType:r,__type:n,OperationId:t.tags[e.keys.operationId],Version:"1.0",Properties:e.aggregateProperties(t)}},e.aggregateProperties=function(e){var t=[],r=e.data.baseData.measurements||{};for(var n in r)if(r.hasOwnProperty(n)){var i={key:n,value:r[n]};t.push(i)}var o=e.data.baseData.properties||{};for(var n in o)if(o.hasOwnProperty(n)){i={key:n,value:o[n]};t.push(i)}return t},e.keys=new o.ContextTagKeys,e}();e.exports=l},function(e,t,r){"use strict";var n=r(37),i=r(86),o=r(13),s="POST",a="x-ms-qps-transmission-time",c="x-ms-qps-subscribed",u=function(){function e(e){this._config=e,this._consecutiveErrors=0}return e.prototype.ping=function(e,t){this._submitData(e,t,"ping")},e.prototype.post=function(e,t){this._submitData([e],t,"post")},e.prototype._submitData=function(t,r,u){var l,h,f=this,p=JSON.stringify(t),d=((l={})[i.disableCollectionRequestOption]=!0,l.host=this._config.quickPulseHost,l.method=s,l.path="/QuickPulseService.svc/"+u+"?ikey="+this._config.instrumentationKey,l.headers=((h={Expect:"100-continue"})[a]=1e4*Date.now(),h["Content-Type"]="application/json",h["Content-Length"]=Buffer.byteLength(p),h),l),m=n.request(d,(function(e){var t="true"===e.headers[c];f._consecutiveErrors=0,r(t,e)}));m.on("error",(function(t){f._consecutiveErrors++;var n="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";f._consecutiveErrors%e.MAX_QPS_FAILURES_BEFORE_WARN==0?(n="Live Metrics endpoint could not be reached "+f._consecutiveErrors+" consecutive times. Most recent error:",o.warn(e.TAG,n,t)):o.info(e.TAG,n,t),r()})),m.write(p),m.end()},e.TAG="QuickPulseSender",e.MAX_QPS_FAILURES_BEFORE_WARN=25,e}();e.exports=u},function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r(164),o=r(165),s=r(13),a=function(){function e(t){this._disabledMetrics={},e.INSTANCE&&e.INSTANCE.dispose(),e.INSTANCE=this,this._client=t}return e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>=6},e.prototype.enable=function(t,n,i){var o=this;if(void 0===n&&(n={}),void 0===i&&(i=6e4),e.isNodeVersionCompatible()){if(null==e._metricsAvailable&&t&&!this._isInitialized)try{var a=r(!function(){var e=new Error("Cannot find module 'applicationinsights-native-metrics'");throw e.code="MODULE_NOT_FOUND",e}());e._emitter=new a,e._metricsAvailable=!0,s.info("Native metrics module successfully loaded!")}catch(t){return void(e._metricsAvailable=!1)}this._isEnabled=t,this._disabledMetrics=n,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&e._emitter?(e._emitter.enable(!0,i),this._handle=setInterval((function(){return o._trackNativeMetrics()}),i),this._handle.unref()):e._emitter&&(e._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))}},e.prototype.dispose=function(){this.enable(!1)},e.parseEnabled=function(e){var t=process.env[i.ENV_nativeMetricsDisableAll],r=process.env[i.ENV_nativeMetricsDisablers];if(t)return{isEnabled:!1,disabledMetrics:{}};if(r){var o=r.split(","),s={};if(o.length>0)for(var a=0,c=o;a<c.length;a++){s[c[a]]=!0}return"object"==typeof e?{isEnabled:!0,disabledMetrics:n({},e,s)}:{isEnabled:e,disabledMetrics:s}}return"boolean"==typeof e?{isEnabled:e,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:e}},e.prototype._trackNativeMetrics=function(){var e=!0;"object"!=typeof this._isEnabled&&(e=this._isEnabled),e&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},e.prototype._trackGarbageCollection=function(){if(!this._disabledMetrics.gc){var t,r=e._emitter.getGCData();for(var n in r){var i=r[n].metrics,s=n+" Garbage Collection Duration",a=Math.sqrt(i.sumSquares/i.count-Math.pow(i.total/i.count,2))||0;this._client.trackMetric({name:s,value:i.total,count:i.count,max:i.max,min:i.min,stdDev:a,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,t)})}}},e.prototype._trackEventLoop=function(){if(!this._disabledMetrics.loop){var t=e._emitter.getLoopData().loopUsage;if(0!=t.count){var r,n=Math.sqrt(t.sumSquares/t.count-Math.pow(t.total/t.count,2))||0;this._client.trackMetric({name:"Event Loop CPU Time",value:t.total,count:t.count,min:t.min,max:t.max,stdDev:n,tagOverrides:(r={},r[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,r)})}}},e.prototype._trackHeapUsage=function(){if(!this._disabledMetrics.heap){var e,t,r,n=process.memoryUsage(),i=n.heapUsed,s=n.heapTotal,a=n.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:i,count:1,tagOverrides:(e={},e[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,e)}),this._client.trackMetric({name:"Memory Total (Heap)",value:s,count:1,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,t)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:a-s,count:1,tagOverrides:(r={},r[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,r)})}},e}();t.AutoCollectNativePerformance=a},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=r(407),s=r(229),a=r(86),c=r(13),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.trackNodeHttpRequestSync=function(e){e&&e.request&&e.response&&e.duration?s.trackRequestSync(this,e):c.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},t.prototype.trackNodeHttpRequest=function(e){(e.duration||e.error)&&c.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),e&&e.request&&e.response?s.trackRequest(this,e):c.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},t.prototype.trackNodeHttpDependency=function(e){e&&e.request?a.trackRequest(this,e):c.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},t}(o);e.exports=u},function(e,t,r){"use strict";var n=r(32),i=r(164),o=r(165),s=r(24),a=r(408),c=r(409),u=r(79),l=r(412),h=r(25),f=r(13),p=r(413),d=function(){function e(e){this._telemetryProcessors=[];var t=new i(e);this.config=t,this.context=new o,this.commonProperties={};var r=new l(this.config);this.channel=new a((function(){return t.disableAppInsights}),(function(){return t.maxBatchSize}),(function(){return t.maxBatchIntervalMs}),r)}return e.prototype.trackTrace=function(e){this.track(e,s.TelemetryType.Trace)},e.prototype.trackMetric=function(e){this.track(e,s.TelemetryType.Metric)},e.prototype.trackException=function(e){e&&e.exception&&!h.isError(e.exception)&&(e.exception=new Error(e.exception.toString())),this.track(e,s.TelemetryType.Exception)},e.prototype.trackEvent=function(e){this.track(e,s.TelemetryType.Event)},e.prototype.trackRequest=function(e){this.track(e,s.TelemetryType.Request)},e.prototype.trackDependency=function(e){e&&!e.target&&e.data&&(e.target=n.parse(e.data).host),this.track(e,s.TelemetryType.Dependency)},e.prototype.flush=function(e){this.channel.triggerSend(!!e&&!!e.isAppCrashing,e?e.callback:void 0)},e.prototype.track=function(e,t){if(e&&s.telemetryTypeToBaseType(t)){var r=p.createEnvelope(e,t,this.commonProperties,this.context,this.config);e.time&&(r.time=e.time.toISOString());var n=this.runTelemetryProcessors(r,e.contextObjects);n=n&&c.samplingTelemetryProcessor(r,{correlationContext:u.CorrelationContextManager.getCurrentContext()}),c.quickPulseTelemetryProcessor(r,this.quickPulseClient),n&&this.channel.send(r)}else f.warn("track() requires telemetry object and telemetryType to be specified.")},e.prototype.addTelemetryProcessor=function(e){this._telemetryProcessors.push(e)},e.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},e.prototype.runTelemetryProcessors=function(e,t){var r=!0,n=this._telemetryProcessors.length;if(0===n)return r;(t=t||{}).correlationContext=u.CorrelationContextManager.getCurrentContext();for(var i=0;i<n;++i)try{var o=this._telemetryProcessors[i];if(o&&!1===o.apply(null,[e,t])){r=!1;break}}catch(t){r=!0,f.warn("One of telemetry processors failed, telemetry item will be sent.",t,e)}return r},e}();e.exports=d},function(e,t,r){"use strict";var n=r(13),i=function(){function e(e,t,r,n){this._buffer=[],this._lastSend=0,this._isDisabled=e,this._getBatchSize=t,this._getBatchIntervalMs=r,this._sender=n}return e.prototype.setUseDiskRetryCaching=function(e,t,r){this._sender.setDiskRetryMode(e,t,r)},e.prototype.send=function(e){var t=this;if(!this._isDisabled())if(e){var r=this._stringify(e);"string"==typeof r&&(this._buffer.push(r),this._buffer.length>=this._getBatchSize()?this.triggerSend(!1):!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout((function(){t._timeoutHandle=null,t.triggerSend(!1)}),this._getBatchIntervalMs())))}else n.warn("Cannot send null/undefined telemetry")},e.prototype.triggerSend=function(e,t){var r=this._buffer.length<1;if(!r){var n=this._buffer.join("\n");e?(this._sender.saveOnCrash(n),"function"==typeof t&&t("data saved on crash")):this._sender.send(Buffer.from?Buffer.from(n):new Buffer(n),t)}this._lastSend=+new Date,this._buffer.length=0,clearTimeout(this._timeoutHandle),this._timeoutHandle=null,r&&"function"==typeof t&&t("no data to send")},e.prototype._stringify=function(e){try{return JSON.stringify(e)}catch(t){n.warn("Failed to serialize payload",t,e)}},e}();e.exports=i},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(410)),n(r(411))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(24);function i(e){var t=5381;if(!e)return 0;for(;e.length<8;)e+=e;for(var r=0;r<e.length;r++)t=((t<<5)+t|0)+e.charCodeAt(r)|0;return(t=t<=-2147483648?2147483647:Math.abs(t))/2147483647*100}t.samplingTelemetryProcessor=function(e,t){var r=e.sampleRate;return null==r||r>=100||(!(!e.data||n.TelemetryType.Metric!==n.baseTypeToTelemetryType(e.data.baseType))||(t.correlationContext&&t.correlationContext.operation?i(t.correlationContext.operation.id)<r:100*Math.random()<r))},t.getSamplingHashCode=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(162);t.quickPulseTelemetryProcessor=function(e,t){if(t)switch(t.addDocument(e),e.data.baseType){case"ExceptionData":n.countException();break;case"RequestData":break;case"RemoteDependencyData":var r=e.data.baseData;n.countDependency(r.duration,r.success)}return!0}},function(e,t,r){"use strict";var n=r(3),i=r(7),o=r(1),s=r(81),a=r(28),c=r(13),u=r(86),l=r(25),h=function(){function e(t,r,i){if(this._config=t,this._onSuccess=r,this._onError=i,this._enableDiskRetryMode=!1,this._resendInterval=e.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=e.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,!e.OS_PROVIDES_FILE_PROTECTION)if(e.USE_ICACLS){try{e.OS_PROVIDES_FILE_PROTECTION=n.existsSync(e.ICACLS_PATH)}catch(e){}e.OS_PROVIDES_FILE_PROTECTION||c.warn(e.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else e.OS_PROVIDES_FILE_PROTECTION=!0}return e.prototype.setDiskRetryMode=function(t,r,n){this._enableDiskRetryMode=e.OS_PROVIDES_FILE_PROTECTION&&t,"number"==typeof r&&r>=0&&(this._resendInterval=Math.floor(r)),"number"==typeof n&&n>=0&&(this._maxBytesOnDisk=Math.floor(n)),t&&!e.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,c.warn(e.TAG,"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected."))},e.prototype.send=function(t,r){var n=this,i=this._config.endpointUrl,o={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}};s.gzip(t,(function(s,a){var h=a;s?(c.warn(s),h=t,o.headers["Content-Length"]=t.length.toString()):(o.headers["Content-Encoding"]="gzip",o.headers["Content-Length"]=a.length),c.info(e.TAG,o),o[u.disableCollectionRequestOption]=!0;var f=l.makeRequest(n._config,i,o,(function(i){i.setEncoding("utf-8");var o="";i.on("data",(function(e){o+=e})),i.on("end",(function(){n._numConsecutiveFailures=0,c.info(e.TAG,o),"function"==typeof n._onSuccess&&n._onSuccess(o),"function"==typeof r&&r(o),n._enableDiskRetryMode&&(200===i.statusCode?setTimeout((function(){return n._sendFirstFileOnDisk()}),n._resendInterval).unref():408!==i.statusCode&&429!==i.statusCode&&439!==i.statusCode&&500!==i.statusCode&&503!==i.statusCode||n._storeToDisk(t))}))}));f.on("error",(function(i){if(n._numConsecutiveFailures++,!n._enableDiskRetryMode||n._numConsecutiveFailures>0&&n._numConsecutiveFailures%e.MAX_CONNECTION_FAILURES_BEFORE_WARN==0){var o="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";n._enableDiskRetryMode&&(o="Ingestion endpoint could not be reached "+n._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),c.warn(e.TAG,o,i)}else{o="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:";c.info(e.TAG,o,i)}if(n._onErrorHelper(i),"function"==typeof r){var s="error sending telemetry";i&&"function"==typeof i.toString&&(s=i.toString()),r(s)}n._enableDiskRetryMode&&n._storeToDisk(t)})),f.write(h),f.end()}))},e.prototype.saveOnCrash=function(e){this._enableDiskRetryMode&&this._storeToDiskSync(e)},e.prototype._runICACLS=function(t,r){var n=a.spawn(e.ICACLS_PATH,t,{windowsHide:!0});n.on("error",(function(e){return r(e)})),n.on("close",(function(e,t){return r(0===e?null:new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+e+")"))}))},e.prototype._runICACLSSync=function(t){if(!a.spawnSync)throw new Error("Could not synchronously call ICACLS under current version of Node.js");var r=a.spawnSync(e.ICACLS_PATH,t,{windowsHide:!0});if(r.error)throw r.error;if(0!==r.status)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+r.status+")")},e.prototype._getACLIdentity=function(t){if(e.ACL_IDENTITY)return t(null,e.ACL_IDENTITY);var r=a.spawn(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),n="";r.stdout.on("data",(function(e){return n+=e})),r.on("error",(function(e){return t(e,null)})),r.on("close",(function(r,i){return e.ACL_IDENTITY=n&&n.trim(),t(0===r?null:new Error("Getting ACL identity did not succeed (PS returned code "+r+")"),e.ACL_IDENTITY)}))},e.prototype._getACLIdentitySync=function(){if(e.ACL_IDENTITY)return e.ACL_IDENTITY;if(a.spawnSync){var t=a.spawnSync(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(t.error)throw t.error;if(0!==t.status)throw new Error("Getting ACL identity did not succeed (PS returned code "+t.status+")");return e.ACL_IDENTITY=t.stdout&&t.stdout.toString().trim(),e.ACL_IDENTITY}throw new Error("Could not synchronously get ACL identity under current version of Node.js")},e.prototype._getACLArguments=function(e,t){return[e,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",t+":(OI)(CI)F","/inheritance:r"]},e.prototype._applyACLRules=function(t,r){var n=this;return e.USE_ICACLS?void 0!==e.ACLED_DIRECTORIES[t]?r(e.ACLED_DIRECTORIES[t]?null:new Error("Setting ACL restrictions did not succeed (cached result)")):(e.ACLED_DIRECTORIES[t]=!1,void this._getACLIdentity((function(i,o){if(i)return e.ACLED_DIRECTORIES[t]=!1,r(i);n._runICACLS(n._getACLArguments(t,o),(function(n){return e.ACLED_DIRECTORIES[t]=!n,r(n)}))}))):r(null)},e.prototype._applyACLRulesSync=function(t){if(e.USE_ICACLS){if(void 0===e.ACLED_DIRECTORIES[t])return this._runICACLSSync(this._getACLArguments(t,this._getACLIdentitySync())),void(e.ACLED_DIRECTORIES[t]=!0);if(!e.ACLED_DIRECTORIES[t])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},e.prototype._confirmDirExists=function(e,t){var r=this;n.lstat(e,(function(i,o){i&&"ENOENT"===i.code?n.mkdir(e,(function(n){n&&"EEXIST"!==n.code?t(n):r._applyACLRules(e,t)})):!i&&o.isDirectory()?r._applyACLRules(e,t):t(i||new Error("Path existed but was not a directory"))}))},e.prototype._getShallowDirectorySize=function(e,t){n.readdir(e,(function(r,i){if(r)return t(r,-1);var s=null,a=0,c=0;if(0!==i.length)for(var u=0;u<i.length;u++)n.stat(o.join(e,i[u]),(function(e,r){c++,e?s=e:r.isFile()&&(a+=r.size),c===i.length&&t(s,s?-1:a)}));else t(null,0)}))},e.prototype._getShallowDirectorySizeSync=function(e){for(var t=n.readdirSync(e),r=0,i=0;i<t.length;i++)r+=n.statSync(o.join(e,t[i])).size;return r},e.prototype._storeToDisk=function(t){var r=this,s=o.join(i.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey);c.info(e.TAG,"Checking existance of data storage directory: "+s),this._confirmDirExists(s,(function(i){if(i)return c.warn(e.TAG,"Error while checking/creating directory: "+(i&&i.message)),void r._onErrorHelper(i);r._getShallowDirectorySize(s,(function(i,a){if(i||a<0)return c.warn(e.TAG,"Error while checking directory size: "+(i&&i.message)),void r._onErrorHelper(i);if(a>r._maxBytesOnDisk)c.warn(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+a);else{var u=(new Date).getTime()+".ai.json",l=o.join(s,u);c.info(e.TAG,"saving data to disk at: "+l),n.writeFile(l,t,{mode:384},(function(e){return r._onErrorHelper(e)}))}}))}))},e.prototype._storeToDiskSync=function(t){var r=o.join(i.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey);try{c.info(e.TAG,"Checking existance of data storage directory: "+r),n.existsSync(r)||n.mkdirSync(r),this._applyACLRulesSync(r);var s=this._getShallowDirectorySizeSync(r);if(s>this._maxBytesOnDisk)return void c.info(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+s);var a=(new Date).getTime()+".ai.json",u=o.join(r,a);c.info(e.TAG,"saving data before crash to disk at: "+u),n.writeFileSync(u,t,{mode:384})}catch(t){c.warn(e.TAG,"Error while saving data to disk: "+(t&&t.message)),this._onErrorHelper(t)}},e.prototype._sendFirstFileOnDisk=function(){var t=this,r=o.join(i.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey);n.exists(r,(function(e){e&&n.readdir(r,(function(e,i){if(e)t._onErrorHelper(e);else if((i=i.filter((function(e){return o.basename(e).indexOf(".ai.json")>-1}))).length>0){var s=i[0],a=o.join(r,s);n.readFile(a,(function(e,r){e?t._onErrorHelper(e):n.unlink(a,(function(e){e?t._onErrorHelper(e):t.send(r)}))}))}}))}))},e.prototype._onErrorHelper=function(e){"function"==typeof this._onError&&this._onError(e)},e.TAG="Sender",e.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",e.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",e.ACLED_DIRECTORIES={},e.ACL_IDENTITY=null,e.WAIT_BETWEEN_RESEND=6e4,e.MAX_BYTES_ON_DISK=5e7,e.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,e.TEMPDIR_PREFIX="appInsights-node",e.OS_PROVIDES_FILE_PROTECTION=!1,e.USE_ICACLS="Windows_NT"===i.type(),e}();e.exports=h},function(e,t,r){"use strict";var n=r(24),i=r(25),o=r(79),s=function(){function e(){}return e.createEnvelope=function(t,r,o,s,a){var c=null;switch(r){case n.TelemetryType.Trace:c=e.createTraceData(t);break;case n.TelemetryType.Dependency:c=e.createDependencyData(t);break;case n.TelemetryType.Event:c=e.createEventData(t);break;case n.TelemetryType.Exception:c=e.createExceptionData(t);break;case n.TelemetryType.Request:c=e.createRequestData(t);break;case n.TelemetryType.Metric:c=e.createMetricData(t)}if(o&&n.domainSupportsProperties(c.baseData)){if(c&&c.baseData)if(c.baseData.properties)for(var u in o)c.baseData.properties[u]||(c.baseData.properties[u]=o[u]);else c.baseData.properties=o;c.baseData.properties=i.validateStringMap(c.baseData.properties)}var l=a&&a.instrumentationKey||"",h=new n.Envelope;return h.data=c,h.iKey=l,h.name="Microsoft.ApplicationInsights."+l.replace(/-/g,"")+"."+c.baseType.substr(0,c.baseType.length-4),h.tags=this.getTags(s,t.tagOverrides),h.time=(new Date).toISOString(),h.ver=1,h.sampleRate=a?a.samplingPercentage:100,r===n.TelemetryType.Metric&&(h.sampleRate=100),h},e.createTraceData=function(e){var t=new n.MessageData;t.message=e.message,t.properties=e.properties,isNaN(e.severity)?t.severityLevel=n.SeverityLevel.Information:t.severityLevel=e.severity;var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Trace),r.baseData=t,r},e.createDependencyData=function(e){var t=new n.RemoteDependencyData;t.name=e.name,t.data=e.data,t.target=e.target,t.duration=i.msToTimeSpan(e.duration),t.success=e.success,t.type=e.dependencyTypeName,t.properties=e.properties,t.resultCode=e.resultCode?e.resultCode+"":"",e.id?t.id=e.id:t.id=i.w3cTraceId();var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Dependency),r.baseData=t,r},e.createEventData=function(e){var t=new n.EventData;t.name=e.name,t.properties=e.properties,t.measurements=e.measurements;var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Event),r.baseData=t,r},e.createExceptionData=function(e){var t=new n.ExceptionData;t.properties=e.properties,t.severityLevel=n.SeverityLevel.Error,t.measurements=e.measurements,t.exceptions=[];var r=e.exception.stack,o=new n.ExceptionDetails;o.message=e.exception.message,o.typeName=e.exception.name,o.parsedStack=this.parseStack(r),o.hasFullStack=i.isArray(o.parsedStack)&&o.parsedStack.length>0,t.exceptions.push(o);var s=new n.Data;return s.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Exception),s.baseData=t,s},e.createRequestData=function(e){var t=new n.RequestData;e.id?t.id=e.id:t.id=i.w3cTraceId(),t.name=e.name,t.url=e.url,t.source=e.source,t.duration=i.msToTimeSpan(e.duration),t.responseCode=e.resultCode?e.resultCode+"":"",t.success=e.success,t.properties=e.properties;var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Request),r.baseData=t,r},e.createMetricData=function(e){var t=new n.MetricData;t.metrics=[];var r=new n.DataPoint;r.count=isNaN(e.count)?1:e.count,r.kind=n.DataPointType.Aggregation,r.max=isNaN(e.max)?e.value:e.max,r.min=isNaN(e.min)?e.value:e.min,r.name=e.name,r.stdDev=isNaN(e.stdDev)?0:e.stdDev,r.value=e.value,t.metrics.push(r),t.properties=e.properties;var i=new n.Data;return i.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Metric),i.baseData=t,i},e.getTags=function(e,t){var r=o.CorrelationContextManager.getCurrentContext(),n={};if(e&&e.tags)for(var i in e.tags)n[i]=e.tags[i];if(t)for(var i in t)n[i]=t[i];return r&&(n[e.keys.operationId]=n[e.keys.operationId]||r.operation.id,n[e.keys.operationName]=n[e.keys.operationName]||r.operation.name,n[e.keys.operationParentId]=n[e.keys.operationParentId]||r.operation.parentId),n},e.parseStack=function(e){var t=void 0;if("string"==typeof e){var r=e.split("\n");t=[];for(var n=0,i=0,o=0;o<=r.length;o++){var s=r[o];if(a.regex.test(s)){var c=new a(r[o],n++);i+=c.sizeInBytes,t.push(c)}}if(i>32768)for(var u=0,l=t.length-1,h=0,f=u,p=l;u<l;){if((h+=t[u].sizeInBytes+t[l].sizeInBytes)>32768){var d=p-f+1;t.splice(f,d);break}f=u,p=l,u++,l--}}return t},e}(),a=function(){function e(t,r){this.sizeInBytes=0,this.level=r,this.method="<no_method>",this.assembly=i.trim(t);var n=t.match(e.regex);n&&n.length>=5&&(this.method=i.trim(n[2])||this.method,this.fileName=i.trim(n[4])||"<no_filename>",this.line=parseInt(n[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=e.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return e.regex=/^([\s]+at)?(.*?)(\@|\s\(|\s)([^\(\@\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}();e.exports=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(18),i=r(31),o=r(5),s=r(16),a=r(166),c=r(78),u=r(158),l=r(29);t.resolve=async function(e,t,r,h){return n.window.withProgress({location:n.ProgressLocation.Notification,title:`Installing Dev Container ([details](command:${c.revealLogTerminalId} "Show details in terminal"))`,cancellable:!1},async f=>{try{const u=o.getParseAttachedContainerAuthority(r),{settings:p}=u,d="containerName"in u?u.containerName:u.containerId;h.log.write(`Setting up container ${d}\n\r`);const m=await o.newDocker(p),g="containerName"in u?await o.findTargetContainerByName(m,u.containerName):await o.findTargetContainerById(m,u.containerId);if(!g)throw new s.ContainerError({description:`Cannot attach to the container with name/id ${d}, it no longer exists.`,data:{reload:!1,attach:!0}});const v=l.URI.file(await a.getAttachDevContainerConfigPath(e.globalStoragePath,g)),y=await a.readAttachDevContainerConfigDocument(o.fileDocuments,v),w=n.workspace.workspaceFolders;if(w&&w.length&&y.config.workspaceFolder!==w[0].uri.path){const e=i.modify(y.text,["workspaceFolder"],w[0].uri.path,{formattingOptions:{}});await a.writeAttachDevContainerConfigDocument(o.fileDocuments,v,e,y.exists)}const b=o.newDockerEnv(p),E={common:await c.createResolverParameters({authority:r,extensionContext:e,progress:f,env:b,cwd:process.cwd(),telemetry:t,output:h.log}),connection:{settings:p,docker:m,env:b},configurationTracking:c.createConfigurationTracking(e.workspaceState)};await o.ensureDockerRunning(E);const _=p&&p.host?` @ ${p.host}`:"",C=`Container ${g.Image} (${o.getContainerName(g.Names)})${_}`;if(E.common.setWorkspaceName(C),"running"!==g.State)throw new s.ContainerError({description:`Cannot attach to the container ${g.Image} (${o.getContainerName(g.Names)})${_}, it is not running.`,container:{docker:m,info:g},data:{reload:!1,start:!0}});return await a.resolve(E,g,y.config)}catch(e){const t=e instanceof s.ContainerError?e:new s.ContainerError({description:"An error occurred attaching to the container.",originalError:e});throw t.actions=[u.startContainer,u.attachContainer,...u.genericActions,u.reload,u.closeRemote,u.openRecent,u.documentation],t}}).then(e=>(c.telemetryResolverEvent(t,"attach","success",void 0,e.properties),e),e=>{const r=e instanceof s.ContainerError?e:new s.ContainerError({description:"An error occurred attaching to the container.",originalError:e});return c.telemetryResolverEvent(t,"attach","failure",void 0,r.containerProperties,r),u.handleError(r,!0,h)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(18),i=r(1),o=r(3),s=r(84),a=r(213),c=r(416),u=r(31),l=r(0),h=r(26),f=r(60),p=r(5),d=r(59),m=r(41),g=r(5),v=r(29);function y(e,t){const r=n.window.createQuickPick();r.title="Add Development Container Configuration Files",r.placeholder=t,r.items=e;const i=[],o=new Promise(e=>{i.push(r.onDidAccept(()=>{i.forEach(e=>e.dispose()),e(r.selectedItems[0])})),i.push(r.onDidHide(()=>{i.forEach(e=>e.dispose()),e(void 0)}))});return r.show(),o}async function w(e,t){const r=await f.getDevContainerConfigPathIn(e);if(r){E(t,"exists"),n.window.showErrorMessage(`Dev Container configuration '${r}' file already exists.`,{modal:!0});const e=await n.workspace.openTextDocument(r);return void n.window.showTextDocument(e)}const c=f.getDefaultDevContainerConfigPath(e);let p;const d=await n.workspace.findFiles("*docker*compose*"),m=await n.workspace.findFiles("*{D,d}ockerfile*"),w=m.map(e=>{const t=i.basename(e.fsPath);return{label:`From '${t}'`,description:b(e),dockerfile:t,dockerfilePath:e.fsPath,detail:`Refer to the existing '${t}' in the container configuration`,type:"dockerfile"}}),_=d.map(e=>{const t=i.basename(e.fsPath);return{label:`From '${t}'`,description:b(e),dockerComposeFile:t,dockerComposePath:e.fsPath,detail:`Refer to the existing '${t}' in the container configuration`,type:"dockerComposeFile"}});let k=void 0,x={label:"From a predefined container configuration definition...",detail:"Use a base configuration from the container definition registry",alwaysShow:!0,type:"predefined"};if(!(k=0===m.length&&0===d.length?x:await y([x,...w,..._,{label:"Learn More",description:"Documentation on how to set up a folder to run in a container",alwaysShow:!0,type:"help"}],"How would you like to create your container configuration?")))return E(t,"canceled"),Promise.resolve(void 0);if("help"===k.type&&(E(t,"help"),n.env.openExternal(n.Uri.parse("https://aka.ms/vscode-remote/containers/folder-setup"))),"predefined"===k.type){const e=await C(),r=await y([{label:"Learn More",description:"Documentation on predefined container definitions",alwaysShow:!0,type:"help"},...e],"Select a container configuration definition");if(!r)return E(t,"canceled"),Promise.resolve(void 0);"help"===r.type&&(E(t,"help"),n.env.openExternal(n.Uri.parse("https://aka.ms/vscode-dev-containers"))),"baseConfiguration"===r.type&&(E(t,"definition",i.basename(r.definitionFolder)),p=r)}if("dockerComposeFile"===k.type&&(p=await async function(e,t,r){const n=await l.promisify(o.readFile)(e,{encoding:"utf8"}),s=a.safeLoad(n),c=s.version,p=Object.keys(s&&s.services||{}),d=p.length<2?p[0]||"":await y(p.map(e=>({label:e,type:"service"})),"Select a service");if(void 0===d)return void E(r,"canceled");E(r,"dockerComposeFile");const m="string"==typeof d?d:d.label,w=(await C()).find(e=>"docker-existing-docker-compose"===i.basename(e.definitionFolder));if(w){const r=i.resolve(t.configFolderPath,i.relative(w.definitionFolder,w.configFilePath)),n=i.relative(i.dirname(r),e),s=u.parse(w.configText).dockerComposeFile,f=Array.isArray(s)?s.slice(1):[],p=[n,...f],d=u.modify(w.configText,["dockerComposeFile"],p,{formattingOptions:{}}),y=u.applyEdits(w.configText,d),b=u.modify(y,["service"],m,{formattingOptions:{}}),E=u.applyEdits(y,b),_=f.reduce((e,t)=>(e[g.getConfigFilePath({configFilePath:v.URI.file(w.configFilePath)},t).fsPath]=!0,e),{});return{...w,configText:E,async copyFile(e,t){if(_[e]){let r=(await h.readFile(e)).toString();const n=a.safeLoad(r);n.version&&c&&n.version!==c&&(r=r.replace(new RegExp(`^(version:.*)(${n.version.replace(/\./g,"\\.")})`,"m"),`$1${c}`));const i=Object.keys(n&&n.services||{});i.length&&(r=r.replace(new RegExp(`\\b${i[0]}\\b`),m)),await h.writeFile(t,r)}else await l.promisify(o.copyFile)(e,t)}}}{const r=f.getDefaultDevContainerConfigPath(t);return{config:{dockerComposeFile:i.relative(i.dirname(r),e),service:m,workspaceFolder:"/",extensions:[]}}}}(k.dockerComposePath,e,t)),"dockerfile"===k.type){E(t,"dockerFile");const r=(await C()).find(e=>"docker-existing-dockerfile"===i.basename(e.definitionFolder));if(r){const t=i.resolve(e.configFolderPath,i.relative(r.definitionFolder,r.configFilePath)),n=i.relative(i.dirname(t),k.dockerfilePath),o="dockerFile"in u.parse(r.configText)?["dockerFile"]:["build","dockerfile"],s=u.modify(r.configText,o,n,{formattingOptions:{}}),a=u.applyEdits(r.configText,s);p={...r,configText:a}}else p={config:{build:{dockerfile:i.relative(i.dirname(c),k.dockerfilePath)},extensions:[]}}}return p?"definitionFolder"in p?async function(e,t){const r=e.configFolderPath,a=(await async function e(t){const r=await l.promisify(o.readdir)(t);return[].concat(...await Promise.all(r.map(async r=>{const n=i.join(t,r);return(await l.promisify(o.lstat)(n)).isDirectory()?e(n):n})))}(t.definitionFolder)).map(e=>i.relative(t.definitionFolder,e));let c;for(const e of a){const a=i.join(r,e);if(await h.exists(a)){const t=await n.window.showInformationMessage(`File ${e} already exists, overwrite?`,{modal:!0},"Skip","Overwrite");if(!t)return;if("Skip"===t)continue}await l.promisify(s)(i.dirname(a));const u=i.join(t.definitionFolder,e);u===t.configFilePath?(c=a,await h.writeFile(a,t.configText)):t.copyFile?await t.copyFile(u,a):await l.promisify(o.copyFile)(u,a)}return c}(e,p):(await l.promisify(s)(i.dirname(c)),await h.writeFile(c,function({config:e}){return`${S}\n${JSON.stringify(e,null,"\t")}`}(p)),c):Promise.resolve(void 0)}function b(e){const t=n.workspace.workspaceFolders||[];if(t.length<2)return;const r=t.find(t=>t.uri.scheme.toLowerCase()===e.scheme.toLowerCase()&&t.uri.authority.toLowerCase()===e.authority.toLowerCase()&&("win32"===process.platform?e.path.toLowerCase().startsWith(t.uri.path.toLowerCase()):e.path.startsWith(t.uri.path)));return r&&r.name}function E(e,t,r){const n={outcome:t};r&&(n.definitionName=r),e.sendTelemetryEvent("createConfiguration",n)}t.createDevContainerConfig=async function(e){const t=n.workspace.workspaceFile,r=n.workspace.workspaceFolders;let i;if(t)i=t;else if(r&&r.length)if(r.length>1){const e=await n.window.showWorkspaceFolderPick({placeHolder:"Select a folder to create a container configuration for"});e&&(i=e.uri)}else i=r[0].uri;if(i&&"file"===i.scheme){const t=m.workspaceFromPath(i.fsPath),r=await t.isSuitedForRemoteContainer();if(r)return void n.window.showInformationMessage(`The workspace can not be opened in a container: ${r}`,{modal:!0});const o=await w(t,e);if(o){const e=await n.workspace.openTextDocument(o);return n.window.showTextDocument(e),t}}},t.createDevContainerConfigIn=w;let _=void 0;async function C(){return void 0===_&&(_=async function(){const e=new c,t=i.join(__dirname,"node_modules","vscode-dev-containers","containers"),r=i.join(__dirname,"node_modules","vscode-dev-containers","containers-readmes"),n=await l.promisify(o.readdir)(t);return(await Promise.all(n.map(async n=>{const s=i.join(t,n),c=await f.getDevContainerConfigPathIn(m.workspaceFromPath(s)),g=c&&await f.readDevContainerConfigFileText(c);if(!g)return;const y=u.parse(g);y.configFilePath=v.URI.file(c);const w=y.name||n;let b,E;if("image"in y)b=y.image;else if(p.isDockerFileConfig(y)){const e=p.getDockerfilePath(y).fsPath;if(await h.exists(e)){const t=await l.promisify(o.readFile)(e,{encoding:"utf8"});b=(/^FROM\s+(\S+)/m.exec(t)||[])[1]}}else if("dockerComposeFile"in y){const e=d.getDockerComposeFilePaths(y)[0];if(e&&await h.exists(e))try{const t=await l.promisify(o.readFile)(e,{encoding:"utf8"}),r=a.safeLoad(t),n=r&&r.services,s=n&&n[y.service],c=s&&s.build,u=c&&c.image;u&&(b=u);const f=c&&c.dockerfile,p=f&&i.resolve(i.dirname(e),f);if(await h.exists(p)){const e=await l.promisify(o.readFile)(p,{encoding:"utf8"});b=(/^FROM\s+(\S+)/m.exec(e)||[])[1]}}catch(e){console.error(e)}}const _=i.join(r,n,"README.md");if(await h.exists(_))try{const t=await l.promisify(o.readFile)(_,{encoding:"utf8"}),r=/\#\s*summary.*\n*(.*)/i.exec(t);if(r){const t=(E=e.render(r[1]).replace(/<[^>]*>/g,"").trim()).indexOf(". ");-1!==t&&(E=E.substr(0,t+1))}}catch(e){console.error(e)}return{label:w,description:b,type:"baseConfiguration",detail:E,definitionFolder:s,configText:g,configFilePath:c}}))).filter(e=>!!e)}().then(e=>e.sort((e,t)=>e.label.localeCompare(t.label)))),_}const S="// See https://aka.ms/vscode-remote/devcontainer.json for format details or\n// https://aka.ms/vscode-dev-containers/definitions for sample configurations."},function(e,t,r){"use strict";e.exports=r(417)},function(e,t,r){"use strict";var n=r(2),i=r(425),o=r(429),s=r(430),a=r(438),c=r(452),u=r(465),l=r(231),h=r(467),f={default:r(468),zero:r(469),commonmark:r(470)},p=/^(vbscript|javascript|file|data):/,d=/^data:image\/(gif|png|jpeg|webp);/;function m(e){var t=e.trim().toLowerCase();return!p.test(t)||!!d.test(t)}var g=["http:","https:","mailto:"];function v(e){var t=l.parse(e,!0);if(t.hostname&&(!t.protocol||g.indexOf(t.protocol)>=0))try{t.hostname=h.toASCII(t.hostname)}catch(e){}return l.encode(l.format(t))}function y(e){var t=l.parse(e,!0);if(t.hostname&&(!t.protocol||g.indexOf(t.protocol)>=0))try{t.hostname=h.toUnicode(t.hostname)}catch(e){}return l.decode(l.format(t))}function w(e,t){if(!(this instanceof w))return new w(e,t);t||n.isString(e)||(t=e||{},e="default"),this.inline=new c,this.block=new a,this.core=new s,this.renderer=new o,this.linkify=new u,this.validateLink=m,this.normalizeLink=v,this.normalizeLinkText=y,this.utils=n,this.helpers=n.assign({},i),this.options={},this.configure(e),t&&this.set(t)}w.prototype.set=function(e){return n.assign(this.options,e),this},w.prototype.configure=function(e){var t,r=this;if(n.isString(e)&&!(e=f[t=e]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&r.set(e.options),e.components&&Object.keys(e.components).forEach((function(t){e.components[t].rules&&r[t].ruler.enableOnly(e.components[t].rules),e.components[t].rules2&&r[t].ruler2.enableOnly(e.components[t].rules2)})),this},w.prototype.enable=function(e,t){var r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){r=r.concat(this[t].ruler.enable(e,!0))}),this),r=r.concat(this.inline.ruler2.enable(e,!0));var n=e.filter((function(e){return r.indexOf(e)<0}));if(n.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this},w.prototype.disable=function(e,t){var r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){r=r.concat(this[t].ruler.disable(e,!0))}),this),r=r.concat(this.inline.ruler2.disable(e,!0));var n=e.filter((function(e){return r.indexOf(e)<0}));if(n.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this},w.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},w.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");var r=new this.core.State(e,this,t);return this.core.process(r),r.tokens},w.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},w.prototype.parseInline=function(e,t){var r=new this.core.State(e,this,t);return r.inlineMode=!0,this.core.process(r),r.tokens},w.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},e.exports=w},function(e){e.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')},function(e,t,r){"use strict";var n={};function i(e,t,r){var o,s,a,c,u,l="";for("string"!=typeof t&&(r=t,t=i.defaultChars),void 0===r&&(r=!0),u=function(e){var t,r,i=n[e];if(i)return i;for(i=n[e]=[],t=0;t<128;t++)r=String.fromCharCode(t),/^[0-9a-z]$/i.test(r)?i.push(r):i.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)i[e.charCodeAt(t)]=e[t];return i}(t),o=0,s=e.length;o<s;o++)if(a=e.charCodeAt(o),r&&37===a&&o+2<s&&/^[0-9a-f]{2}$/i.test(e.slice(o+1,o+3)))l+=e.slice(o,o+3),o+=2;else if(a<128)l+=u[a];else if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&o+1<s&&(c=e.charCodeAt(o+1))>=56320&&c<=57343){l+=encodeURIComponent(e[o]+e[o+1]),o++;continue}l+="%EF%BF%BD"}else l+=encodeURIComponent(e[o]);return l}i.defaultChars=";/?:@&=+$,-_.!~*'()#",i.componentChars="-_.!~*'()",e.exports=i},function(e,t,r){"use strict";var n={};function i(e,t){var r;return"string"!=typeof t&&(t=i.defaultChars),r=function(e){var t,r,i=n[e];if(i)return i;for(i=n[e]=[],t=0;t<128;t++)r=String.fromCharCode(t),i.push(r);for(t=0;t<e.length;t++)i[r=e.charCodeAt(t)]="%"+("0"+r.toString(16).toUpperCase()).slice(-2);return i}(t),e.replace(/(%[a-f0-9]{2})+/gi,(function(e){var t,n,i,o,s,a,c,u="";for(t=0,n=e.length;t<n;t+=3)(i=parseInt(e.slice(t+1,t+3),16))<128?u+=r[i]:192==(224&i)&&t+3<n&&128==(192&(o=parseInt(e.slice(t+4,t+6),16)))?(u+=(c=i<<6&1984|63&o)<128?"��":String.fromCharCode(c),t+=3):224==(240&i)&&t+6<n&&(o=parseInt(e.slice(t+4,t+6),16),s=parseInt(e.slice(t+7,t+9),16),128==(192&o)&&128==(192&s))?(u+=(c=i<<12&61440|o<<6&4032|63&s)<2048||c>=55296&&c<=57343?"���":String.fromCharCode(c),t+=6):240==(248&i)&&t+9<n&&(o=parseInt(e.slice(t+4,t+6),16),s=parseInt(e.slice(t+7,t+9),16),a=parseInt(e.slice(t+10,t+12),16),128==(192&o)&&128==(192&s)&&128==(192&a))?((c=i<<18&1835008|o<<12&258048|s<<6&4032|63&a)<65536||c>1114111?u+="����":(c-=65536,u+=String.fromCharCode(55296+(c>>10),56320+(1023&c))),t+=9):u+="�";return u}))}i.defaultChars=";/?:@&=+$,#",i.componentChars="",e.exports=i},function(e,t,r){"use strict";e.exports=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||""}},function(e,t,r){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var i=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,a=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(a),u=["%","/","?",";","#"].concat(c),l=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},d={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};n.prototype.parse=function(e,t){var r,n,o,a,c,m=e;if(m=m.trim(),!t&&1===e.split("#").length){var g=s.exec(m);if(g)return this.pathname=g[1],g[2]&&(this.search=g[2]),this}var v=i.exec(m);if(v&&(o=(v=v[0]).toLowerCase(),this.protocol=v,m=m.substr(v.length)),(t||v||m.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(c="//"===m.substr(0,2))||v&&p[v]||(m=m.substr(2),this.slashes=!0)),!p[v]&&(c||v&&!d[v])){var y,w,b=-1;for(r=0;r<l.length;r++)-1!==(a=m.indexOf(l[r]))&&(-1===b||a<b)&&(b=a);for(-1!==(w=-1===b?m.lastIndexOf("@"):m.lastIndexOf("@",b))&&(y=m.slice(0,w),m=m.slice(w+1),this.auth=y),b=-1,r=0;r<u.length;r++)-1!==(a=m.indexOf(u[r]))&&(-1===b||a<b)&&(b=a);-1===b&&(b=m.length),":"===m[b-1]&&b--;var E=m.slice(0,b);m=m.slice(b),this.parseHost(E),this.hostname=this.hostname||"";var _="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!_){var C=this.hostname.split(/\./);for(r=0,n=C.length;r<n;r++){var S=C[r];if(S&&!S.match(h)){for(var k="",x=0,D=S.length;x<D;x++)S.charCodeAt(x)>127?k+="x":k+=S[x];if(!k.match(h)){var A=C.slice(0,r),T=C.slice(r+1),R=S.match(f);R&&(A.push(R[1]),T.unshift(R[2])),T.length&&(m=T.join(".")+m),this.hostname=A.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),_&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var I=m.indexOf("#");-1!==I&&(this.hash=m.substr(I),m=m.slice(0,I));var P=m.indexOf("?");return-1!==P&&(this.search=m.substr(P),m=m.slice(0,P)),m&&(this.pathname=m),d[o]&&this.hostname&&!this.pathname&&(this.pathname=""),this},n.prototype.parseHost=function(e){var t=o.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.exports=function(e,t){if(e&&e instanceof n)return e;var r=new n;return r.parse(e,t),r}},function(e,t,r){"use strict";t.Any=r(232),t.Cc=r(233),t.Cf=r(424),t.P=r(167),t.Z=r(234)},function(e,t){e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},function(e,t,r){"use strict";t.parseLinkLabel=r(426),t.parseLinkDestination=r(427),t.parseLinkTitle=r(428)},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i,o,s,a=-1,c=e.posMax,u=e.pos;for(e.pos=t+1,n=1;e.pos<c;){if(93===(o=e.src.charCodeAt(e.pos))&&0===--n){i=!0;break}if(s=e.pos,e.md.inline.skipToken(e),91===o)if(s===e.pos-1)n++;else if(r)return e.pos=u,-1}return i&&(a=e.pos),e.pos=u,a}},function(e,t,r){"use strict";var n=r(2).unescapeAll;e.exports=function(e,t,r){var i,o,s=t,a={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(t)){for(t++;t<r;){if(10===(i=e.charCodeAt(t)))return a;if(62===i)return a.pos=t+1,a.str=n(e.slice(s+1,t)),a.ok=!0,a;92===i&&t+1<r?t+=2:t++}return a}for(o=0;t<r&&32!==(i=e.charCodeAt(t))&&!(i<32||127===i);)if(92===i&&t+1<r)t+=2;else{if(40===i&&o++,41===i){if(0===o)break;o--}t++}return s===t?a:0!==o?a:(a.str=n(e.slice(s,t)),a.lines=0,a.pos=t,a.ok=!0,a)}},function(e,t,r){"use strict";var n=r(2).unescapeAll;e.exports=function(e,t,r){var i,o,s=0,a=t,c={ok:!1,pos:0,lines:0,str:""};if(t>=r)return c;if(34!==(o=e.charCodeAt(t))&&39!==o&&40!==o)return c;for(t++,40===o&&(o=41);t<r;){if((i=e.charCodeAt(t))===o)return c.pos=t+1,c.lines=s,c.str=n(e.slice(a+1,t)),c.ok=!0,c;10===i?s++:92===i&&t+1<r&&(t++,10===e.charCodeAt(t)&&s++),t++}return c}},function(e,t,r){"use strict";var n=r(2).assign,i=r(2).unescapeAll,o=r(2).escapeHtml,s={};function a(){this.rules=n({},s)}s.code_inline=function(e,t,r,n,i){var s=e[t];return"<code"+i.renderAttrs(s)+">"+o(e[t].content)+"</code>"},s.code_block=function(e,t,r,n,i){var s=e[t];return"<pre"+i.renderAttrs(s)+"><code>"+o(e[t].content)+"</code></pre>\n"},s.fence=function(e,t,r,n,s){var a,c,u,l,h=e[t],f=h.info?i(h.info).trim():"",p="";return f&&(p=f.split(/\s+/g)[0]),0===(a=r.highlight&&r.highlight(h.content,p)||o(h.content)).indexOf("<pre")?a+"\n":f?(c=h.attrIndex("class"),u=h.attrs?h.attrs.slice():[],c<0?u.push(["class",r.langPrefix+p]):u[c][1]+=" "+r.langPrefix+p,l={attrs:u},"<pre><code"+s.renderAttrs(l)+">"+a+"</code></pre>\n"):"<pre><code"+s.renderAttrs(h)+">"+a+"</code></pre>\n"},s.image=function(e,t,r,n,i){var o=e[t];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,r,n),i.renderToken(e,t,r)},s.hardbreak=function(e,t,r){return r.xhtmlOut?"<br />\n":"<br>\n"},s.softbreak=function(e,t,r){return r.breaks?r.xhtmlOut?"<br />\n":"<br>\n":"\n"},s.text=function(e,t){return o(e[t].content)},s.html_block=function(e,t){return e[t].content},s.html_inline=function(e,t){return e[t].content},a.prototype.renderAttrs=function(e){var t,r,n;if(!e.attrs)return"";for(n="",t=0,r=e.attrs.length;t<r;t++)n+=" "+o(e.attrs[t][0])+'="'+o(e.attrs[t][1])+'"';return n},a.prototype.renderToken=function(e,t,r){var n,i="",o=!1,s=e[t];return s.hidden?"":(s.block&&-1!==s.nesting&&t&&e[t-1].hidden&&(i+="\n"),i+=(-1===s.nesting?"</":"<")+s.tag,i+=this.renderAttrs(s),0===s.nesting&&r.xhtmlOut&&(i+=" /"),s.block&&(o=!0,1===s.nesting&&t+1<e.length&&("inline"===(n=e[t+1]).type||n.hidden?o=!1:-1===n.nesting&&n.tag===s.tag&&(o=!1))),i+=o?">\n":">")},a.prototype.renderInline=function(e,t,r){for(var n,i="",o=this.rules,s=0,a=e.length;s<a;s++)void 0!==o[n=e[s].type]?i+=o[n](e,s,t,r,this):i+=this.renderToken(e,s,t);return i},a.prototype.renderInlineAsText=function(e,t,r){for(var n="",i=0,o=e.length;i<o;i++)"text"===e[i].type?n+=e[i].content:"image"===e[i].type&&(n+=this.renderInlineAsText(e[i].children,t,r));return n},a.prototype.render=function(e,t,r){var n,i,o,s="",a=this.rules;for(n=0,i=e.length;n<i;n++)"inline"===(o=e[n].type)?s+=this.renderInline(e[n].children,t,r):void 0!==a[o]?s+=a[e[n].type](e,n,t,r,this):s+=this.renderToken(e,n,t,r);return s},e.exports=a},function(e,t,r){"use strict";var n=r(168),i=[["normalize",r(431)],["block",r(432)],["inline",r(433)],["linkify",r(434)],["replacements",r(435)],["smartquotes",r(436)]];function o(){this.ruler=new n;for(var e=0;e<i.length;e++)this.ruler.push(i[e][0],i[e][1])}o.prototype.process=function(e){var t,r,n;for(t=0,r=(n=this.ruler.getRules("")).length;t<r;t++)n[t](e)},o.prototype.State=r(437),e.exports=o},function(e,t,r){"use strict";var n=/\r\n?|\n/g,i=/\0/g;e.exports=function(e){var t;t=(t=e.src.replace(n,"\n")).replace(i,"�"),e.src=t}},function(e,t,r){"use strict";e.exports=function(e){var t;e.inlineMode?((t=new e.Token("inline","",0)).content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},function(e,t,r){"use strict";e.exports=function(e){var t,r,n,i=e.tokens;for(r=0,n=i.length;r<n;r++)"inline"===(t=i[r]).type&&e.md.inline.parse(t.content,e.md,e.env,t.children)}},function(e,t,r){"use strict";var n=r(2).arrayReplaceAt;function i(e){return/^<\/a\s*>/i.test(e)}e.exports=function(e){var t,r,o,s,a,c,u,l,h,f,p,d,m,g,v,y,w,b,E=e.tokens;if(e.md.options.linkify)for(r=0,o=E.length;r<o;r++)if("inline"===E[r].type&&e.md.linkify.pretest(E[r].content))for(m=0,t=(s=E[r].children).length-1;t>=0;t--)if("link_close"!==(c=s[t]).type){if("html_inline"===c.type&&(b=c.content,/^<a[>\s]/i.test(b)&&m>0&&m--,i(c.content)&&m++),!(m>0)&&"text"===c.type&&e.md.linkify.test(c.content)){for(h=c.content,w=e.md.linkify.match(h),u=[],d=c.level,p=0,l=0;l<w.length;l++)g=w[l].url,v=e.md.normalizeLink(g),e.md.validateLink(v)&&(y=w[l].text,y=w[l].schema?"mailto:"!==w[l].schema||/^mailto:/i.test(y)?e.md.normalizeLinkText(y):e.md.normalizeLinkText("mailto:"+y).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+y).replace(/^http:\/\//,""),(f=w[l].index)>p&&((a=new e.Token("text","",0)).content=h.slice(p,f),a.level=d,u.push(a)),(a=new e.Token("link_open","a",1)).attrs=[["href",v]],a.level=d++,a.markup="linkify",a.info="auto",u.push(a),(a=new e.Token("text","",0)).content=y,a.level=d,u.push(a),(a=new e.Token("link_close","a",-1)).level=--d,a.markup="linkify",a.info="auto",u.push(a),p=w[l].lastIndex);p<h.length&&((a=new e.Token("text","",0)).content=h.slice(p),a.level=d,u.push(a)),E[r].children=s=n(s,t,u)}}else for(t--;s[t].level!==c.level&&"link_open"!==s[t].type;)t--}},function(e,t,r){"use strict";var n=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,i=/\((c|tm|r|p)\)/i,o=/\((c|tm|r|p)\)/gi,s={c:"©",r:"®",p:"§",tm:"™"};function a(e,t){return s[t.toLowerCase()]}function c(e){var t,r,n=0;for(t=e.length-1;t>=0;t--)"text"!==(r=e[t]).type||n||(r.content=r.content.replace(o,a)),"link_open"===r.type&&"auto"===r.info&&n--,"link_close"===r.type&&"auto"===r.info&&n++}function u(e){var t,r,i=0;for(t=e.length-1;t>=0;t--)"text"!==(r=e[t]).type||i||n.test(r.content)&&(r.content=r.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1—$2").replace(/(^|\s)--(\s|$)/gm,"$1–$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1–$2")),"link_open"===r.type&&"auto"===r.info&&i--,"link_close"===r.type&&"auto"===r.info&&i++}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(i.test(e.tokens[t].content)&&c(e.tokens[t].children),n.test(e.tokens[t].content)&&u(e.tokens[t].children))}},function(e,t,r){"use strict";var n=r(2).isWhiteSpace,i=r(2).isPunctChar,o=r(2).isMdAsciiPunct,s=/['"]/,a=/['"]/g,c="’";function u(e,t,r){return e.substr(0,t)+r+e.substr(t+1)}function l(e,t){var r,s,l,h,f,p,d,m,g,v,y,w,b,E,_,C,S,k,x,D,A;for(x=[],r=0;r<e.length;r++){for(s=e[r],d=e[r].level,S=x.length-1;S>=0&&!(x[S].level<=d);S--);if(x.length=S+1,"text"===s.type){f=0,p=(l=s.content).length;e:for(;f<p&&(a.lastIndex=f,h=a.exec(l));){if(_=C=!0,f=h.index+1,k="'"===h[0],g=32,h.index-1>=0)g=l.charCodeAt(h.index-1);else for(S=r-1;S>=0&&("softbreak"!==e[S].type&&"hardbreak"!==e[S].type);S--)if("text"===e[S].type){g=e[S].content.charCodeAt(e[S].content.length-1);break}if(v=32,f<p)v=l.charCodeAt(f);else for(S=r+1;S<e.length&&("softbreak"!==e[S].type&&"hardbreak"!==e[S].type);S++)if("text"===e[S].type){v=e[S].content.charCodeAt(0);break}if(y=o(g)||i(String.fromCharCode(g)),w=o(v)||i(String.fromCharCode(v)),b=n(g),(E=n(v))?_=!1:w&&(b||y||(_=!1)),b?C=!1:y&&(E||w||(C=!1)),34===v&&'"'===h[0]&&g>=48&&g<=57&&(C=_=!1),_&&C&&(_=!1,C=w),_||C){if(C)for(S=x.length-1;S>=0&&(m=x[S],!(x[S].level<d));S--)if(m.single===k&&x[S].level===d){m=x[S],k?(D=t.md.options.quotes[2],A=t.md.options.quotes[3]):(D=t.md.options.quotes[0],A=t.md.options.quotes[1]),s.content=u(s.content,h.index,A),e[m.token].content=u(e[m.token].content,m.pos,D),f+=A.length-1,m.token===r&&(f+=D.length-1),p=(l=s.content).length,x.length=S;continue e}_?x.push({token:r,pos:h.index,single:k,level:d}):C&&k&&(s.content=u(s.content,h.index,c))}else k&&(s.content=u(s.content,h.index,c))}}}}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&s.test(e.tokens[t].content)&&l(e.tokens[t].children,e)}},function(e,t,r){"use strict";var n=r(169);function i(e,t,r){this.src=e,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=t}i.prototype.Token=n,e.exports=i},function(e,t,r){"use strict";var n=r(168),i=[["table",r(439),["paragraph","reference"]],["code",r(440)],["fence",r(441),["paragraph","reference","blockquote","list"]],["blockquote",r(442),["paragraph","reference","blockquote","list"]],["hr",r(443),["paragraph","reference","blockquote","list"]],["list",r(444),["paragraph","reference","blockquote"]],["reference",r(445)],["heading",r(446),["paragraph","reference","blockquote"]],["lheading",r(447)],["html_block",r(448),["paragraph","reference","blockquote"]],["paragraph",r(450)]];function o(){this.ruler=new n;for(var e=0;e<i.length;e++)this.ruler.push(i[e][0],i[e][1],{alt:(i[e][2]||[]).slice()})}o.prototype.tokenize=function(e,t,r){for(var n,i=this.ruler.getRules(""),o=i.length,s=t,a=!1,c=e.md.options.maxNesting;s<r&&(e.line=s=e.skipEmptyLines(s),!(s>=r))&&!(e.sCount[s]<e.blkIndent);){if(e.level>=c){e.line=r;break}for(n=0;n<o&&!i[n](e,s,r,!1);n++);e.tight=!a,e.isEmpty(e.line-1)&&(a=!0),(s=e.line)<r&&e.isEmpty(s)&&(a=!0,s++,e.line=s)}},o.prototype.parse=function(e,t,r,n){var i;e&&(i=new this.State(e,t,r,n),this.tokenize(i,i.line,i.lineMax))},o.prototype.State=r(451),e.exports=o},function(e,t,r){"use strict";var n=r(2).isSpace;function i(e,t){var r=e.bMarks[t]+e.blkIndent,n=e.eMarks[t];return e.src.substr(r,n-r)}function o(e){var t,r=[],n=0,i=e.length,o=0,s=0,a=!1,c=0;for(t=e.charCodeAt(n);n<i;)96===t?a?(a=!1,c=n):o%2==0&&(a=!0,c=n):124!==t||o%2!=0||a||(r.push(e.substring(s,n)),s=n+1),92===t?o++:o=0,++n===i&&a&&(a=!1,n=c+1),t=e.charCodeAt(n);return r.push(e.substring(s)),r}e.exports=function(e,t,r,s){var a,c,u,l,h,f,p,d,m,g,v,y;if(t+2>r)return!1;if(h=t+1,e.sCount[h]<e.blkIndent)return!1;if(e.sCount[h]-e.blkIndent>=4)return!1;if((u=e.bMarks[h]+e.tShift[h])>=e.eMarks[h])return!1;if(124!==(a=e.src.charCodeAt(u++))&&45!==a&&58!==a)return!1;for(;u<e.eMarks[h];){if(124!==(a=e.src.charCodeAt(u))&&45!==a&&58!==a&&!n(a))return!1;u++}for(f=(c=i(e,t+1)).split("|"),m=[],l=0;l<f.length;l++){if(!(g=f[l].trim())){if(0===l||l===f.length-1)continue;return!1}if(!/^:?-+:?$/.test(g))return!1;58===g.charCodeAt(g.length-1)?m.push(58===g.charCodeAt(0)?"center":"right"):58===g.charCodeAt(0)?m.push("left"):m.push("")}if(-1===(c=i(e,t).trim()).indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if((p=(f=o(c.replace(/^\||\|$/g,""))).length)>m.length)return!1;if(s)return!0;for((d=e.push("table_open","table",1)).map=v=[t,0],(d=e.push("thead_open","thead",1)).map=[t,t+1],(d=e.push("tr_open","tr",1)).map=[t,t+1],l=0;l<f.length;l++)(d=e.push("th_open","th",1)).map=[t,t+1],m[l]&&(d.attrs=[["style","text-align:"+m[l]]]),(d=e.push("inline","",0)).content=f[l].trim(),d.map=[t,t+1],d.children=[],d=e.push("th_close","th",-1);for(d=e.push("tr_close","tr",-1),d=e.push("thead_close","thead",-1),(d=e.push("tbody_open","tbody",1)).map=y=[t+2,0],h=t+2;h<r&&!(e.sCount[h]<e.blkIndent)&&-1!==(c=i(e,h).trim()).indexOf("|")&&!(e.sCount[h]-e.blkIndent>=4);h++){for(f=o(c.replace(/^\||\|$/g,"")),d=e.push("tr_open","tr",1),l=0;l<p;l++)d=e.push("td_open","td",1),m[l]&&(d.attrs=[["style","text-align:"+m[l]]]),(d=e.push("inline","",0)).content=f[l]?f[l].trim():"",d.children=[],d=e.push("td_close","td",-1);d=e.push("tr_close","tr",-1)}return d=e.push("tbody_close","tbody",-1),d=e.push("table_close","table",-1),v[1]=y[1]=h,e.line=h,!0}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i,o;if(e.sCount[t]-e.blkIndent<4)return!1;for(i=n=t+1;n<r;)if(e.isEmpty(n))n++;else{if(!(e.sCount[n]-e.blkIndent>=4))break;i=++n}return e.line=i,(o=e.push("code_block","code",0)).content=e.getLines(t,i,4+e.blkIndent,!0),o.map=[t,e.line],!0}},function(e,t,r){"use strict";e.exports=function(e,t,r,n){var i,o,s,a,c,u,l,h=!1,f=e.bMarks[t]+e.tShift[t],p=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(f+3>p)return!1;if(126!==(i=e.src.charCodeAt(f))&&96!==i)return!1;if(c=f,(o=(f=e.skipChars(f,i))-c)<3)return!1;if(l=e.src.slice(c,f),s=e.src.slice(f,p),96===i&&s.indexOf(String.fromCharCode(i))>=0)return!1;if(n)return!0;for(a=t;!(++a>=r)&&!((f=c=e.bMarks[a]+e.tShift[a])<(p=e.eMarks[a])&&e.sCount[a]<e.blkIndent);)if(e.src.charCodeAt(f)===i&&!(e.sCount[a]-e.blkIndent>=4||(f=e.skipChars(f,i))-c<o||(f=e.skipSpaces(f))<p)){h=!0;break}return o=e.sCount[t],e.line=a+(h?1:0),(u=e.push("fence","code",0)).info=s,u.content=e.getLines(t+1,a,o,!0),u.markup=l,u.map=[t,e.line],!0}},function(e,t,r){"use strict";var n=r(2).isSpace;e.exports=function(e,t,r,i){var o,s,a,c,u,l,h,f,p,d,m,g,v,y,w,b,E,_,C,S,k=e.lineMax,x=e.bMarks[t]+e.tShift[t],D=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(x++))return!1;if(i)return!0;for(c=p=e.sCount[t]+x-(e.bMarks[t]+e.tShift[t]),32===e.src.charCodeAt(x)?(x++,c++,p++,o=!1,b=!0):9===e.src.charCodeAt(x)?(b=!0,(e.bsCount[t]+p)%4==3?(x++,c++,p++,o=!1):o=!0):b=!1,d=[e.bMarks[t]],e.bMarks[t]=x;x<D&&(s=e.src.charCodeAt(x),n(s));)9===s?p+=4-(p+e.bsCount[t]+(o?1:0))%4:p++,x++;for(m=[e.bsCount[t]],e.bsCount[t]=e.sCount[t]+1+(b?1:0),l=x>=D,y=[e.sCount[t]],e.sCount[t]=p-c,w=[e.tShift[t]],e.tShift[t]=x-e.bMarks[t],_=e.md.block.ruler.getRules("blockquote"),v=e.parentType,e.parentType="blockquote",S=!1,f=t+1;f<r&&(e.sCount[f]<e.blkIndent&&(S=!0),!((x=e.bMarks[f]+e.tShift[f])>=(D=e.eMarks[f])));f++)if(62!==e.src.charCodeAt(x++)||S){if(l)break;for(E=!1,a=0,u=_.length;a<u;a++)if(_[a](e,f,r,!0)){E=!0;break}if(E){e.lineMax=f,0!==e.blkIndent&&(d.push(e.bMarks[f]),m.push(e.bsCount[f]),w.push(e.tShift[f]),y.push(e.sCount[f]),e.sCount[f]-=e.blkIndent);break}d.push(e.bMarks[f]),m.push(e.bsCount[f]),w.push(e.tShift[f]),y.push(e.sCount[f]),e.sCount[f]=-1}else{for(c=p=e.sCount[f]+x-(e.bMarks[f]+e.tShift[f]),32===e.src.charCodeAt(x)?(x++,c++,p++,o=!1,b=!0):9===e.src.charCodeAt(x)?(b=!0,(e.bsCount[f]+p)%4==3?(x++,c++,p++,o=!1):o=!0):b=!1,d.push(e.bMarks[f]),e.bMarks[f]=x;x<D&&(s=e.src.charCodeAt(x),n(s));)9===s?p+=4-(p+e.bsCount[f]+(o?1:0))%4:p++,x++;l=x>=D,m.push(e.bsCount[f]),e.bsCount[f]=e.sCount[f]+1+(b?1:0),y.push(e.sCount[f]),e.sCount[f]=p-c,w.push(e.tShift[f]),e.tShift[f]=x-e.bMarks[f]}for(g=e.blkIndent,e.blkIndent=0,(C=e.push("blockquote_open","blockquote",1)).markup=">",C.map=h=[t,0],e.md.block.tokenize(e,t,f),(C=e.push("blockquote_close","blockquote",-1)).markup=">",e.lineMax=k,e.parentType=v,h[1]=e.line,a=0;a<w.length;a++)e.bMarks[a+t]=d[a],e.tShift[a+t]=w[a],e.sCount[a+t]=y[a],e.bsCount[a+t]=m[a];return e.blkIndent=g,!0}},function(e,t,r){"use strict";var n=r(2).isSpace;e.exports=function(e,t,r,i){var o,s,a,c,u=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(42!==(o=e.src.charCodeAt(u++))&&45!==o&&95!==o)return!1;for(s=1;u<l;){if((a=e.src.charCodeAt(u++))!==o&&!n(a))return!1;a===o&&s++}return!(s<3)&&(!!i||(e.line=t+1,(c=e.push("hr","hr",0)).map=[t,e.line],c.markup=Array(s+1).join(String.fromCharCode(o)),!0))}},function(e,t,r){"use strict";var n=r(2).isSpace;function i(e,t){var r,i,o,s;return i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t],42!==(r=e.src.charCodeAt(i++))&&45!==r&&43!==r?-1:i<o&&(s=e.src.charCodeAt(i),!n(s))?-1:i}function o(e,t){var r,i=e.bMarks[t]+e.tShift[t],o=i,s=e.eMarks[t];if(o+1>=s)return-1;if((r=e.src.charCodeAt(o++))<48||r>57)return-1;for(;;){if(o>=s)return-1;if(!((r=e.src.charCodeAt(o++))>=48&&r<=57)){if(41===r||46===r)break;return-1}if(o-i>=10)return-1}return o<s&&(r=e.src.charCodeAt(o),!n(r))?-1:o}e.exports=function(e,t,r,n){var s,a,c,u,l,h,f,p,d,m,g,v,y,w,b,E,_,C,S,k,x,D,A,T,R,I,P,O,F=!1,N=!0;if(e.sCount[t]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[t]-e.listIndent>=4&&e.sCount[t]<e.blkIndent)return!1;if(n&&"paragraph"===e.parentType&&e.tShift[t]>=e.blkIndent&&(F=!0),(A=o(e,t))>=0){if(f=!0,R=e.bMarks[t]+e.tShift[t],y=Number(e.src.substr(R,A-R-1)),F&&1!==y)return!1}else{if(!((A=i(e,t))>=0))return!1;f=!1}if(F&&e.skipSpaces(A)>=e.eMarks[t])return!1;if(v=e.src.charCodeAt(A-1),n)return!0;for(g=e.tokens.length,f?(O=e.push("ordered_list_open","ol",1),1!==y&&(O.attrs=[["start",y]])):O=e.push("bullet_list_open","ul",1),O.map=m=[t,0],O.markup=String.fromCharCode(v),b=t,T=!1,P=e.md.block.ruler.getRules("list"),C=e.parentType,e.parentType="list";b<r;){for(D=A,w=e.eMarks[b],h=E=e.sCount[b]+A-(e.bMarks[t]+e.tShift[t]);D<w;){if(9===(s=e.src.charCodeAt(D)))E+=4-(E+e.bsCount[b])%4;else{if(32!==s)break;E++}D++}if((l=(a=D)>=w?1:E-h)>4&&(l=1),u=h+l,(O=e.push("list_item_open","li",1)).markup=String.fromCharCode(v),O.map=p=[t,0],x=e.tight,k=e.tShift[t],S=e.sCount[t],_=e.listIndent,e.listIndent=e.blkIndent,e.blkIndent=u,e.tight=!0,e.tShift[t]=a-e.bMarks[t],e.sCount[t]=E,a>=w&&e.isEmpty(t+1)?e.line=Math.min(e.line+2,r):e.md.block.tokenize(e,t,r,!0),e.tight&&!T||(N=!1),T=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=_,e.tShift[t]=k,e.sCount[t]=S,e.tight=x,(O=e.push("list_item_close","li",-1)).markup=String.fromCharCode(v),b=t=e.line,p[1]=b,a=e.bMarks[t],b>=r)break;if(e.sCount[b]<e.blkIndent)break;if(e.sCount[t]-e.blkIndent>=4)break;for(I=!1,c=0,d=P.length;c<d;c++)if(P[c](e,b,r,!0)){I=!0;break}if(I)break;if(f){if((A=o(e,b))<0)break}else if((A=i(e,b))<0)break;if(v!==e.src.charCodeAt(A-1))break}return(O=f?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(v),m[1]=b,e.line=b,e.parentType=C,N&&function(e,t){var r,n,i=e.level+2;for(r=t+2,n=e.tokens.length-2;r<n;r++)e.tokens[r].level===i&&"paragraph_open"===e.tokens[r].type&&(e.tokens[r+2].hidden=!0,e.tokens[r].hidden=!0,r+=2)}(e,g),!0}},function(e,t,r){"use strict";var n=r(2).normalizeReference,i=r(2).isSpace;e.exports=function(e,t,r,o){var s,a,c,u,l,h,f,p,d,m,g,v,y,w,b,E,_=0,C=e.bMarks[t]+e.tShift[t],S=e.eMarks[t],k=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(C))return!1;for(;++C<S;)if(93===e.src.charCodeAt(C)&&92!==e.src.charCodeAt(C-1)){if(C+1===S)return!1;if(58!==e.src.charCodeAt(C+1))return!1;break}for(u=e.lineMax,b=e.md.block.ruler.getRules("reference"),m=e.parentType,e.parentType="reference";k<u&&!e.isEmpty(k);k++)if(!(e.sCount[k]-e.blkIndent>3||e.sCount[k]<0)){for(w=!1,h=0,f=b.length;h<f;h++)if(b[h](e,k,u,!0)){w=!0;break}if(w)break}for(S=(y=e.getLines(t,k,e.blkIndent,!1).trim()).length,C=1;C<S;C++){if(91===(s=y.charCodeAt(C)))return!1;if(93===s){d=C;break}10===s?_++:92===s&&++C<S&&10===y.charCodeAt(C)&&_++}if(d<0||58!==y.charCodeAt(d+1))return!1;for(C=d+2;C<S;C++)if(10===(s=y.charCodeAt(C)))_++;else if(!i(s))break;if(!(g=e.md.helpers.parseLinkDestination(y,C,S)).ok)return!1;if(l=e.md.normalizeLink(g.str),!e.md.validateLink(l))return!1;for(a=C=g.pos,c=_+=g.lines,v=C;C<S;C++)if(10===(s=y.charCodeAt(C)))_++;else if(!i(s))break;for(g=e.md.helpers.parseLinkTitle(y,C,S),C<S&&v!==C&&g.ok?(E=g.str,C=g.pos,_+=g.lines):(E="",C=a,_=c);C<S&&(s=y.charCodeAt(C),i(s));)C++;if(C<S&&10!==y.charCodeAt(C)&&E)for(E="",C=a,_=c;C<S&&(s=y.charCodeAt(C),i(s));)C++;return!(C<S&&10!==y.charCodeAt(C))&&(!!(p=n(y.slice(1,d)))&&(!!o||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[p]&&(e.env.references[p]={title:E,href:l}),e.parentType=m,e.line=t+_+1,!0)))}},function(e,t,r){"use strict";var n=r(2).isSpace;e.exports=function(e,t,r,i){var o,s,a,c,u=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(35!==(o=e.src.charCodeAt(u))||u>=l)return!1;for(s=1,o=e.src.charCodeAt(++u);35===o&&u<l&&s<=6;)s++,o=e.src.charCodeAt(++u);return!(s>6||u<l&&!n(o))&&(!!i||(l=e.skipSpacesBack(l,u),(a=e.skipCharsBack(l,35,u))>u&&n(e.src.charCodeAt(a-1))&&(l=a),e.line=t+1,(c=e.push("heading_open","h"+String(s),1)).markup="########".slice(0,s),c.map=[t,e.line],(c=e.push("inline","",0)).content=e.src.slice(u,l).trim(),c.map=[t,e.line],c.children=[],(c=e.push("heading_close","h"+String(s),-1)).markup="########".slice(0,s),!0))}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,i,o,s,a,c,u,l,h,f,p=t+1,d=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;for(f=e.parentType,e.parentType="paragraph";p<r&&!e.isEmpty(p);p++)if(!(e.sCount[p]-e.blkIndent>3)){if(e.sCount[p]>=e.blkIndent&&(c=e.bMarks[p]+e.tShift[p])<(u=e.eMarks[p])&&(45===(h=e.src.charCodeAt(c))||61===h)&&(c=e.skipChars(c,h),(c=e.skipSpaces(c))>=u)){l=61===h?1:2;break}if(!(e.sCount[p]<0)){for(i=!1,o=0,s=d.length;o<s;o++)if(d[o](e,p,r,!0)){i=!0;break}if(i)break}}return!!l&&(n=e.getLines(t,p,e.blkIndent,!1).trim(),e.line=p+1,(a=e.push("heading_open","h"+String(l),1)).markup=String.fromCharCode(h),a.map=[t,e.line],(a=e.push("inline","",0)).content=n,a.map=[t,e.line-1],a.children=[],(a=e.push("heading_close","h"+String(l),-1)).markup=String.fromCharCode(h),e.parentType=f,!0)}},function(e,t,r){"use strict";var n=r(449),i=r(235).HTML_OPEN_CLOSE_TAG_RE,o=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+n.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(i.source+"\\s*$"),/^$/,!1]];e.exports=function(e,t,r,n){var i,s,a,c,u=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(u))return!1;for(c=e.src.slice(u,l),i=0;i<o.length&&!o[i][0].test(c);i++);if(i===o.length)return!1;if(n)return o[i][2];if(s=t+1,!o[i][1].test(c))for(;s<r&&!(e.sCount[s]<e.blkIndent);s++)if(u=e.bMarks[s]+e.tShift[s],l=e.eMarks[s],c=e.src.slice(u,l),o[i][1].test(c)){0!==c.length&&s++;break}return e.line=s,(a=e.push("html_block","",0)).map=[t,s],a.content=e.getLines(t,s,e.blkIndent,!0),!0}},function(e,t,r){"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},function(e,t,r){"use strict";e.exports=function(e,t){var r,n,i,o,s,a,c=t+1,u=e.md.block.ruler.getRules("paragraph"),l=e.lineMax;for(a=e.parentType,e.parentType="paragraph";c<l&&!e.isEmpty(c);c++)if(!(e.sCount[c]-e.blkIndent>3||e.sCount[c]<0)){for(n=!1,i=0,o=u.length;i<o;i++)if(u[i](e,c,l,!0)){n=!0;break}if(n)break}return r=e.getLines(t,c,e.blkIndent,!1).trim(),e.line=c,(s=e.push("paragraph_open","p",1)).map=[t,e.line],(s=e.push("inline","",0)).content=r,s.map=[t,e.line],s.children=[],s=e.push("paragraph_close","p",-1),e.parentType=a,!0}},function(e,t,r){"use strict";var n=r(169),i=r(2).isSpace;function o(e,t,r,n){var o,s,a,c,u,l,h,f;for(this.src=e,this.md=t,this.env=r,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",f=!1,a=c=l=h=0,u=(s=this.src).length;c<u;c++){if(o=s.charCodeAt(c),!f){if(i(o)){l++,9===o?h+=4-h%4:h++;continue}f=!0}10!==o&&c!==u-1||(10!==o&&c++,this.bMarks.push(a),this.eMarks.push(c),this.tShift.push(l),this.sCount.push(h),this.bsCount.push(0),f=!1,l=0,h=0,a=c+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}o.prototype.push=function(e,t,r){var i=new n(e,t,r);return i.block=!0,r<0&&this.level--,i.level=this.level,r>0&&this.level++,this.tokens.push(i),i},o.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},o.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},o.prototype.skipSpaces=function(e){for(var t,r=this.src.length;e<r&&(t=this.src.charCodeAt(e),i(t));e++);return e},o.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!i(this.src.charCodeAt(--e)))return e+1;return e},o.prototype.skipChars=function(e,t){for(var r=this.src.length;e<r&&this.src.charCodeAt(e)===t;e++);return e},o.prototype.skipCharsBack=function(e,t,r){if(e<=r)return e;for(;e>r;)if(t!==this.src.charCodeAt(--e))return e+1;return e},o.prototype.getLines=function(e,t,r,n){var o,s,a,c,u,l,h,f=e;if(e>=t)return"";for(l=new Array(t-e),o=0;f<t;f++,o++){for(s=0,h=c=this.bMarks[f],u=f+1<t||n?this.eMarks[f]+1:this.eMarks[f];c<u&&s<r;){if(a=this.src.charCodeAt(c),i(a))9===a?s+=4-(s+this.bsCount[f])%4:s++;else{if(!(c-h<this.tShift[f]))break;s++}c++}l[o]=s>r?new Array(s-r+1).join(" ")+this.src.slice(c,u):this.src.slice(c,u)}return l.join("")},o.prototype.Token=n,e.exports=o},function(e,t,r){"use strict";var n=r(168),i=[["text",r(453)],["newline",r(454)],["escape",r(455)],["backticks",r(456)],["strikethrough",r(236).tokenize],["emphasis",r(237).tokenize],["link",r(457)],["image",r(458)],["autolink",r(459)],["html_inline",r(460)],["entity",r(461)]],o=[["balance_pairs",r(462)],["strikethrough",r(236).postProcess],["emphasis",r(237).postProcess],["text_collapse",r(463)]];function s(){var e;for(this.ruler=new n,e=0;e<i.length;e++)this.ruler.push(i[e][0],i[e][1]);for(this.ruler2=new n,e=0;e<o.length;e++)this.ruler2.push(o[e][0],o[e][1])}s.prototype.skipToken=function(e){var t,r,n=e.pos,i=this.ruler.getRules(""),o=i.length,s=e.md.options.maxNesting,a=e.cache;if(void 0===a[n]){if(e.level<s)for(r=0;r<o&&(e.level++,t=i[r](e,!0),e.level--,!t);r++);else e.pos=e.posMax;t||e.pos++,a[n]=e.pos}else e.pos=a[n]},s.prototype.tokenize=function(e){for(var t,r,n=this.ruler.getRules(""),i=n.length,o=e.posMax,s=e.md.options.maxNesting;e.pos<o;){if(e.level<s)for(r=0;r<i&&!(t=n[r](e,!1));r++);if(t){if(e.pos>=o)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},s.prototype.parse=function(e,t,r,n){var i,o,s,a=new this.State(e,t,r,n);for(this.tokenize(a),s=(o=this.ruler2.getRules("")).length,i=0;i<s;i++)o[i](a)},s.prototype.State=r(464),e.exports=s},function(e,t,r){"use strict";function n(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function(e,t){for(var r=e.pos;r<e.posMax&&!n(e.src.charCodeAt(r));)r++;return r!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,r)),e.pos=r,!0)}},function(e,t,r){"use strict";var n=r(2).isSpace;e.exports=function(e,t){var r,i,o=e.pos;if(10!==e.src.charCodeAt(o))return!1;for(r=e.pending.length-1,i=e.posMax,t||(r>=0&&32===e.pending.charCodeAt(r)?r>=1&&32===e.pending.charCodeAt(r-1)?(e.pending=e.pending.replace(/ +$/,""),e.push("hardbreak","br",0)):(e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0)):e.push("softbreak","br",0)),o++;o<i&&n(e.src.charCodeAt(o));)o++;return e.pos=o,!0}},function(e,t,r){"use strict";for(var n=r(2).isSpace,i=[],o=0;o<256;o++)i.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){i[e.charCodeAt(0)]=1})),e.exports=function(e,t){var r,o=e.pos,s=e.posMax;if(92!==e.src.charCodeAt(o))return!1;if(++o<s){if((r=e.src.charCodeAt(o))<256&&0!==i[r])return t||(e.pending+=e.src[o]),e.pos+=2,!0;if(10===r){for(t||e.push("hardbreak","br",0),o++;o<s&&(r=e.src.charCodeAt(o),n(r));)o++;return e.pos=o,!0}}return t||(e.pending+="\\"),e.pos++,!0}},function(e,t,r){"use strict";e.exports=function(e,t){var r,n,i,o,s,a,c=e.pos;if(96!==e.src.charCodeAt(c))return!1;for(r=c,c++,n=e.posMax;c<n&&96===e.src.charCodeAt(c);)c++;for(i=e.src.slice(r,c),o=s=c;-1!==(o=e.src.indexOf("`",s));){for(s=o+1;s<n&&96===e.src.charCodeAt(s);)s++;if(s-o===i.length)return t||((a=e.push("code_inline","code",0)).markup=i,a.content=e.src.slice(c,o).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=s,!0}return t||(e.pending+=i),e.pos+=i.length,!0}},function(e,t,r){"use strict";var n=r(2).normalizeReference,i=r(2).isSpace;e.exports=function(e,t){var r,o,s,a,c,u,l,h,f,p="",d=e.pos,m=e.posMax,g=e.pos,v=!0;if(91!==e.src.charCodeAt(e.pos))return!1;if(c=e.pos+1,(a=e.md.helpers.parseLinkLabel(e,e.pos,!0))<0)return!1;if((u=a+1)<m&&40===e.src.charCodeAt(u)){for(v=!1,u++;u<m&&(o=e.src.charCodeAt(u),i(o)||10===o);u++);if(u>=m)return!1;for(g=u,(l=e.md.helpers.parseLinkDestination(e.src,u,e.posMax)).ok&&(p=e.md.normalizeLink(l.str),e.md.validateLink(p)?u=l.pos:p=""),g=u;u<m&&(o=e.src.charCodeAt(u),i(o)||10===o);u++);if(l=e.md.helpers.parseLinkTitle(e.src,u,e.posMax),u<m&&g!==u&&l.ok)for(f=l.str,u=l.pos;u<m&&(o=e.src.charCodeAt(u),i(o)||10===o);u++);else f="";(u>=m||41!==e.src.charCodeAt(u))&&(v=!0),u++}if(v){if(void 0===e.env.references)return!1;if(u<m&&91===e.src.charCodeAt(u)?(g=u+1,(u=e.md.helpers.parseLinkLabel(e,u))>=0?s=e.src.slice(g,u++):u=a+1):u=a+1,s||(s=e.src.slice(c,a)),!(h=e.env.references[n(s)]))return e.pos=d,!1;p=h.href,f=h.title}return t||(e.pos=c,e.posMax=a,e.push("link_open","a",1).attrs=r=[["href",p]],f&&r.push(["title",f]),e.md.inline.tokenize(e),e.push("link_close","a",-1)),e.pos=u,e.posMax=m,!0}},function(e,t,r){"use strict";var n=r(2).normalizeReference,i=r(2).isSpace;e.exports=function(e,t){var r,o,s,a,c,u,l,h,f,p,d,m,g,v="",y=e.pos,w=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(u=e.pos+2,(c=e.md.helpers.parseLinkLabel(e,e.pos+1,!1))<0)return!1;if((l=c+1)<w&&40===e.src.charCodeAt(l)){for(l++;l<w&&(o=e.src.charCodeAt(l),i(o)||10===o);l++);if(l>=w)return!1;for(g=l,(f=e.md.helpers.parseLinkDestination(e.src,l,e.posMax)).ok&&(v=e.md.normalizeLink(f.str),e.md.validateLink(v)?l=f.pos:v=""),g=l;l<w&&(o=e.src.charCodeAt(l),i(o)||10===o);l++);if(f=e.md.helpers.parseLinkTitle(e.src,l,e.posMax),l<w&&g!==l&&f.ok)for(p=f.str,l=f.pos;l<w&&(o=e.src.charCodeAt(l),i(o)||10===o);l++);else p="";if(l>=w||41!==e.src.charCodeAt(l))return e.pos=y,!1;l++}else{if(void 0===e.env.references)return!1;if(l<w&&91===e.src.charCodeAt(l)?(g=l+1,(l=e.md.helpers.parseLinkLabel(e,l))>=0?a=e.src.slice(g,l++):l=c+1):l=c+1,a||(a=e.src.slice(u,c)),!(h=e.env.references[n(a)]))return e.pos=y,!1;v=h.href,p=h.title}return t||(s=e.src.slice(u,c),e.md.inline.parse(s,e.md,e.env,m=[]),(d=e.push("image","img",0)).attrs=r=[["src",v],["alt",""]],d.children=m,d.content=s,p&&r.push(["title",p])),e.pos=l,e.posMax=w,!0}},function(e,t,r){"use strict";var n=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,i=/^<([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)>/;e.exports=function(e,t){var r,o,s,a,c,u,l=e.pos;return 60===e.src.charCodeAt(l)&&(!((r=e.src.slice(l)).indexOf(">")<0)&&(i.test(r)?(a=(o=r.match(i))[0].slice(1,-1),c=e.md.normalizeLink(a),!!e.md.validateLink(c)&&(t||((u=e.push("link_open","a",1)).attrs=[["href",c]],u.markup="autolink",u.info="auto",(u=e.push("text","",0)).content=e.md.normalizeLinkText(a),(u=e.push("link_close","a",-1)).markup="autolink",u.info="auto"),e.pos+=o[0].length,!0)):!!n.test(r)&&(a=(s=r.match(n))[0].slice(1,-1),c=e.md.normalizeLink("mailto:"+a),!!e.md.validateLink(c)&&(t||((u=e.push("link_open","a",1)).attrs=[["href",c]],u.markup="autolink",u.info="auto",(u=e.push("text","",0)).content=e.md.normalizeLinkText(a),(u=e.push("link_close","a",-1)).markup="autolink",u.info="auto"),e.pos+=s[0].length,!0))))}},function(e,t,r){"use strict";var n=r(235).HTML_TAG_RE;e.exports=function(e,t){var r,i,o,s=e.pos;return!!e.md.options.html&&(o=e.posMax,!(60!==e.src.charCodeAt(s)||s+2>=o)&&(!(33!==(r=e.src.charCodeAt(s+1))&&63!==r&&47!==r&&!function(e){var t=32|e;return t>=97&&t<=122}(r))&&(!!(i=e.src.slice(s).match(n))&&(t||(e.push("html_inline","",0).content=e.src.slice(s,s+i[0].length)),e.pos+=i[0].length,!0))))}},function(e,t,r){"use strict";var n=r(230),i=r(2).has,o=r(2).isValidEntityCode,s=r(2).fromCodePoint,a=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,c=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(e,t){var r,u,l=e.pos,h=e.posMax;if(38!==e.src.charCodeAt(l))return!1;if(l+1<h)if(35===e.src.charCodeAt(l+1)){if(u=e.src.slice(l).match(a))return t||(r="x"===u[1][0].toLowerCase()?parseInt(u[1].slice(1),16):parseInt(u[1],10),e.pending+=o(r)?s(r):s(65533)),e.pos+=u[0].length,!0}else if((u=e.src.slice(l).match(c))&&i(n,u[1]))return t||(e.pending+=n[u[1]]),e.pos+=u[0].length,!0;return t||(e.pending+="&"),e.pos++,!0}},function(e,t,r){"use strict";function n(e,t){var r,n,i,o,s,a,c,u,l={},h=t.length;for(r=0;r<h;r++)if((i=t[r]).length=i.length||0,i.close){for(l.hasOwnProperty(i.marker)||(l[i.marker]=[-1,-1,-1]),s=l[i.marker][i.length%3],a=-1,n=r-i.jump-1;n>s;n-=o.jump+1)if((o=t[n]).marker===i.marker&&(-1===a&&(a=n),o.open&&o.end<0&&o.level===i.level&&(c=!1,(o.close||i.open)&&(o.length+i.length)%3==0&&(o.length%3==0&&i.length%3==0||(c=!0)),!c))){u=n>0&&!t[n-1].open?t[n-1].jump+1:0,i.jump=r-n+u,i.open=!1,o.end=r,o.jump=u,o.close=!1,a=-1;break}-1!==a&&(l[i.marker][(i.length||0)%3]=a)}}e.exports=function(e){var t,r=e.tokens_meta,i=e.tokens_meta.length;for(n(0,e.delimiters),t=0;t<i;t++)r[t]&&r[t].delimiters&&n(0,r[t].delimiters)}},function(e,t,r){"use strict";e.exports=function(e){var t,r,n=0,i=e.tokens,o=e.tokens.length;for(t=r=0;t<o;t++)i[t].nesting<0&&n--,i[t].level=n,i[t].nesting>0&&n++,"text"===i[t].type&&t+1<o&&"text"===i[t+1].type?i[t+1].content=i[t].content+i[t+1].content:(t!==r&&(i[r]=i[t]),r++);t!==r&&(i.length=r)}},function(e,t,r){"use strict";var n=r(169),i=r(2).isWhiteSpace,o=r(2).isPunctChar,s=r(2).isMdAsciiPunct;function a(e,t,r,n){this.src=e,this.env=r,this.md=t,this.tokens=n,this.tokens_meta=Array(n.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[]}a.prototype.pushPending=function(){var e=new n("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},a.prototype.push=function(e,t,r){this.pending&&this.pushPending();var i=new n(e,t,r),o=null;return r<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),i.level=this.level,r>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],o={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(i),this.tokens_meta.push(o),i},a.prototype.scanDelims=function(e,t){var r,n,a,c,u,l,h,f,p,d=e,m=!0,g=!0,v=this.posMax,y=this.src.charCodeAt(e);for(r=e>0?this.src.charCodeAt(e-1):32;d<v&&this.src.charCodeAt(d)===y;)d++;return a=d-e,n=d<v?this.src.charCodeAt(d):32,h=s(r)||o(String.fromCharCode(r)),p=s(n)||o(String.fromCharCode(n)),l=i(r),(f=i(n))?m=!1:p&&(l||h||(m=!1)),l?g=!1:h&&(f||p||(g=!1)),t?(c=m,u=g):(c=m&&(!g||h),u=g&&(!m||p)),{can_open:c,can_close:u,length:a}},a.prototype.Token=n,e.exports=a},function(e,t,r){"use strict";function n(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){t&&Object.keys(t).forEach((function(r){e[r]=t[r]}))})),e}function i(e){return Object.prototype.toString.call(e)}function o(e){return"[object Function]"===i(e)}function s(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var a={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var c={"http:":{validate:function(e,t,r){var n=e.slice(t);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(n)?n.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,r){var n=e.slice(t);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(n)?t>=3&&":"===e[t-3]?0:t>=3&&"/"===e[t-3]?0:n.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,r){var n=e.slice(t);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(n)?n.match(r.re.mailto)[0].length:0}}},u="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",l="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function h(e){var t=e.re=r(466)(e.__opts__),n=e.__tlds__.slice();function a(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||n.push(u),n.push(t.src_xn),t.src_tlds=n.join("|"),t.email_fuzzy=RegExp(a(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(a(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(a(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(a(t.tpl_host_fuzzy_test),"i");var c=[];function l(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var r=e.__schemas__[t];if(null!==r){var n={validate:null,link:null};if(e.__compiled__[t]=n,"[object Object]"===i(r))return!function(e){return"[object RegExp]"===i(e)}(r.validate)?o(r.validate)?n.validate=r.validate:l(t,r):n.validate=function(e){return function(t,r){var n=t.slice(r);return e.test(n)?n.match(e)[0].length:0}}(r.validate),void(o(r.normalize)?n.normalize=r.normalize:r.normalize?l(t,r):n.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===i(e)}(r)?l(t,r):c.push(t)}})),c.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var h=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(s).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+h+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+h+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function f(e,t){var r=e.__index__,n=e.__last_index__,i=e.__text_cache__.slice(r,n);this.schema=e.__schema__.toLowerCase(),this.index=r+t,this.lastIndex=n+t,this.raw=i,this.text=i,this.url=i}function p(e,t){var r=new f(e,t);return e.__compiled__[r.schema].normalize(r,e),r}function d(e,t){if(!(this instanceof d))return new d(e,t);var r;t||(r=e,Object.keys(r||{}).reduce((function(e,t){return e||a.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=n({},a,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=n({},c,e),this.__compiled__={},this.__tlds__=l,this.__tlds_replaced__=!1,this.re={},h(this)}d.prototype.add=function(e,t){return this.__schemas__[e]=t,h(this),this},d.prototype.set=function(e){return this.__opts__=n(this.__opts__,e),this},d.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,r,n,i,o,s,a,c;if(this.re.schema_test.test(e))for((a=this.re.schema_search).lastIndex=0;null!==(t=a.exec(e));)if(i=this.testSchemaAt(e,t[2],a.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||c<this.__index__)&&null!==(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=r.index+r[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=r.index+r[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(n=e.match(this.re.email_fuzzy))&&(o=n.index+n[1].length,s=n.index+n[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&s>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=s)),this.__index__>=0},d.prototype.pretest=function(e){return this.re.pretest.test(e)},d.prototype.testSchemaAt=function(e,t,r){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,r,this):0},d.prototype.match=function(e){var t=0,r=[];this.__index__>=0&&this.__text_cache__===e&&(r.push(p(this,t)),t=this.__last_index__);for(var n=t?e.slice(t):e;this.test(n);)r.push(p(this,t)),n=n.slice(this.__last_index__),t+=this.__last_index__;return r.length?r:null},d.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,r){return e!==r[t-1]})).reverse(),h(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,h(this),this)},d.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},d.prototype.onCompile=function(){},e.exports=d},function(e,t,r){"use strict";e.exports=function(e){var t={};t.src_Any=r(232).source,t.src_Cc=r(233).source,t.src_Z=r(234).source,t.src_P=r(167).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><｜]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><｜]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|[><｜]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|[><｜]|\\(|"+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},function(e,t){e.exports=require("punycode")},function(e,t,r){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},function(e,t,r){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},function(e,t,r){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(18),i=r(31),o=r(5),s=r(59);t.ConfigLinkProvider=class{provideDocumentLinks(e,t){const r=[],n=i.parseTree(e.getText()),s=i.getNodeValue(n)||{};return s.configFilePath=e.uri,o.isDockerFileConfig(s)&&this._linksForDockerfile(r,s,n,e),"dockerComposeFile"in s&&this._linksForDockerCompose(r,s,n,e),r}_tryAddDocumentLinkToBucket(e,t,r,i,o){const s=e.positionAt(t),a=e.positionAt(r);0!==s.compareTo(a)&&o.push(new n.DocumentLink(new n.Range(s,a),i))}_linksForDockerfile(e,t,r,n){const s=i.findNodeAtLocation(r,["build","dockerfile"])||i.findNodeAtLocation(r,["dockerFile"]);s&&"string"===s.type&&this._tryAddDocumentLinkToBucket(n,s.offset+1,s.offset+s.length-1,o.getDockerfilePath(t),e)}_linksForDockerCompose(e,t,r,o){const a=s.getDockerComposeFilePaths(t).map(e=>n.Uri.file(e).path),c=i.findNodeAtLocation(r,["dockerComposeFile"]);if(a.length>0&&c)if("array"===c.type&&c.children)for(let t=0;t<c.children.length;t++)this._tryAddDocumentLinkToBucket(o,c.children[t].offset+1,c.children[t].offset+c.children[t].length-1,o.uri.with({path:a[t]}),e);else"string"===c.type&&this._tryAddDocumentLinkToBucket(o,c.offset+1,c.offset+c.length-1,o.uri.with({path:a[0]}),e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(18),i=r(1),o=r(28),s=r(5),a=r(78),c=r(60),u=r(41),l=r(156),h=r(59),f=r(155),p=r(170),d=r(238),m=r(8),g="Stop Container",v="Reopen Folder locally",y="Close Workspace";var w,b,E;!function(e){e.Placeholder="Placeholder",e.Group="Group",e.Container="Container",e.Folder="Folder"}(w||(w={}));class _{static isPlaceholderItem(e){return!!e&&e.type===w.Placeholder}static isGroupItem(e){return!!e&&e.type===w.Group}static isContainerItem(e){return!!e&&e.type===w.Container}static isFolderItem(e){return!!e&&e.type===w.Folder}}t.ExplorerItem=_,function(e){e[e.DevContainers=0]="DevContainers",e[e.AttachContainers=1]="AttachContainers",e[e.OtherContainers=2]="OtherContainers"}(b||(b={}));class C extends _{constructor(e){super(),this.command=e,this.type=w.Placeholder}async asTreeItem(){const e=new n.TreeItem(this.command.title);return e.command=this.command,e}static getAllPlaceholders(){const e=[];return n.workspace.workspaceFolders&&n.workspace.workspaceFolders.length>0&&(e.push(new C({command:"remote-containers.reopenInContainer",title:"Reopen in Container"})),e.push(new C({command:"remote-containers.createDevContainerFile",title:"Add Development Container Configuration Files.."}))),e.push(new C({command:"remote-containers.openFolder",title:"Open Folder in Container..."})),e.push(new C({command:"remote-containers.trySample",title:"Try a Sample..."})),e}}class S extends _{constructor(e,t){super(),this.label=e,this.groupType=t,this.type=w.Group}async asTreeItem(e,t,r,i){return new n.TreeItem(this.label,n.TreeItemCollapsibleState.Expanded)}}class k extends _{constructor(e,t=[],r,n=!1){super(),this.container=e,this.folders=t,this.parent=r,this.isDevContainer=n,this.type=w.Container}async asTreeItem(e,t,r,i){let o=new n.TreeItem(this.getContainerLabel(),this.getCollapsibleState());const s=this.getContextBase();return o.iconPath=H(t,B),o.contextValue="exited"+s,o.tooltip=`${o.label} Status: Unknown`,r&&this.container.Id===r.Id?(o.iconPath=H(t,L),o.contextValue="active"+s,o.tooltip=`${o.label} Status: Connected`):e&&await this.setTreeItemIconAndContext(e,t,s,o),o}getContextBase(){return(this.isDevContainer?"Dev":"")+"Container"}getCollapsibleState(){return this.folders.length>0?n.TreeItemCollapsibleState.Expanded:1===this.folders.length?n.TreeItemCollapsibleState.Collapsed:n.TreeItemCollapsibleState.None}async setTreeItemIconAndContext(e,t,r,n){let i=void 0;try{i=await e.getContainer(this.container.Id).inspect()}catch(e){return}switch(i.State.Status){case"created":n.iconPath=H(t,B),n.contextValue="exited"+r;break;case"paused":n.iconPath=H(t,M),n.contextValue="running"+r;break;case"restarting":n.iconPath=H(t,M),n.contextValue="exited"+r;break;case"exited":n.iconPath=H(t,B),n.contextValue="exited"+r;break;case"running":n.iconPath=H(t,N),n.contextValue="running"+r}n.tooltip=`${n.label} Status: ${this.getTimeElapsed(i)}`}getTimeElapsed(e){if(!e)return"";let t="";const r=e.State.Status,n=new Date(e.State.StartedAt),i=new Date(e.State.FinishedAt);if(n.getFullYear()>1&&i.getFullYear()>1){const o=new Date,s=new Date(n>i?e.State.StartedAt:e.State.FinishedAt);let a,c;const u=o.getTime()-s.getTime();a=(c=Math.round(u/k.years))>0?1===c?"year":"years":(c=Math.round(u/k.days))>0?1===c?"day":"days":(c=Math.round(u/k.hours))>0?1===c?"hour":"hours":(c=Math.round(u/k.minutes))>0?1===c?"minute":"minutes":1===(c=Math.round(u/k.seconds))?"second":"seconds",t=` ${c} ${a}`+(r.endsWith("ing")?"":" ago")}return`${r.charAt(0).toUpperCase()+r.slice(1)}`+t}getContainerLabel(){if(l.getHostWorkspaceFolder(this.container)&&this.folders.length>0)return`${i.basename(this.folders[0].folder.path)} (${s.getContainerName(this.container.Names)})`;{const e=h.getComposeProject(this.container);if(e)return`${e} (${s.getContainerName(this.container.Names)})`;const t=this.getRepository();if(t){const e=l.getRepositoryVolume(this.container);return e?`${t.repositoryShortName} in ${e} (${s.getContainerName(this.container.Names)})`:`${t.repositoryShortName} (${s.getContainerName(this.container.Names)})`}return`${this.container.Image} (${s.getContainerName(this.container.Names)})`}}getRepository(){const e=l.getRepositoryPath(this.container);if(e)return f.repositoryFromPath(e)}inspect(e){return e.docker.getContainer(this.container.Id).inspect()}}k.seconds=1e3,k.minutes=60*k.seconds,k.hours=60*k.minutes,k.days=24*k.hours,k.years=365*k.days;class x extends _{constructor(e,t,r){super(),this.container=e,this.folder=t,this.isDevContainer=r,this.type=w.Folder}async asTreeItem(e,t,r,o){let s=new n.TreeItem(i.basename(this.folder.path),n.TreeItemCollapsibleState.None);return s.description=this.folder.path,s.iconPath=H(t,j),s.contextValue="attachedFolder",this.isDevContainer&&!l.getRepositoryPath(this.container)&&(s.contextValue="devFolder"),r&&this.container.Id===r.Id&&o===this.folder.path&&(s.iconPath=H(t,U),s.tooltip=`Active Folder ${s.label}`,s.contextValue=`active${s.contextValue}`),s}}function D(e,t,r,i,o){n.commands.executeCommand("setContext","remote-containers:showDetails",!0);const s=new F(t,r,o),a=n.window.createTreeView("detailsContainers",{treeDataProvider:s});return s.setTitle=e=>{a.title=e},e.subscriptions.push(i.onDidChangeActiveContainer(e=>s.refresh(e))),s}t.FolderItem=x;class A{constructor(e,t,r){this.cwd=e,this.env=t,this.containerId=r,this.writeEmitter=new n.EventEmitter,this.onDidWrite=this.writeEmitter.event,this.destroyables=[]}open(){m.findWindowsExecutable("docker",this.cwd,this.env).then(e=>{const t=o.execFile(e,["logs","-f",this.containerId],{cwd:this.cwd,env:this.env});this.destroyables.push(t.stdout.on("data",e=>{this.write(e)})),this.destroyables.push(t.stderr.on("data",e=>{this.write(e)}))})}close(){this.writeEmitter.dispose(),this.destroyables.forEach(e=>{e.destroy()})}write(e){this.writeEmitter.fire(e.replace(/\n/g,"\r\n"))}}class T{constructor(e,t,r,n,i,o){this.targetsTreeData=e,this.detailsTreeData=t,this.connection=r,this.context=n,this.resolverResults=i,this.telemetry=o}registerCommands(){const e=[];return e.push(n.commands.registerCommand("remote-containers.stopContainer",this.commandStopContainer,this)),e.push(n.commands.registerCommand("remote-containers.removeContainer",this.commandRemoveContainer,this)),e.push(n.commands.registerCommand("remote-containers.startContainer",this.commandStartContainer,this)),e.push(n.commands.registerCommand("remote-containers.removeRecentFolder",this.commandRemoveRecentFolder,this)),e.push(n.commands.registerCommand("remote-containers.showDetails",this.commandShowDetails,this)),e.push(n.commands.registerCommand("remote-containers.explorerTargetsRefresh",async()=>this.targetsTreeData.refresh(void 0),this)),e.push(n.commands.registerCommand("remote-containers.explorerDetailsRefresh",this.commandExplorerDetailsRefresh,this)),e.push(n.commands.registerCommand("remote-containers.attachToContainer",this.commandAttachToContainer,this)),e.push(n.commands.registerCommand("remote-containers.attachToContainerNewWindow",this.commandAttachToContainerNewWindow,this)),e.push(n.commands.registerCommand("remote-containers.inspectDockerResource",this.commandInspectDockerResource,this)),e.push(n.commands.registerCommand("remote-containers.startAndOpenFolder",this.commandStartAndOpenFolder,this)),e.push(n.commands.registerCommand("remote-containers.newContainer",this.commandNewContainer,this)),e.push(n.commands.registerCommand("remote-containers.showContainerLog",this.commandShowContainerLog,this)),e}async commandStopContainer(e){if(!_.isContainerItem(e))return;const t=this.targetsTreeData.currentContainer&&this.targetsTreeData.currentContainer.Id===e.container.Id?"Stop active container? This will disconnect your current window.":`Stop ${e.getContainerLabel()}?`;let r=await n.window.showWarningMessage(t,{modal:!0},...function(e,t){const r=[g];return e&&e.Id===t.Id&&n.workspace.workspaceFolders&&n.workspace.workspaceFolders.length>0&&(r.push(y),n.workspace.workspaceFolders[0].uri.authority.startsWith("dev-container")&&r.push(v)),r}(this.targetsTreeData.currentContainer,e.container));await this.targetsTreeData.withProgress(e.parent,async()=>{switch(r){case g:await a.ensureContainerStopped(this.connection.docker,e.container);break;case y:await n.commands.executeCommand("workbench.action.closeFolder");break;case v:await n.commands.executeCommand("remote-containers.reopenLocally")}})}async commandRemoveContainer(e){if(!_.isContainerItem(e))return;const t=await this.connection.docker.getContainer(e.container.Id);if(!t)return;const r=await n.window.showWarningMessage("Remove this container? This action is not reversible and deletes the container permanently.",{modal:!0},"Remove");await this.targetsTreeData.withProgress(e.parent,async()=>{if("Remove"===r){const r=l.getRepositoryPath(e.container);await a.ensureContainerStopped(this.connection.docker,e.container),await a.tryRemoveContainer(t),this.detailsTreeData&&await this.detailsTreeData.refresh(void 0),await this.tryRemoveVolume(e.container,r)}})}async tryRemoveVolume(e,t){const r=l.getRepositoryVolume(e);if(r&&t){if("Remove"===await n.window.showWarningMessage(`This container is using the volume '${r}'. Do you want to remove the volume and the data it contains. This action deletes the volume permanently.`,{modal:!0},"Remove")){let e=this.connection.docker.getVolume(r);await a.tryRemoveVolume(e)}}}async commandStartContainer(e){_.isContainerItem(e)&&await this.targetsTreeData.withProgress(e.parent,async()=>{await a.ensureContainerStarted(this.connection.docker,e.container)})}async commandRemoveRecentFolder(e){_.isFolderItem(e)&&(await n.commands.executeCommand("vscode.removeFromRecentlyOpened",e.folder.toString()),await this.targetsTreeData.refresh(void 0))}async commandShowDetails(e){_.isContainerItem(e)&&(this.detailsTreeData||(this.detailsTreeData=D(this.context,this.connection,this.resolverResults,this.targetsTreeData,this.telemetry)),await this.detailsTreeData.refresh(e))}async commandExplorerDetailsRefresh(){this.detailsTreeData&&await this.detailsTreeData.refresh(void 0)}async commandStartAndOpenFolder(e){let t;_.isFolderItem(e)&&(t=e.container),t&&(await a.ensureContainerStarted(this.connection.docker,t),await n.commands.executeCommand("remote-containers.openFolder",e))}async commandAttachToContainer(e){return this.attachToContainerInternal(e)}async commandAttachToContainerNewWindow(e){return this.attachToContainerInternal(e,!0)}async attachToContainerInternal(e,t=!1){let r;_.isContainerItem(e)?r=e.container:this.detailsTreeData&&(r=this.detailsTreeData.container),r&&(await a.ensureContainerStarted(this.connection.docker,r),await p.attachToContainer(this.connection,r,this.context,t))}async commandInspectDockerResource(e){let t;(_.isContainerItem(e)||I.isImageItem(e)||I.isVolume(e))&&(t=await e.inspect(this.connection)),t&&n.window.showTextDocument(await n.workspace.openTextDocument({language:"json",content:JSON.stringify(t,null,"\t")}))}async commandNewContainer(){const e=await n.window.showQuickPick([{label:"Open Current Folder in Container",command:"remote-containers.reopenInContainer"},{label:"Open Folder in Container...",command:"remote-containers.openFolder"},{label:"Open Workspace in Container...",command:"remote-containers.openWorkspace"},{label:"Open Repository in Container...",command:"remote-containers.openRepositoryInVolume"},{label:"Try a Sample...",command:"remote-containers.trySample"}],{placeHolder:"Select an action to create a container"});if(e)return n.commands.executeCommand(e.command)}async commandShowContainerLog(e){if(!_.isContainerItem(e))return;let t,r;if(this.resolverResults.size>0){const{common:e}=[...this.resolverResults.values()][0].params;t=e.cwd,r=e.env}else n.workspace.workspaceFolders&&n.workspace.workspaceFolders.length>0?(t=n.workspace.workspaceFolders[0].uri.fsPath,r=process.env):(t=process.cwd(),r=process.env);const i=new A(t,r,e.container.Id);n.window.createTerminal({name:e.container.Image,pty:i}).show()}}t.activate=function(e,t,r,i){n.commands.executeCommand("setContext","remote-containers:showDetails",!1);const o=new R(e,r,i),s=n.window.createTreeView("targetsContainers",{treeDataProvider:o});o.setMessage=e=>s.message=e;let a=function(e,t,r,i,o){if(n.env.remoteName&&("attached-container"===n.env.remoteName||"dev-container"===n.env.remoteName))return D(e,t,r,i,o)}(e,t,r,o,i);const c=new T(o,a,t,e,r,i);e.subscriptions.push(...c.registerCommands()),e.subscriptions.push(n.workspace.onDidChangeConfiguration(async e=>{if(e.affectsConfiguration("docker"))return o.refresh(void 0)}))};class R{constructor(e,t,r){this.context=e,this.resolverResults=t,this.telemetry=r,this._onDidChangeTreeData=new n.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,this._onDidChangeActiveContainer=new n.EventEmitter,this.onDidChangeActiveContainer=this._onDidChangeActiveContainer.event,this.setTreeMessage=()=>{},this.devContainers=[],this.attachContainers=[],this.otherContainers=[],this.recentAttachEntries=new Map,this.recentAttachDevContainerEntries=new Map,this.recentDevComposeEntries=new Map,this.containerItems=new Map,this.action=Promise.resolve()}set setMessage(e){this.setTreeMessage=e}get currentContainer(){return this._currentContainer}async getDocker(){return this.docker||(this.docker=await a.getDockerConnection(),d.hasDockerVersion(this.docker,this.telemetry)||(this.docker=void 0)),this.docker}handleDockerEvent(e){try{const t=JSON.parse(e.toString());if(!t.Action)return;const r="exec_create: /root/.vscode-server";if("die"===t.Action||"destroy"===t.Action||"create"===t.Action)this._onDidChangeTreeData.fire();else{if(!t.Action.startsWith("exec_create")&&t.Actor&&t.Actor.ID&&this.containerItems.has(t.Actor.ID))return void this._onDidChangeTreeData.fire(this.containerItems.get(t.Actor.ID));if(t.Action.startsWith(r))return void this._onDidChangeTreeData.fire()}}catch(e){}}async tryEnsureDocker(){const e=await this.getDocker();if(e)try{(await e.docker.getEvents({filters:{event:["create","destroy","die","health-status","kill","pause","rename","resize","restart","start","stop","unpause","update","exec_create"]}})).on("data",e=>{this.handleDockerEvent(e)})}catch(e){"ENOENT"!==e.code&&console.log(e),this.docker=void 0}}async getTreeItem(e){return e.asTreeItem(this.docker?this.docker.docker:void 0,this.context,this._currentContainer,this.currentFolder)}async getDockerOrShowMessage(e){return!(!this.docker&&(void 0===e&&await this.tryEnsureDocker(),!this.docker))||(this.setTreeMessage("Get started with containers by installing and starting Docker or visiting the help section above."),this._onDidChangeActiveContainer.fire(void 0),!1)}async getChildGroups(e){this.containerItems.clear(),this.setCurrents(),await this.setContainerTypes(e);const t=[];return(this.devContainers.length>0||this.attachContainers.length>0)&&t.push(new S("Dev Containers",b.DevContainers)),this.otherContainers.length>0&&t.push(new S("Other Containers",b.OtherContainers)),t}async getChildDevContainer(e,t){let r=await this.getWorkspaceFolderFromContainer(e);const n=r?[new x(e,r,!0)]:[];let i=l.getHostWorkspaceFolder(e);i&&this.recentAttachDevContainerEntries.has(i)?n.push(...this.recentAttachDevContainerEntries.get(i).map(t=>new x(e,t,!1))):i&&this.recentAttachEntries.has(e.Id)?n.push(...this.recentAttachEntries.get(e.Id).map(t=>new x(e,t,!1))):(i=l.getRepositoryPath(e))&&this.recentAttachDevContainerEntries.has(i)?n.push(...this.recentAttachDevContainerEntries.get(i).map(t=>new x(e,t,!1))):void 0===i&&this.recentDevComposeEntries.has(e.Id)&&n.push(...this.recentDevComposeEntries.get(e.Id).map(t=>new x(e,t,!1)));const o=new k(e,n,t,!0);return this.setContainerItems(o),o}setContainerItems(e){this.containerItems.set(e.container.Id,e),this._currentContainer&&e.container.Id===this._currentContainer.Id&&this._onDidChangeActiveContainer.fire(e)}async getChildContainers(e){if(e.groupType===b.DevContainers){const t=this.devContainers.map(async t=>this.getChildDevContainer(t,e));return t.push(...this.attachContainers.map(async t=>{const r=new k(t,this.recentAttachEntries.get(t.Id).map(e=>new x(t,e,!1)),e);return this.setContainerItems(r),r})),Promise.all(t)}return this.otherContainers.map(t=>{const r=new k(t,[],e);return this.setContainerItems(r),r})}getChildFolders(e){return e.folders?e.folders:[]}async getChildItems(e,t){return void 0===e?this.getChildGroups(t):_.isGroupItem(e)?this.getChildContainers(e):_.isContainerItem(e)?this.getChildFolders(e):[]}async getChildren(e){if(await this.action,!await this.getDockerOrShowMessage(e))return[];const t=await this.docker.docker.listContainers({all:!0});return 0===t.length?(this.setTreeMessage("Get started with containers by running one of the 'Remote-Containers'-commands or visiting the help section above."),C.getAllPlaceholders()):(this.setTreeMessage(void 0),this.getChildItems(e,t))}async refresh(e){void 0===e&&(this.docker=void 0),this._onDidChangeTreeData.fire(e)}async setCurrents(){const e=n.workspace.workspaceFolders;let t=void 0;if(this.docker)if(e&&e.length>0){const r=this.resolverResults.get(e[0].uri.authority);r&&r.dockerContainerId&&(t=await s.findTargetContainerById(this.docker.docker,r.dockerContainerId),this.currentFolder=e[0].uri.path)}else if(this.resolverResults.size>0){const e=[...this.resolverResults.values()][0].dockerContainerId;e&&(t=await s.findTargetContainerById(this.docker.docker,e))}t!==this._currentContainer&&(this._currentContainer=t)}addContainerToMap(e){l.getHostWorkspaceFolder(e)?this.devContainers.push(e):l.getRepositoryPath(e)?this.devContainers.push(e):h.getComposeProject(e)&&this.recentDevComposeEntries.has(e.Id)?this.devContainers.push(e):this.recentAttachEntries.has(e.Id)?this.attachContainers.push(e):this.otherContainers.push(e)}async setContainerTypes(e){return await this.setRecentEntries(),this.devContainers.length=0,this.attachContainers.length=0,this.otherContainers.length=0,e.forEach(e=>{this.addContainerToMap(e)}),{hasDev:this.devContainers.length>0,hasAttach:this.attachContainers.length>0}}async getWorkspaceFolderFromHostWorkspace(e){const t=await c.findDevContainerConfigPath(u.workspaceFromPath(e)),r=t&&await c.readDevContainerConfigFile({localWorkspaceFolder:e,configFile:t,env:process.env})||void 0;if(r&&s.isDockerFileConfig(r)){const t=await s.getWorkspaceConfiguration(u.workspaceFromPath(e),r),i=t?t.workspaceFolder:void 0;return i?n.Uri.parse(s.getDevContainerUri(e,i,void 0),!0):void 0}}async getWorkspaceFolderFromContainer(e){const t=l.getHostWorkspaceFolder(e);if(t)return this.getWorkspaceFolderFromHostWorkspace(t);{const t=l.getRepositoryPath(e),r=l.getRepositoryVolume(e),i=l.getRepositoryFolder(e);if(t)return n.Uri.parse(s.getRepositoryDevContainerUri(t,r,i,void 0))}}async getWorkspaceFolderFromHostPath(e){const t=await s.getHostMountFolder(e),r=s.getWorkspaceFolderFromHost(t,e);return n.Uri.parse(s.getDevContainerUri(e,r,void 0),!0)}getWorkspaceFolderFromRepository(e,t,r){return n.Uri.parse(s.getRepositoryDevContainerUri(e,t,r,void 0),!0)}async findComposeTargetContainer(e){const t=u.workspaceFromPath(e),r=await c.findDevContainerConfigPath(t);let n=r&&await c.readDevContainerConfigFile({localWorkspaceFolder:e,configFile:r,env:process.env});if(this.docker&&n&&"dockerComposeFile"in n){const e=h.getDockerComposeFilePaths(n);let{projectName:r}=await h.getProjectName(this.docker,t,e);return h.findTargetContainer(this.docker.docker,r,n.service)}}async trySetEntryWithAttachAuthority(e,t){let r;if("containerName"in t){if(this.docker){const e=await s.findTargetContainerByName(this.docker.docker,t.containerName);e&&(r=e.Id)}}else r=t.containerId;r&&(this.recentAttachEntries.has(r)?this.recentAttachEntries.get(r).push(e):this.recentAttachEntries.set(r,[e]))}async trySetEntryWithDevAuthority(e,t){if((await this.getWorkspaceFolderFromHostPath(t.hostPath)).path!==e.path){this.recentAttachDevContainerEntries.has(t.hostPath)?this.recentAttachDevContainerEntries.get(t.hostPath).push(e):this.recentAttachDevContainerEntries.set(t.hostPath,[e]);const r=await this.findComposeTargetContainer(t.hostPath);r&&this.recentDevComposeEntries.has(r.Id)?this.recentDevComposeEntries.get(r.Id).push(e):r&&this.recentDevComposeEntries.set(r.Id,[e])}}async trySetEntryWithRepoAuthority(e,t){(await this.getWorkspaceFolderFromRepository(t.repositoryPath,t.volumeName,t.folder)).path!==e.path&&(this.recentAttachDevContainerEntries.has(t.repositoryPath)?this.recentAttachDevContainerEntries.get(t.repositoryPath).push(e):this.recentAttachDevContainerEntries.set(t.repositoryPath,[e]))}async trySetEntry(e){if(!e||!e.folderUri)return;const t=e.folderUri,r=s.getParseAttachedContainerAuthority(t.authority);if(r)await this.trySetEntryWithAttachAuthority(t,r);else{const e=s.getParseDevContainerAuthority(t.authority);e&&(s.isDevContainerAuthority(e)?await this.trySetEntryWithDevAuthority(t,e):await this.trySetEntryWithRepoAuthority(t,e))}}async setRecentEntries(){this.recentAttachEntries.clear(),this.recentAttachDevContainerEntries.clear(),this.recentDevComposeEntries.clear();const e=await n.commands.executeCommand("_workbench.getRecentlyOpened");if(e&&e.workspaces)for(const t of e.workspaces)await this.trySetEntry(t)}withProgress(e,t){return this.action=this.action.then(()=>t()),this.refresh(e)}}t.TargetsTree=R,function(e){e.Default="Default",e.Title="Title",e.Image="Image",e.Port="Port",e.Volume="Volume"}(E||(E={}));class I{constructor(e){this.label=e,this.type=E.Default}static isDetailItem(e){return!!e&&void 0!==e.label&&void 0!==e.type}static isImageItem(e){return!!e&&e.type===E.Image}static isVolume(e){return!!e&&e.type===E.Volume}}class P{constructor(e){this.detail=e,this.type=E.Image,this.context="image",this.label="Image"}inspect(e){return e.docker.getImage(this.detail).inspect()}}class O{constructor(e,t){this.label=e,this.volume=t,this.type=E.Volume,this.context="volume"}inspect(e){return e.docker.getVolume(this.volume).inspect()}}class F{constructor(e,t,r){this.docker=e,this.resolverResults=t,this.telemetry=r,this._onDidChangeTreeData=new n.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,this.setTreeTitle=()=>{}}set setTitle(e){this.setTreeTitle=e}get container(){return this._container?this._container.container:void 0}getTreeItem(e){const t=new n.TreeItem(e.label,Array.isArray(e.detail)&&e.detail.length>0?n.TreeItemCollapsibleState.Expanded:n.TreeItemCollapsibleState.None);return t.tooltip=t.label,e.detail&&!Array.isArray(e.detail)&&(t.description=e.detail,t.tooltip+=` ${t.description}`),t.contextValue=e.context,t.command=e.command,t}async getAttributes(e,t,r){const n=[];t&&n.push({label:"Workspace",detail:t});const i=l.getRepositoryPath(e.container);return i&&n.push({label:"Repository",detail:i}),n.push({label:"Name",detail:s.getContainerName(e.container.Names)}),n.push(new P(e.container.Image)),r&&n.push({label:"Configuration",detail:r,command:{title:"Open Dev Container File",command:"remote-containers.openDevContainerFile",arguments:[r]},context:"devContainer"}),n}async getMounts(e){const t=[];return e?(e.Mounts.forEach(e=>{if("volume"===e.Type){const r=this.docker.docker.getVolume(e.Name);let n=new O(`Volume: ${r.name}`,r.name),i={label:`Destination: ${e.Destination}`,detail:void 0};t.push({label:"Volume mount",detail:[n,i]})}else if("bind"===e.Type){let r={label:`Source: ${e.Source}`,detail:void 0},n={label:`Destination: ${e.Destination}`,detail:void 0};t.push({label:"Bind mount",detail:[r,n]})}}),t):t}async getChildrenFromRoot(e){const t=[],r=l.getHostWorkspaceFolder(e.container);let n,i;r&&(n=await c.findDevContainerConfigPath(u.workspaceFromPath(r))),t.push({label:"Attributes",detail:await this.getAttributes(e,r,n),type:E.Title}),this.docker&&(i=await this.docker.docker.getContainer(e.container.Id).inspect());const o=await this.getMounts(i);return o.length>0&&t.push({label:"Mounts",detail:o,type:E.Title}),t}async testContainer(){let e=!0;try{const t=this.docker?await this.docker.docker.getContainer(this._container.container.Id):void 0;void 0!==t?await t.inspect():e=!1}catch(t){e=!1}return e||(this._container=void 0,this.setTreeTitle("Details (Containers)")),e}async getChildren(e){if(void 0===this._container)return[];let t=[];return void 0===e?await this.testContainer()&&(this.setTreeTitle(this._container.getContainerLabel()),t=await this.getChildrenFromRoot(this._container)):Array.isArray(e.detail)&&t.push(...e.detail),t}async refresh(e){this.docker=await a.getDockerConnection(),d.hasDockerVersion(this.docker,this.telemetry)||(this.docker=void 0,this._container=void 0),this._container=e||this._container,this.resolverResults.size>0&&[...this.resolverResults.values()][0].onPortForwarded.addListener(s.portForwardedEvent,()=>{this._onDidChangeTreeData.fire(void 0)}),this._onDidChangeTreeData.fire(void 0)}}t.DetailsTree=F;const N="vm-running",L="vm-active",B="vm-default",M="vm-suspended",U="folder-active",j="folder";function H(e,t){const r=`${t}.svg`;return{light:n.Uri.file(e.asAbsolutePath(i.join("resources","light",r))),dark:n.Uri.file(e.asAbsolutePath(i.join("resources","dark",r))),highContrast:n.Uri.file(e.asAbsolutePath(i.join("resources","highContrast",r)))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),i=r(18),o=r(31),s=r(78),a=r(26),c=r(166),u=r(5);t.activateEditConfiguration=function(e){e.subscriptions.push(function(e){return i.languages.registerCompletionItemProvider([{pattern:"**/.devcontainer.json"},{pattern:"**/devcontainer.json"},{pattern:n.join(c.getAttachDevContainerConfigFolder(e.globalStoragePath),"*.json")}],{provideCompletionItems(e,t,r){const n=o.getLocation(e.getText(),e.offsetAt(t)),s=e.getWordRangeAtPosition(t)||new i.Range(t,t);if("extensions"===n.path[0]){return function(e,t){const r=e&&e.extensions||[];if(Array.isArray(r)){const e=i.extensions.all.filter(e=>!(e.id.startsWith("vscode.")||"Microsoft.vscode-markdown"===e.id||r.indexOf(e.id)>-1));if(e.length)return e.map(e=>{const r=new i.CompletionItem(e.id),n=`"${e.id}"`;return r.kind=i.CompletionItemKind.Value,r.insertText=n,r.range=t,r.filterText=n,r})}return}(o.parse(e.getText()),s)}return[]}})}(e)),e.subscriptions.push(i.commands.registerCommand("remote-containers.addExtensionToConfig",async e=>{const t=await s.findDevContainerFiles();if(!t.length){const e="Add Files...";return await i.window.showInformationMessage("No container configuration files found to add the extension to.",{modal:!0},e)===e?i.commands.executeCommand("remote-containers.createDevContainerFile"):void 0}let r;if(r=1===t.length?{uri:t[0]}:await i.window.showQuickPick(t.map(e=>({label:"file"===e.scheme?e.fsPath:e.toString(),uri:e})),{placeHolder:"Select a container configuration file"})){const t=r.uri;let n=u.fileDocuments;if("file"===t.scheme&&!await a.exists(t.fsPath)&&s.resolverState.results.size)await c.writeAttachDevContainerConfigDocument(u.fileDocuments,t,[],!1);else if("vscode-remote"===t.scheme&&s.resolverState.results.size){const e=[...s.resolverState.results.values()].find(e=>e.config.configFilePath===t);n=new u.AllDocuments(e.properties.shellServer)}const i=await n.readDocument(t);if(i){const r=o.parse(i).extensions||[];if(-1===r.indexOf(e)){r.push(e);const s=o.modify(i,["extensions"],r,{formattingOptions:{}});await n.applyEdits(t,s)}}}}))}},function(e){e.exports=JSON.parse('{"name":"remote-containers","displayName":"Remote - Containers","description":"Open any folder inside (or mounted into) a container and take advantage of Visual Studio Code\'s full feature set.","version":"0.106.0","preview":true,"publisher":"ms-vscode-remote","icon":"resources/remote-containers.png","repository":{"type":"git","url":"https://github.com/Microsoft/vscode-remote-release.git"},"bugs":{"url":"https://github.com/Microsoft/vscode-remote-release/issues"},"license":"SEE LICENSE IN LICENSE.txt","engines":{"vscode":"^1.43.0"},"extensionKind":["ui"],"categories":["Other"],"keywords":["remote","docker","containers","remote development","dev container","development container"],"aiKey":"AIF-d9b70cd4-b9f9-4d70-929b-a071c400b217","activationEvents":["onCommand:remote-containers.reopenInContainer","onCommand:remote-containers.rebuildAndReopenInContainer","onCommand:remote-containers.reopenLocally","onCommand:remote-containers.openFolder","onCommand:remote-containers.openRepositoryInVolume","onCommand:remote-containers.openWorkspace","onCommand:remote-containers.attachToRunningContainer","onCommand:remote-containers.attachToRunningContainerFromViewlet","onCommand:remote-containers.rebuildContainer","onCommand:remote-containers.createDevContainerFile","onCommand:remote-containers.openDevContainerFile","onCommand:remote-containers.openAttachDevContainerFile","onCommand:remote-containers.settings","onCommand:remote-containers.getHelp","onCommand:remote-containers.getStarted","onCommand:remote-containers.trySample","onCommand:remote-containers.reportIssue","onCommand:remote-containers.provideFeedback","onCommand:remote-containers.revealLogTerminal","onCommand:remote-containers.openLogFile","onCommand:remote-containers.addExtensionToConfig","workspaceContains:.devcontainer/devcontainer.json","workspaceContains:.devcontainer.json","onResolveRemoteAuthority:dev-container","onResolveRemoteAuthority:attached-container","onDebugResolve:extensionHost","onView:targetsContainers"],"main":"./dist/extension","enableProposedApi":true,"contributes":{"configuration":{"title":"Remote - Containers","properties":{"remote.containers.defaultExtensions":{"type":"array","description":"Configures the list of extensions to always install while creating a container.","default":[],"items":{"type":"string","pattern":"([a-z0-9A-Z][a-z0-9\\\\-A-Z]*)\\\\.([a-z0-9A-Z][a-z0-9\\\\-A-Z]*)","errorMessage":"Expected format \'${publisher}.${name}\'. Example: \'vscode.csharp\'."}},"remote.containers.enableContainersExplorer":{"type":"boolean","description":"Enables the Containers Explorer in the Remote Explorer.","default":true},"remote.containers.workspaceMountConsistency":{"type":"string","enum":["consistent","cached","delegated"],"enumDescriptions":["Perfect consistency.","The host’s view is authoritative.","The container’s view is authoritative."],"description":"The consistency level used for the workspace mount (existing containers must be rebuilt to take effect).","default":"cached"},"dotfiles.repository":{"type":"string","description":"URL of a dotfiles Git repository (e.g., https://github.com/owner/repository.git) or owner/repository of a GitHub repository."},"dotfiles.installCommand":{"type":"string","description":"The command to run after cloning the dotfiles repository. Defaults to `~/dotfiles/install.sh`.","default":"~/dotfiles/install.sh"},"dotfiles.targetPath":{"type":"string","description":"The path to clone the dotfiles repository to. Defaults to `~/dotfiles`.","default":"~/dotfiles"},"remote.containers.dotfiles.repository":{"type":"string","description":"URL of a dotfiles Git repository (e.g., https://github.com/owner/repository.git) or owner/repository of a GitHub repository for DevContainers. This overrides the common setting for the dotfiles repository."},"remote.containers.dotfiles.installCommand":{"type":"string","description":"The command to run after cloning the dotfiles repository for DevContainers. This overrides the common setting for the dotfiles install command."},"remote.containers.dotfiles.targetPath":{"type":"string","description":"The path to clone the dotfiles repository to for DevContainers. This overrides the common setting for the dotfiles target path."}}},"commands":[{"command":"remote-containers.reopenInContainer","title":"Reopen in Container","category":"Remote-Containers"},{"command":"remote-containers.rebuildAndReopenInContainer","title":"Rebuild and Reopen in Container","category":"Remote-Containers"},{"command":"remote-containers.reopenLocally","title":"Reopen Locally","category":"Remote-Containers"},{"command":"remote-containers.openFolder","title":"Open Folder in Container...","category":"Remote-Containers","icon":{"light":"resources/light/reopen-folder.svg","dark":"resources/dark/reopen-folder.svg"}},{"command":"remote-containers.startAndOpenFolder","title":"Open Folder in Container","category":"Remote-Containers","icon":{"light":"resources/light/reopen-folder.svg","dark":"resources/dark/reopen-folder.svg"}},{"command":"remote-containers.openRepositoryInVolume","title":"Open Repository in Container...","category":"Remote-Containers"},{"command":"remote-containers.openWorkspace","title":"Open Workspace in Container...","category":"Remote-Containers"},{"command":"remote-containers.attachToRunningContainer","title":"Attach to Running Container...","category":"Remote-Containers"},{"command":"remote-containers.attachToRunningContainerFromViewlet","title":"Attach Visual Studio Code","category":"Remote-Containers"},{"command":"remote-containers.rebuildContainer","title":"Rebuild Container","category":"Remote-Containers"},{"command":"remote-containers.createDevContainerFile","title":"Add Development Container Configuration Files...","category":"Remote-Containers"},{"command":"remote-containers.settings","title":"Settings","category":"Remote-Containers"},{"command":"remote-containers.getHelp","title":"Help","category":"Remote-Containers"},{"command":"remote-containers.getStarted","title":"Getting Started","category":"Remote-Containers"},{"command":"remote-containers.trySample","title":"Try a Sample...","category":"Remote-Containers"},{"command":"remote-containers.reportIssue","title":"Report Issue...","category":"Remote-Containers"},{"command":"remote-containers.provideFeedback","title":"Provide Feedback","category":"Remote-Containers"},{"command":"remote-containers.openDevContainerFile","title":"Open Container Configuration File","category":"Remote-Containers"},{"command":"remote-containers.openAttachDevContainerFile","title":"Open Attached Container Configuration File...","category":"Remote-Containers"},{"command":"remote-containers.revealLogTerminal","title":"Show Log","category":"Remote-Containers"},{"command":"remote-containers.openLogFile","title":"Open Log File...","category":"Remote-Containers"},{"command":"remote-containers.attachToContainer","title":"Attach to Container","category":"Remote-Containers","icon":{"light":"resources/light/empty-window.svg","dark":"resources/dark/empty-window.svg"}},{"command":"remote-containers.attachToContainerNewWindow","title":"Attach in New Window","category":"Remote-Containers"},{"command":"remote-containers.stopContainer","title":"Stop Container","category":"Remote-Containers"},{"command":"remote-containers.startContainer","title":"Start Container","category":"Remote-Containers","icon":{"light":"resources/light/vm-start.svg","dark":"resources/dark/vm-start.svg"}},{"command":"remote-containers.removeContainer","title":"Remove Container","category":"Remote-Containers","icon":{"light":"resources/light/remove.svg","dark":"resources/dark/remove.svg"}},{"command":"remote-containers.removeRecentFolder","title":"Remove Recent Folder","category":"Remote-Containers","icon":{"light":"resources/light/remove.svg","dark":"resources/dark/remove.svg"}},{"command":"remote-containers.openInBrowser","title":"Open in Browser","category":"Remote-Containers","icon":{"light":"resources/light/open-browser.svg","dark":"resources/dark/open-browser.svg"}},{"command":"remote-containers.showDetails","title":"Show Details","category":"Remote-Containers"},{"command":"remote-containers.explorerTargetsRefresh","title":"Refresh","category":"Remote-Containers","icon":{"light":"resources/light/refresh.svg","dark":"resources/dark/refresh.svg"}},{"command":"remote-containers.explorerDetailsRefresh","title":"Refresh","category":"Remote-Containers","icon":{"light":"resources/light/refresh.svg","dark":"resources/dark/refresh.svg"}},{"command":"remote-containers.inspectDockerResource","title":"Inspect","category":"Remote-Containers"},{"command":"remote-containers.newContainer","title":"New Container","category":"Remote-Containers","icon":{"light":"resources/light/plus.svg","dark":"resources/dark/plus.svg"}},{"command":"remote-containers.showContainerLog","title":"Show Container Log","category":"Remote-Containers"},{"command":"remote-containers.forwardCandidatePort","title":"Forward Port","category":"Remote-Containers","icon":{"light":"resources/light/plus.svg","dark":"resources/dark/plus.svg"}},{"command":"remote-containers.stopForwardingPort","title":"Stop Forwarding Port","category":"Remote-Containers","icon":{"light":"resources/light/remove.svg","dark":"resources/dark/remove.svg"}},{"command":"remote-containers.refreshPorts","title":"Refresh Ports","category":"Remote-Containers","icon":{"light":"resources/light/refresh.svg","dark":"resources/dark/refresh.svg"}},{"command":"remote-containers.addExtensionToConfig","title":"Add to devcontainer.json","category":"Remote-Containers"}],"menus":{"commandPalette":[{"command":"remote-containers.reopenInContainer","when":"workspaceFolderCount != 0 && !remoteName"},{"command":"remote-containers.rebuildAndReopenInContainer","when":"workspaceFolderCount != 0 && !remoteName"},{"command":"remote-containers.reopenLocally","when":"remoteName =~ /^dev-container$/"},{"command":"remote-containers.openFolder","when":"remoteName =~ /^((dev|attached)-container)?$/"},{"command":"remote-containers.openRepositoryInVolume","when":"remoteName =~ /^((dev|attached)-container)?$/"},{"command":"remote-containers.openWorkspace","when":"remoteName =~ /^((dev|attached)-container)?$/"},{"command":"remote-containers.attachToRunningContainer","when":"remoteName =~ /^((dev|attached)-container)?$/"},{"command":"remote-containers.attachToRunningContainerFromViewlet","when":"false"},{"command":"remote-containers.rebuildContainer","when":"remoteName =~ /^dev-container$/"},{"command":"remote-containers.createDevContainerFile","when":"workspaceFolderCount != 0 && !remoteName"},{"command":"remote-containers.openDevContainerFile","when":"workspaceFolderCount != 0 && !remoteName"},{"command":"remote-containers.openDevContainerFile","when":"remoteName =~ /^(dev|attached)-container$/"},{"command":"remote-containers.openAttachDevContainerFile","when":"remoteName =~ /^((dev|attached)-container)?$/"},{"command":"remote-containers.getStarted","when":"false"},{"command":"remote-containers.trySample","when":"!remoteName"},{"command":"remote-containers.provideFeedback","when":"remoteName =~ /^(dev|attached)-container$/"},{"command":"remote-containers.revealLogTerminal","when":"remoteName =~ /^(dev|attached)-container$/"},{"command":"remote-containers.attachToContainer","when":"false"},{"command":"remote-containers.attachToContainerNewWindow","when":"false"},{"command":"remote-containers.stopContainer","when":"false"},{"command":"remote-containers.removeContainer","when":"false"},{"command":"remote-containers.startContainer","when":"false"},{"command":"remote-containers.removeRecentFolder","when":"false"},{"command":"remote-containers.openInBrowser","when":"false"},{"command":"remote-containers.showDetails","when":"false"},{"command":"remote-containers.explorerTargetsRefresh","when":"false"},{"command":"remote-containers.explorerDetailsRefresh","when":"false"},{"command":"remote-containers.inspectDockerResource","when":"false"},{"command":"remote-containers.startAndOpenFolder","when":"false"},{"command":"remote-containers.newContainer","when":"false"},{"command":"remote-containers.showContainerLog","when":"false"},{"command":"remote-containers.forwardCandidatePort","when":"false"},{"command":"remote-containers.stopForwardingPort","when":"false"},{"command":"remote-containers.refreshPorts","when":"false"},{"command":"remote-containers.addExtensionToConfig","when":"false"}],"statusBar/windowIndicator":[{"command":"remote-containers.reopenInContainer","group":"2_local_containers_actions@1","when":"workspaceFolderCount != 0 && !remoteName"},{"command":"remote-containers.openFolder","group":"2_local_containers_actions@2","when":"!remoteName"},{"command":"remote-containers.openWorkspace","group":"2_local_containers_actions@3","when":"!remoteName"},{"command":"remote-containers.openRepositoryInVolume","group":"2_local_containers_actions@4","when":"!remoteName"},{"command":"remote-containers.attachToRunningContainer","group":"2_local_containers_actions@5","when":"!remoteName"},{"command":"remote-containers.createDevContainerFile","group":"2_local_containers_actions@6","when":"workspaceFolderCount != 0 && !remoteName"},{"command":"remote-containers.trySample","group":"2_local_containers_actions@7","when":"!remoteName"},{"command":"remote-containers.getStarted","group":"2_local_containers_actions@8","when":"!remoteName"},{"command":"remote-containers.reopenLocally","group":"1_remote_containers_actions@1","when":"remoteName =~ /^dev-container$/"},{"command":"remote-containers.rebuildContainer","group":"1_remote_containers_actions@2","when":"remoteName =~ /^dev-container$/"},{"command":"remote-containers.openDevContainerFile","group":"1_remote_containers_actions@4","when":"remoteName =~ /^(dev|attached)-container$/"},{"command":"remote-containers.revealLogTerminal","group":"1_remote_containers_actions@5","when":"remoteName =~ /^(dev|attached)-container$/"},{"command":"remote-containers.startAndOpenFolder","group":"1_remote_containers_actions@6","when":"remoteName =~ /^(dev|attached)-container$/ && remoteConnectionState == connected"},{"command":"remote-containers.openWorkspace","group":"1_remote_containers_actions@7","when":"remoteName =~ /^(dev|attached)-container$/ && remoteConnectionState == connected"},{"command":"remote-containers.attachToRunningContainer","group":"1_remote_containers_actions@8","when":"remoteName =~ /^(dev|attached)-container$/"},{"command":"remote-containers.settings","group":"9_remote_containers_help@1","when":"remoteName =~ /^(dev|attached)-container$/"},{"command":"remote-containers.reportIssue","group":"9_remote_containers_help@2","when":"remoteName =~ /^(dev|attached)-container$/"},{"command":"remote-containers.provideFeedback","group":"9_remote_containers_help@3","when":"remoteName =~ /^(dev|attached)-container$/"},{"command":"remote-containers.getHelp","group":"9_remote_containers_help@4","when":"remoteName =~ /^(dev|attached)-container$/"}],"view/title":[{"command":"remote-containers.explorerTargetsRefresh","when":"view == targetsContainers","group":"navigation"},{"command":"remote-containers.newContainer","when":"view == targetsContainers","group":"navigation"},{"command":"remote-containers.explorerDetailsRefresh","when":"view == detailsContainers","group":"navigation"},{"command":"remote-containers.attachToContainer","when":"view == detailsContainers","group":"navigation"}],"view/item/context":[{"command":"remote-containers.attachToRunningContainerFromViewlet","when":"view == dockerExplorer && viewItem =~ /^(runningLocalContainerNode)$/"},{"command":"remote-containers.attachToRunningContainerFromViewlet","when":"view == dockerContainers && viewItem =~ /^runningContainer$/i","group":"containers_1_general@2"},{"command":"remote-containers.startAndOpenFolder","when":"view == targetsContainers && viewItem =~ /^(dev|attached)Folder$/","group":"1_folder@1"},{"command":"remote-containers.startAndOpenFolder","when":"view == targetsContainers && viewItem =~ /^(dev|attached)Folder$/","group":"inline@1"},{"command":"remote-containers.removeRecentFolder","when":"view == targetsContainers && viewItem == attachedFolder","group":"2_folder@1"},{"command":"remote-containers.removeRecentFolder","when":"view == targetsContainers && viewItem == attachedFolder","group":"inline@2"},{"command":"workbench.action.closeFolder","when":"view == targetsContainers && viewItem == activeattachedFolder","group":"1_folder@1"},{"command":"remote-containers.reopenLocally","when":"view == targetsContainers && viewItem == activedevFolder","group":"1_folder@1"},{"command":"remote-containers.attachToContainer","when":"view == targetsContainers && viewItem =~ /^(active|running|exited)Container$/","group":"1_container@1"},{"command":"remote-containers.attachToContainer","when":"view == targetsContainers && viewItem =~ /^(active|running|exited)Container$/","group":"inline@1"},{"command":"remote-containers.attachToContainerNewWindow","when":"view == targetsContainers && viewItem =~ /^(active|running|exited)Container$/","group":"1_container@2"},{"command":"remote-containers.stopContainer","when":"view == targetsContainers && viewItem =~ /^(active|running)(Dev|)Container$/","group":"2_container@2"},{"command":"remote-containers.removeContainer","when":"view == targetsContainers && viewItem =~ /^(running|exited)(Dev|)Container$/","group":"2_container@3"},{"command":"remote-containers.rebuildContainer","when":"view == targetsContainers && viewItem == activeDevContainer","group":"2_container@1"},{"command":"remote-containers.removeContainer","when":"view == targetsContainers && viewItem =~ /^(running|exited)(Dev|)Container$/","group":"inline@2"},{"command":"remote-containers.startContainer","when":"view == targetsContainers && viewItem =~ /^exited(Dev|)Container$/","group":"1_container@3"},{"command":"remote-containers.showDetails","when":"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container$/","group":"1_container@4"},{"command":"remote-containers.inspectDockerResource","when":"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container$/","group":"1_container@5"},{"command":"remote-containers.showContainerLog","when":"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container$/","group":"1_container@6"},{"command":"remote-containers.openDevContainerFile","when":"view == detailsContainers && viewItem == devContainer"},{"command":"remote-containers.inspectDockerResource","when":"view == detailsContainers && viewItem =~ /^(image|volume)$/"}],"extension/context":[{"command":"remote-containers.addExtensionToConfig","group":"2_configure","when":"!isBuiltinExtension && !isBuiltInExtension"}]},"languages":[{"id":"jsonc","filenamePatterns":["**/.devcontainer/devcontainer.json","**/.devcontainer.json"]}],"resourceLabelFormatters":[{"scheme":"vscode-remote","authority":"dev-container+*","formatting":{"label":"${path}","separator":"/","tildify":true,"workspaceSuffix":"Dev Container"}},{"scheme":"vscode-remote","authority":"attached-container+*","formatting":{"label":"${path}","separator":"/","tildify":true,"workspaceSuffix":"Container"}}],"views":{"remote":[{"id":"targetsContainers","name":"Containers","group":"targets@2","remoteName":["dev-container","attached-container"]},{"id":"detailsContainers","name":"Details (Containers)","when":"remote-containers:showDetails","group":"details@1","remoteName":["dev-container","attached-container"]}]},"remoteHelp":{"getStarted":"https://aka.ms/vscode-remote/containers/tutorial-sandbox","feedback":"https://aka.ms/vscode-remote/containers/provide-feedback","documentation":"https://aka.ms/vscode-remote/containers","issues":"https://aka.ms/vscode-remote/containers/issues","remoteName":["dev-container","attached-container"]}},"scripts":{"vscode:prepublish":"npm-run-all clean definitions compile-prod","compile":"npm-run-all clean definitions compile-dev","watch":"npm-run-all clean definitions compile-watch","precommit":"node build/gulpfile.hygiene.js","package":"vsce package --yarn","definitions":"npm-run-all definitions-clean definitions-copy","lint":"tslint -p .","compile-prod":"webpack --mode production","compile-dev":"webpack --mode none --info-verbosity verbose","compile-watch":"webpack --mode none --watch --info-verbosity verbose","definitions-clean":"rimraf dist/node_modules/vscode-dev-containers","definitions-copy":"copyfiles --all \\"node_modules/vscode-dev-containers/**/*\\" dist","clean":"rimraf dist built","test":"env TS_NODE_PROJECT=test/core/tsconfig.json mocha -r ts-node/register --exit test/core/**/*.test.ts","test-dev-containers":"env TS_NODE_PROJECT=test/dev-containers/tsconfig.json mocha -r ts-node/register --exit test/dev-containers/**/*.test.ts","copytestconfigsforalpine":"/bin/bash -c \'cd test/configs && for f in *; do if [[ -d $f ]] && [[ $f != *alpine* ]]; then cp -r -T $f $f-alpine ; fi ; done\'"},"devDependencies":{"@types/chai":"^4.2.9","@types/dockerode":"^2.5.20","@types/follow-redirects":"^1.8.0","@types/js-yaml":"^3.12.2","@types/markdown-it":"^0.0.9","@types/mkdirp":"^0.5.2","@types/mocha":"^7.0.1","@types/node":"^12.12.28","@types/pull-stream":"^3.6.0","@types/tv4":"^1.2.29","@types/vscode":"^1.41.0","@types/webpack":"^4.41.6","chai":"4.2.0","copyfiles":"^2.2.0","event-stream":"^4.0.1","gulp":"^4.0.2","gulp-filter":"^6.0.0","husky":"^4.2.3","jsonc":"^2.0.0","mocha":"^7.0.1","mocha-junit-reporter":"^1.23.3","node-pty":"^0.9.0","npm-run-all":"^4.1.5","p-all":"^2.1.0","ts-loader":"^6.2.1","ts-node":"^8.6.2","tslint":"^6.0.0","tv4":"^1.3.0","typescript":"^3.7.5","typescript-formatter":"^7.2.2","vinyl":"^2.2.0","vinyl-fs":"^3.0.3","vsce":"^1.73.0","vscode-nls-dev":"^3.3.1","webpack":"^4.41.6","webpack-cli":"^3.3.11"},"dependencies":{"dockerode":"^3.1.0","follow-redirects":"^1.10.0","js-yaml":"^3.13.1","jsonc-parser":"^2.2.0","markdown-it":"^10.0.0","mkdirp":"^0.5.1","muxrpc":"^6.5.0","pull-stream":"^3.6.14","split-ca":"^1.0.1","stream-to-pull-stream":"^1.7.3","vscode-dev-containers":"https://github.com/microsoft/vscode-dev-containers/releases/download/v0.106.0/vscode-dev-containers-0.106.0.tgz","vscode-extension-telemetry":"^0.1.2","vscode-uri":"^2.1.1"}}')}]));
//# sourceMappingURL=extension.js.map